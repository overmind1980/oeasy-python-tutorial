---
show: step
version: 1.0
enable_checker: true
---

# opencv

## å›å¿†

- ä¸Šæ¬¡æˆ‘ä»¬ç ”ç©¶äº†å½©è‰²å›¾ç‰‡çš„æ•°æ®ç»“æ„	
	- ä¸‰ç»´çŸ©é˜µ
		- é«˜åº¦
		- å®½åº¦
		- BGRä¸‰è‰²å…ƒç»„
- å¯ä»¥è‡ªå·±å®šåˆ¶æŸç§ç‰¹æ®Šçš„å›¾åƒ
- ä¹Ÿå¯ä»¥å¤åˆ¶ç°æœ‰å›¾åƒçš„æŸä¸ªçŸ©é˜µèŒƒå›´
- å¯ä»¥å¯¹çŸ©é˜µè¿›è¡Œè£åˆ‡æ“ä½œå—ï¼Ÿ

### å›¾åƒçš„è£å‰ª
```
import cv2                       
import numpy as np               
image = cv2.imread("/home/shiyanlou/monkey.png")
height,width,_ = image.shape     
new_image = np.zeros((100,60,3),np.uint8)
new_image[:,:] = image[238:338,60:120]
new_image[62:,44:] = (133,211,246)
cv2.imshow("before",new_image)   
key = cv2.waitKey()              
if key & 0xFF == ord("q"):       
    cv2.destroyAllWindows()
```

- è£å‰ªç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231231-1704026658071)

- å¯ä»¥åˆ‡åˆ†ä¹å®«æ ¼å—ï¼Ÿ

### ä¹å®«æ ¼

-  å›¾åƒåˆ‡å‰²é€šç”¨ä»£ç 

```
import cv2                            
import numpy as np                    
image = cv2.imread("/home/shiyanlou/monkey.png")
height,width,_ = image.shape          
cv2.imshow("before",image)            
x_num = 3                             
y_num = 3                             
small_height = int(height/y_num)      
small_width = int(width/x_num)        
for j in range(y_num):                
    for i in range(x_num):            
        new_image = np.zeros((small_height,small_width,3),np.uint8)
        new_image[:] = image[j*small_height:(j+1)*small_height, i*small_width:(i+1)*small_width]
        num = j * x_num + i           
        new_image_name = "i_" + str(num) + ".jpg"
        cv2.imwrite(new_image_name, new_image)
key = cv2.waitKey()                   
if key & 0xFF == ord("q"):            
    cv2.destroyAllWindows()
```

- åˆ‡å‰²ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231231-1704026855934)

### å½©è‰²å›¾åƒ
```
import cv2
import numpy as np
width = 400
height = 300
img = np.zeros ((height, width, 3), np.uint8)
cv2.imshow("img", img)
cv2.waitKey()
cv2.destroyAllWindows()
blue = img.copy()
blue[:,:,0] = 255 #æ‰€æœ‰åƒç´ 0å·é€šé“ï¼Œéƒ½æ˜¯255
green = img.copy()
green[:,:,1] = 255 #æ‰€æœ‰åƒç´ 1å·é€šé“ï¼Œéƒ½æ˜¯255
red = img.copy()
red[:,:,2] = 255 #æ‰€æœ‰åƒç´ 0å·é€šé“ï¼Œéƒ½æ˜¯255
cv2.imshow("blue",blue)
cv2.imshow("green",green)
cv2.imshow("red",red)
cv2.waitKey()
cv2.destroyAllWindows()
```

- æœ€å¼€å§‹çš„æ˜¯é»‘è‰²
- åæ¥åœ¨é»‘è‰²åŸºç¡€ä¸Šå‡ºç°äº†è“ç»¿çº¢è‰²

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231231-1704027120923)

- å¯ä»¥æŠŠè¿™äº›å›¾åƒæ‹¼åˆèµ·æ¥å—ï¼Ÿ

### æ°´å¹³æ‹¼æ¥å›¾åƒ
```
import cv2
import numpy as np
width = 400
height = 300
img = np.zeros ((height, width, 3), np.uint8)
blue = img.copy()
blue[:,:,0] = 255 #æ‰€æœ‰åƒç´ 0å·é€šé“ï¼Œéƒ½æ˜¯255
green = img.copy()
green[:,:,1] = 255 #æ‰€æœ‰åƒç´ 1å·é€šé“ï¼Œéƒ½æ˜¯255
hs = np.hstack((blue,green))
cv2.imshow("hstack",hs)
cv2.waitKey()
cv2.destroyAllWindows()
```

- hstack

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231231-1704027215632)

- å¯ä»¥å‚ç›´æ‹¼åˆå—ï¼Ÿ

### å‚ç›´æ‹¼æ¥å›¾åƒ

```
import cv2
import numpy as np
width = 400
height = 300
img = np.zeros ((height, width, 3), np.uint8)
blue = img.copy()
blue[:,:,0] = 255 #æ‰€æœ‰åƒç´ 0å·é€šé“ï¼Œéƒ½æ˜¯255
green = img.copy()
green[:,:,1] = 255 #æ‰€æœ‰åƒç´ 1å·é€šé“ï¼Œéƒ½æ˜¯255
vs = np.vstack((blue,green))
cv2.imshow("vstack",vs)
cv2.waitKey()
cv2.destroyAllWindows()
```

- vstack

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231231-1704027470426)

- å¯ä»¥å…ˆå¹³è¡Œæ‹¼åˆ
- å†å‚ç›´æ‹¼åˆå—ï¼Ÿ

### çºµæ¨ªç»¼åˆæ‹¼åˆ
```
import cv2
import numpy as np
width = 400
height = 300
black = np.zeros ((height, width, 3), np.uint8)
blue = black.copy()
blue[:,:,0] = 255 #æ‰€æœ‰åƒç´ 0å·é€šé“ï¼Œéƒ½æ˜¯255
green = black.copy()
green[:,:,1] = 255 #æ‰€æœ‰åƒç´ 1å·é€šé“ï¼Œéƒ½æ˜¯255
red = black.copy()
red[:,:,2] = 255 #æ‰€æœ‰åƒç´ 0å·é€šé“ï¼Œéƒ½æ˜¯255
vs1 = np.hstack((blue,green))
vs2 = np.hstack((red,black))
hs = np.vstack((vs1,vs2))
cv2.imshow("hs",hs)
cv2.waitKey()
cv2.destroyAllWindows()
```

- æ‹¼åˆç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231231-1704027669307)

### æ€»ç»“ğŸ¤”
- é¦–å…ˆ
	- æˆ‘ä»¬ç ”ç©¶äº†å›¾åƒçš„è£å‰ª
	- å¯¹äºçŸ©é˜µçš„è£å‰ªå°±æ˜¯å¯¹å›¾åƒçš„è£å‰ª
- ç„¶å
	- æˆ‘ä»¬åˆ‡åˆ†äº†ä¹å®«æ ¼
- æœ€å
	- æ„æˆäº†çº¯è‰²å›¾åƒ
	- å¹¶ä¸”å¯¹äºçº¯è‰²å›¾åƒè¿›è¡Œäº†
		- æ°´å¹³æ‹¼åˆ
		- å‚ç›´æ‹¼åˆ
		- çºµæ¨ªæ‹¼åˆ
- é™¤äº†å¯¹äºåƒç´ ç‚¹ä½ç½®çš„è£å‰ªå’Œæ‹¼åˆä¹‹å¤–
	- å¯ä»¥å¯¹å›¾åƒé€šé“è¿›è¡Œæ‹†åˆ†å’Œæ‹¼åˆå—ï¼ŸğŸ¤”
- æˆ‘ä»¬ä¸‹æ¬¡å†è¯´	ğŸ‘‹
