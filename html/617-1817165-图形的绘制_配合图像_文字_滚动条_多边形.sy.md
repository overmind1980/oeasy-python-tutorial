---
show: step
version: 1.0
enable_checker: true
---

# opencv

## å›å¿†

- ä¸Šæ¬¡æˆ‘ä»¬å­¦ä¹ äº†åŸºæœ¬ç»˜åˆ¶
	- çº¿æ®µ
	- åœ†å½¢
	- çŸ©å½¢
- ä½†æ˜¯èƒ½å¤Ÿå°†å›¾å½¢ç»˜åˆ¶å’Œä¹‹å‰çš„æ¦‚å¿µå…³è”èµ·æ¥å—ï¼Ÿ
	- å›¾åƒ
	- æ»šåŠ¨æ¡
	- æ–‡å­—
- å¦‚ä½•å…³è”å‘¢ï¼ŸğŸ¤”


### æ§åˆ¶åœ†çš„å¤§å°
```
import cv2
import numpy as np
     
def callback(value):
    print(value)
     
cv2.namedWindow('canvas', cv2.WINDOW_NORMAL)
cv2.resizeWindow('canvas', 640, 480)
cv2.createTrackbar('T', 'canvas', 0, 100, callback)
     
while True:
    t = cv2.getTrackbarPos('T', 'canvas')
    canvas = np.zeros((480,640,3), np.uint8)
    canvas = cv2.circle(canvas,(150,150), t,(255,255,0),-1)
    cv2.imshow('canvas', canvas)                                               
     
    key = cv2.waitKey(1)
    if key & 0xFF == ord('q'):
        break
     
cv2.destroyAllWindows()
```

- æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240107-1704596305677)


### çµæ¢¦ä¸å¤ªæå›¾

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231104-1699092642914)

- æœŸå¾…æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240107-1704596689273)

### å…·ä½“ä»£ç 

```
import cv2                           
import numpy as np                   
import math                          
canvas = cv2.imread("/home/shiyanlou/girl.png")
cv2.putText(canvas, "You're DEAD~", (15,237),cv2. FONT_HERSHEY_TRIPLEX,1, (0,0
canvas = cv2.circle(canvas, (120,110),80, (95,82,200), -1) 
canvas = cv2. rectangle(canvas, (40,190), (200,110), (255,255,255), -1) 
canvas = cv2.circle(canvas, (120,110),82, (95,82,200), 3)
canvas = cv2.circle(canvas, (80,110) ,40, (255,255,255) , -1) 
canvas = cv2.circle(canvas, (160,110),40, (95,82,200), -1) 
canvas = cv2.circle(canvas, (79,110),13, (95,82,200), -1) 
canvas = cv2.circle(canvas, (161,110),13, (255,255,255) , -1) 
cv2. imshow("death sentence", canvas)
cv2.waitKey()                        
cv2. destroyAllWindows()             
cv2.imwrite('/home/shiyanlou/shikei.png',canvas)
```

1. å…ˆåœ¨è¿™é‡Œæ¥ä¸ªå’Œçµæ¢¦ï¼ˆå›¾ä¸­å¥³æ€§è§’è‰²ï¼‰è´è¶ç»“ä¸€æ ·é¢œè‰²çš„çº¢è‰²å®å¿ƒåœ†ä½œä¸ºé˜´é˜³ç‰ï¼ˆå³å¤ªæå›¾æ¡ˆï¼‰å¤ªé˜´éƒ¨åˆ†çš„åº•è‰²ï¼›
2. å†åˆ›å»ºä¸€ä¸ªå’ŒèƒŒæ™¯è‰²ç›¸åŒçš„ç™½è‰²å®å¿ƒçŸ©å½¢ï¼Œé®æŒ¡ä½çº¢è‰²å®å¿ƒåœ†çš„ä¸‹åŠéƒ¨åˆ†ï¼Œä½œä¸ºå¤ªé˜³éƒ¨åˆ†çš„åº•è‰²ï¼›
3. ç™½è‰²çŸ©å½¢æŠŠä¸‹é¢åœ†éƒ½æŒ¡ä½äº†ï¼Œæˆ‘ä»¬åªéœ€è¦é‡Œé¢ç™½ï¼Œæ‰€ä»¥åˆ›å»ºä¸€ä¸ªçº¢è‰²ä¸å¡«å……çš„åœ†ç¯ã€‚å› ä¸ºæè¾¹ç²—ç»†ä¸º3ï¼Œæ¯”1å¤§2ï¼Œæ‰€ä»¥ç›´å¾„ä¹Ÿæ‰©å¤§2ï¼Œä¸º82ï¼Œå’Œä¹‹åå†…éƒ¨çš„å®å¿ƒåœ†ç›¸åˆ‡ï¼›
4. åˆ›å»ºé˜³æ˜éƒ¨åˆ†çš„ç™½è‰²å®å¿ƒåœ†ï¼›
5. åˆ›å»ºå¥é˜´éƒ¨åˆ†çš„æœ‰è‰²å®å¿ƒåœ†ï¼›
6. åˆ›å»ºé˜³æ˜éƒ¨åˆ†ä¸­é—´å°‘é˜´çš„å°å®å¿ƒåœ†ï¼›
7. åˆ›å»ºå¥é˜´éƒ¨åˆ†ä¸­é—´å°‘é˜³çš„å°å®å¿ƒåœ†ï¼›

### äº”è§’æ˜Ÿ

```
import cv2
import numpy as np

#åˆ›å»ºé»‘è‰²å›¾åƒ
img = np.zeros((512,512,3), np.uint8)

#ç»˜åˆ¶å¤šè¾¹å½¢
pts = np.array([[50, 190], [380, 420], [255, 50], [120, 420], [450, 190]])
cv2.polylines(img, [pts], True, (0, 255, 255), 10)

#æ˜¾ç¤ºå›¾åƒ
cv2.imshow("ellipse", img)

#ç­‰å¾…æ˜¾ç¤º
cv2.waitKey(0)
cv2.destroyAllWindows()
```

- æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240217-1708177626103)

### äº”è§’æ˜Ÿ

```
import cv2
import random
import numpy as np

frame = np.zeros((500,500,3),np.uint8)
pts = np.array([[70, 190], [222, 190], [280, 61], [330, 190], [467, 190],
                            [358, 260], [392, 380], [280, 308], [138, 380], [195, 260]])
cv2.polylines(frame, [pts], True, (255, 255, 0), 5)
cv2.imshow('Frame', frame)
cv2.waitKey()
cv2.destroyAllWindows()
```

- äº”è§’æ˜Ÿæ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240107-1704596994016)


### æ–‡å­—æ¡†
```
import cv2
import numpy as np
import math
canvas = cv2.imread("/home/shiyanlou/kun1.png")
points = np.array([[50, 100], [50, 200], [100, 200], [100,150],[200, 90],[100,14]])
cv2.fillConvexPoly(canvas, points, (200,200,200),1)
cv2.rectangle(canvas,(50,100),(100,150), (200,200,200),-1)
cv2.putText(canvas,"k",(70,125),cv2.FONT_HERSHEY_DUPLEX,1,(0,0,255),1)
cv2.putText(canvas,"u",(70,150),cv2.FONT_HERSHEY_DUPLEX,1,(0,0,255),1)
cv2.putText(canvas,"n",(70,175),cv2.FONT_HERSHEY_DUPLEX,1,(0,0,255),1)
cv2.imshow("kun",canvas)
cv2.waitKey()
cv2.destroyAllWindows()
cv2.imwrite('/home/shiyanlou/kunkun.png',canvas)
```

- å¤šè¾¹å½¢æ–‡å­—èƒŒæ™¯æ¡†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240107-1704596319315)


### æ€»ç»“ 
- è¿™æ¬¡æ·±å…¥äº†å›¾å½¢ç»˜åˆ¶
	- å›¾åƒ
	- æ»‘åŠ¨æ¡
	- æ–‡å­—
	- å¤šè¾¹å½¢
- å¯ä»¥åˆ¶ä½œæ¸å˜çš„æ•ˆæœå—ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ğŸ‘‹