---
show: step
version: 1.0
enable_checker: true
---

# å®‰è£…ç¯å¢ƒ

## selenium

- è¿™æ¬¡æˆ‘ä»¬ç ”ç©¶selenium
	- è¿™æ˜¯ä¸ªå•¥å‘¢ï¼Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220912-1662988447606)

- selenium 	
	- [sÉ™ËˆliËniÉ™m]
	- ç¡’(åŒ–å­¦å…ƒç´ ï¼Œç”¨äºåˆ¶é€ ç”µæ°”è®¾å¤‡å’Œæœ‰è‰²ç»ç’ƒï¼Œäººä½“ç¼ºæ­¤å…ƒç´ å¯è‡´æŠ‘éƒç­‰ç—…);
- æˆ‘ä»¬å»çœ‹çœ‹æ–‡æ¡£

### å®˜æ–¹æ–‡æ¡£

- http://selenium.dev
- è¿™æ˜¯ä¸ªæµè§ˆå™¨çš„è‡ªåŠ¨åŒ–å·¥å…·
- å¯ä»¥æŠŠæµè§ˆå™¨é‡Œé¢åšçš„å„ç§æ“ä½œå°è£…èµ·æ¥

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220913-1663030859407)

- å…·ä½“æ¥è¯´æœ‰ä¸‰ç§å·¥å…·
	- webé©±åŠ¨
	- ide
	- é›†ç¾¤
- æˆ‘ä»¬å…ˆæ¥çœ‹webé©±åŠ¨

### selenium webdriver

- seleniumå¯ä»¥ç”¨å„ç§è¯­è¨€é©±åŠ¨å¸‚åœºä¸Šä¸»æµçš„å„ç§æµè§ˆå™¨
	- æˆ‘ä»¬é€‰æ‹©pythonä½œä¸ºä¸»è¦çš„è¯­è¨€

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220913-1663031366776)

- é¦–å…ˆè¿˜æ˜¯è¦å®‰è£…åº“

### å®‰è£…

```
pip3 install selenium
```

- å®‰è£…è¿™ä¸ªåŒ…

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220913-1663031315821)

### å®‰è£…æµè§ˆå™¨é©±åŠ¨

- https://pypi.org/project/selenium/

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220913-1663031456239)

- ä¸åŒç³»ç»Ÿä¸Šæœ‰ä¸åŒæµè§ˆå™¨çš„é©±åŠ¨
- æˆ‘ä»¬åˆ†åˆ«æ¥ä»‹ç»ä¸€ä¸‹

## linux çš„ firefox é©±åŠ¨

- https://github.com/mozilla/geckodriver/releases

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220913-1663031729922)

- å¯ä»¥ä¸‹è½½åˆ°~/ä¸‹è½½

### è§£å‹

```
cp ./ä¸‹è½½/geckodriver-v...-linux.tar.gz ~/Code
cd Code
tar xf geckodriver-v...-linux.tar.gz
```

- è§£å‹ä¹‹åå¾—åˆ°geckodriver

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220913-1663031999173)

- ~/Codeå°±æ˜¯æˆ‘ä»¬çš„selenium driverçš„è·¯å¾„
- å¦‚æœæˆ‘ä»¬åœ¨~/Codeä¸‹æ‰§è¡Œpyæ–‡ä»¶
- å°±ä¸ç”¨å†è®¾ç½®è·¯å¾„

### ç¼–å†™ç¨‹åº

```python
from selenium.webdriver.firefox.service import Service
from selenium import webdriver

service = Service(executable_path="/home/shiyanlou/Code/geckodriver")
driver = webdriver.Firefox(service=service)
driver.get("https://lanqiao.cn")
driver.quit()
```

- å¯ä»¥è®©æœ¬åœ°ç«ç‹æµè§ˆå™¨è®¿é—®lanqiao.cn

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220913-1663032402800)

### æ‹·è´åˆ°ç³»ç»Ÿè·¯å¾„

```bash
echo $PATH
sudo cp ./geckodriver /usr/bin
geckodriver
```
- å¯ä»¥è¿è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231027-1698407202899)

- <kbd>ctrl</kbd> + <kbd>c</kbd>
	- ç»“æŸè¿›ç¨‹

### é‡å†™ä»£ç 

- å°è¯•å°†è·¯å¾„ç®€åŒ–

```
from selenium.webdriver.firefox.service import Service
from selenium import webdriver

service = Service(executable_path="geckodriver")
driver = webdriver.Firefox(service=service)
driver.get("https://lanqiao.cn")
driver.quit()
```

- ä¿®æ”¹äº†executable_path
	- å¯ä»¥è¿è¡ŒæˆåŠŸï¼

## mac ç³»ç»Ÿ

- è®¾ç½®safariæµè§ˆå™¨ç¼–å·è®¾ç½®

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220913-1663032615566)

- é«˜çº§é‡Œé¢æ‰¾åˆ°å¼€å‘èœå•

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220913-1663032640931)

### å…è®¸è¿œç¨‹è‡ªåŠ¨åŒ–

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220913-1663032665339)

### ä½¿ç”¨é©±åŠ¨

```
from selenium import webdriver
from time import sleep
driver = webdriver.Safari()  # å¯åŠ¨safari
driver.get('http://baidu.com')  # æ‰“å¼€baidu
sleep(3)
driver.quit()  # å…³æ‰safariè¿›ç¨‹
```

- ç¡®å®å¯ä»¥ä½¿ç”¨

## winç³»ç»Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220913-1663033340485)

- ä¸‹è½½é©±åŠ¨å¹¶è§£å‹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220913-1663033377999)

- è¿™ä¸ªè·¯å¾„ä¸‹å¯ä»¥ç›´æ¥ä½¿ç”¨geckodriver.exe
- æ˜¯å¦å¯ä»¥æŠŠè¿™ä¸ªæ”¾åˆ°windowsçš„ç³»ç»Ÿç›®å½•ä¸­å‘¢ï¼Ÿ

### windowsç³»ç»Ÿç›®å½•

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231226-1703595733692)

- ç¡®å®šä¸“é—¨çš„è·¯å¾„

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231226-1703595753086)

- å°†geckodriver.exe
	- æ”¾åˆ°c:\Windows\system32
- è¿™æ ·å°±å¯ä»¥åœ¨ä»»æ„è·¯å¾„ä¸‹è¿è¡Œgeckodriver.exeäº†

### ç¼–å†™ç¨‹åº

```
from selenium import webdriver
import time

driver = webdriver.Firefox()
driver.get("http://www.baidu.com")
driver.maximize_window()
print("title-----",driver.title.encode().decode("utf-8"))
print(driver.title)
driver.quit()
```

- è®¿é—®æˆåŠŸ

## æ€»ç»“

- è¿™æ¬¡æˆ‘ä»¬äº†è§£äº†selenium
- seleniumæ˜¯ä¸€ä¸ªé©±åŠ¨çœŸå®æµè§ˆå™¨çš„çˆ¬è™«
- æ”¯æŒå„ç§ç³»ç»Ÿã€å¾ˆå¤šç§ä¸»æµæµè§ˆå™¨
- æŠŠæµè§ˆå™¨çš„å„ç§æ“ä½œå°è£…æˆå„ç§è¯­è¨€çš„æ¥å£
- æˆ‘ä»¬ä½¿ç”¨pythonçš„æ¥å£
- å°±å¯ä»¥è®©ä¸€ä¸ªçœŸå®æµè§ˆå™¨å»è®¿é—®ç½‘ç«™
- ä»è€Œå¾—åˆ°çˆ¬å–çš„æ•ˆæœ
- å¯ä»¥çˆ¬ä¸‹æ¥äº›ä»€ä¹ˆå‘¢ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ğŸ‘‹