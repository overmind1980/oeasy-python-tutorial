---
show: step
version: 1.0 
enable_checker: true
---


# python_blender

## å¼€å§‹

- ä¸Šæ¬¡æˆ‘ä»¬ 
	- è®¾ç½®äº† æ¸²æŸ“ å‚æ•°
		- å¤§å°
- ä»¥å‰çš„äººç‰©  æ¸²æŸ“å‡ºæ¥
	- æ²¡æœ‰ç¯å…‰ 
	- æ•ˆæœä¸å¥½
- éœ€è¦æ¥ä¸€ç›ç¯!ğŸ¤”

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240519-1716124022964)

### æ•´åˆ

- è®¾ç½® æ¸²æŸ“åœºæ™¯çš„æ‘„å½±æœº

```
import bpy

bpy.ops.object.select_all(action="SELECT") 
bpy.ops.object.delete() 
bpy.ops.mesh.primitive_uv_sphere_add()
head = bpy.context.object
bpy.context.object.name  = "head"
r_eye = bpy.ops.mesh.primitive_uv_sphere_add()
bpy.context.object.name = "r_eye"
bpy.context.object.location = (0.7, 0.5, 0.3)
bpy.context.object.scale = (0.3, 0.3, 0.3)
mat = bpy.data.materials.new('mat_eye')
color = (0, 0, 0, 1)
mat.diffuse_color = color
bpy.context.object.data.materials.append(mat)
bpy.context.object.parent = head
l_eye = bpy.ops.mesh.primitive_uv_sphere_add()
bpy.context.object.name = "l_eye"
bpy.context.object.location = (0.7, -0.5, 0.3)
bpy.context.object.scale = (0.3, 0.3, 0.3)
bpy.context.object.data.materials.append(mat)
bpy.context.object.parent = head
bpy.ops.mesh.primitive_cone_add()
body = bpy.context.object
body.name  = "body"
body.location = (0,0,-1)
body.scale = (1,1,2)
character = bpy.data.objects.new("character", None)
bpy.data.collections["Collection"].objects.link(character)
head.parent = character
body.parent = character
bpy.ops.mesh.primitive_plane_add(size=20)
bpy.context.object.location = (0,0,-3)

camera = bpy.data.cameras.new('Camera')
camera_obj = bpy.data.objects.new('Camera', camera)
bpy.data.collections["Collection"].objects.link(camera_obj)
camera.lens = 50  # Focal length in millimeters
camera.sensor_width = 36  # Sensor width in millimeters
camera.sensor_height = 24  # Sensor height in millimeters
camera_obj.location = (13.6, 5, 10.5)  # X, Y, Z coordinates
camera_obj.rotation_euler = (-2.233,3.14,-1.047)
bpy.context.scene.camera = camera_obj
bpy.context.scene.render.resolution_x = 640
bpy.context.scene.render.resolution_y = 480
bpy.context.scene.render.resolution_percentage = 50
bpy.context.scene.render.engine = 'CYCLES'
bpy.context.scene.render.filepath = './render2.png'
bpy.ops.render.render(write_still=True)
```

- æ‰§è¡ŒæˆåŠŸ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240519-1716129350232)

- ç°åœ¨æ¥ 
	- æ·»åŠ  å…‰ç…§

### æ‰‹åŠ¨åŠ ç¯

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240528-1716887900852)

- <kbd>shift</kbd> + <kbd>a</kbd>
	- æ·»åŠ ä¸€ç›èšå…‰ç¯
	- spot light

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240528-1716888345607)

### æ‰¾åˆ°ä»£ç 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240528-1716888994806)

- å°†ä»£ç å¤åˆ¶åˆ°æ¸¸ä¹åœº

```
bpy.ops.object.light_add(type='SPOT', radius=1, location=(0, 0, 0))
```

- è¿™ç¯æ€ä¹ˆç…§æ¯”è¾ƒåˆé€‚å‘¢?

### ç¯ç…§æ•ˆæœ

- å…ˆé€‰ä¸­
	- èšå…‰ç¯
	- spot light

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240528-1716890189504)

- å°†æ´»åŠ¨å¯¹è±¡
	- ä¹Ÿå°±æ˜¯èšå…‰ç¯spot light
	- è®¾ç½®ä¸º æ´»è·ƒæ‘„å½±æœº
	- Active Camera
- ç›®æ ‡å°±æ˜¯
	- å°† æ´»åŠ¨æ‘„å½±æœº 
	- å½“ä½œç¯æ¥ç”¨

### æ§åˆ¶è§†è§’

- æ—‹è½¬ è§†è§’
	- ä» ä¾§ä¸Šæ–¹ æ‹æ‘„å¨ƒå¨ƒ
- äºæ˜¯ è¿™ç›èšå…‰ç¯
	- ä» ä¾§ä¸Šæ–¹ ç…§ç€å¨ƒå¨ƒ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240528-1716890168967)

- Align View å¯¹é½è§†å›¾
	- è®¾ç½®æ´»åŠ¨æ‘„å½±æœº å¯¹é½åˆ° å½“å‰è§†å›¾

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240606-1717637101090)

- ä¹Ÿå°±æ˜¯
	- è®¾ç½®èšå…‰ç¯spot light 
	- å¯¹é½ åˆ°å½“å‰è§†å›¾

### æ¸²æŸ“ä¸€å¼ 

- è§‚çœ‹æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240528-1716890570170)

- èšå…‰ç¯ åŠŸç‡ä¸å¤Ÿ

### æå‡åŠŸç‡

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240528-1716890783572)

- æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240528-1716890712316)

- æ‘„å½±æœºè§’åº¦
	- å’Œèšå…‰ç¯è§’åº¦
	- å¤ªè¿‡ä¸€è‡´
	- å…‰å½±æ•ˆæœä¸å¥½
- åŸå› æ˜¯ç°åœ¨èšå…‰ç¯
	- æ—¢å½“èšå…‰ç¯
	- åˆå½“æ‘„å½±æœº

### è®¾ç½®æ‘„å½±æœº

- åœ¨å¤§çº²è§†å›¾é€‰ä¸­æ‘„å½±æœº
	- è®¾ç½®å½“å‰æ´»è·ƒå¯¹è±¡ä¸ºæ‘„å½±æœº
	- å°±æ˜¯è®¾ç½®æ‘„å½±æœºä¸ºæ‘„å½±æœº

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240528-1716891264224)

- ç°åœ¨è¿™ä¸ªçŠ¶æ€è¿˜å¯ä»¥

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240528-1716891337859)

- èšå…‰ç¯åæ ‡

### æ•´åˆä»£ç 

```
import bpy

bpy.ops.object.select_all(action="SELECT") # é€‰æ‹©æ‰€æœ‰ç‰©ä½“
bpy.ops.object.delete() # åˆ é™¤é€‰å®šçš„ç‰©ä½“
bpy.ops.mesh.primitive_uv_sphere_add()
head = bpy.context.object
bpy.context.object.name  = "head"
r_eye = bpy.ops.mesh.primitive_uv_sphere_add()
bpy.context.object.name = "r_eye"
bpy.context.object.location = (0.7, 0.5, 0.3)
bpy.context.object.scale = (0.3, 0.3, 0.3)
mat = bpy.data.materials.new('mat_eye')
color = (0, 0, 0, 1)
mat.diffuse_color = color
bpy.context.object.data.materials.append(mat)
bpy.context.object.parent = head
l_eye = bpy.ops.mesh.primitive_uv_sphere_add()
bpy.context.object.name = "l_eye"
bpy.context.object.location = (0.7, -0.5, 0.3)
bpy.context.object.scale = (0.3, 0.3, 0.3)
bpy.context.object.data.materials.append(mat)
bpy.context.object.parent = head
bpy.ops.mesh.primitive_cone_add()
body = bpy.context.object
body.name  = "body"
body.location = (0,0,-1)
body.scale = (1,1,2)
character = bpy.data.objects.new("character", None)
bpy.data.collections["Collection"].objects.link(character)
head.parent = character
body.parent = character
bpy.ops.mesh.primitive_plane_add(size=20)
bpy.context.object.location = (0,0,-3)

camera = bpy.data.cameras.new('Camera')
camera_obj = bpy.data.objects.new('Camera', camera)
bpy.data.collections["Collection"].objects.link(camera_obj)
camera.lens = 50  # Focal length in millimeters
camera.sensor_width = 36  # Sensor width in millimeters
camera.sensor_height = 24  # Sensor height in millimeters
camera_obj.location = (13.6, 5, 10.5)  # X, Y, Z coordinates
camera_obj.rotation_euler = (-2.233,3.14,-1.047)
bpy.context.scene.camera = camera_obj
bpy.ops.object.light_add(type='SPOT', radius=1)
bpy.context.object.data.energy = 1000
bpy.context.object.location = (6.27,-3.4,2.83)
bpy.context.object.rotation_euler = (1.172,0,0.907)
bpy.context.scene.render.resolution_x = 640
bpy.context.scene.render.resolution_y = 480
bpy.context.scene.render.resolution_percentage = 50


# Set the render engine (e.g., CYCLES, BLENDER_EEVEE)
bpy.context.scene.render.engine = 'CYCLES'
# Set the output file path
bpy.context.scene.render.filepath = './render2.png'
# Render the current view
bpy.ops.render.render(write_still=True)
```

- æœ€ç»ˆæ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240528-1716892588355)

### éœ€è¦æ³¨æ„

- å¦‚æœåå¤ä¸èƒ½æˆåŠŸ
	- å°±æ–°å»ºä¸€ä¸ªblenderå·¥ç¨‹
	- ç„¶åå†è·‘è„šæœ¬

- å¯èƒ½çš„åŸå› æ˜¯
	- Current file é‡Œé¢å·²ç»æœ‰äº†Spot Light èšå…‰ç¯
	- ä½†æ˜¯åæ¥è¢«åˆ é™¤äº†

```
bpy.data.lights["Spot"].energy = 1000
```

- æ–°èšå…‰ç¯ Spot.001 æ²¡æœ‰è®¾ç½®äº®åº¦
	- è®¾ç½®çš„è¿˜æ˜¯è€èšå…‰ç¯çš„äº®åº¦

### æ€»ç»“ ğŸ¤”

- è¿™æ¬¡é€šè¿‡pythonè®¾ç½®äº†èˆå°åŸºæœ¬è¦ç´ 
	- ç¯å…‰
	- ç‰©ä½“
	- æ‘„åƒæœº
- å¹¶ä¸”å°†ç»“æœæ¸²æŸ“ä¸ºä¸€å¼ png
- æœ‰ä»€ä¹ˆä¼˜ç§€ä½œå“å¯ä»¥çœ‹ä¸€ä¸‹å—??ğŸ¤”
- æˆ‘ä»¬ä¸‹æ¬¡å†è¯´ï¼ğŸ‘‹
