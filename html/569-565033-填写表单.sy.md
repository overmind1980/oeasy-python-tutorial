---
show: step
version: 1.0
enable_checker: true
---

# å®‰è£…ç¯å¢ƒ

## å›å¿†

- ä¸Šæ¬¡æˆ‘ä»¬å°è¯•ç”¨seleniumè®¿é—®äº†ä¸€ä¸ªç½‘é¡µ
- åŸç†ä¸Šseleniumå’Œrequestså‘è¯·æ±‚å·®ä¸å¤š
- éƒ½æ˜¯å‘é€è¯·æ±‚
- åªä¸è¿‡requestsæ˜¯ç›´æ¥å‘é€è¯·æ±‚
- seleniumç”¨çœŸå®çš„æµè§ˆå™¨å‘é€è¯·æ±‚
	- å¯ä»¥åŠ¨æ€åŠ è½½ä¸€äº›åå°çš„ä¸€äº›æ•°æ®
- å¾—åˆ°ç½‘é¡µæºæ–‡ä»¶ä¹‹åéƒ½å¯ä»¥xpathè¿›è¡Œç­›é€‰æå–
- ç”¨seleniumè¿˜å¯ä»¥åšä¸€äº›ä»€ä¹ˆæµè§ˆå™¨æ‰èƒ½åšçš„ä¸œè¥¿ä¹ˆï¼Ÿ

### æŸ¥çœ‹æ–‡æ¡£

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220913-1663037765197)

- å¯ä»¥é€šè¿‡seleniumç›´æ¥æ‰¾åˆ°å…ƒç´ 
- ç„¶åè¿›è¡Œä¸€äº›é”®ç›˜è¾“å…¥
- æœ€åç‚¹å‡»æŒ‰é’®

### è§‚å¯Ÿç½‘é¡µ

- https://www.selenium.dev/selenium/web/web-form.html

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231028-1698457562084)

### æ‰¾åˆ°æ–‡æœ¬æ¡†çš„name

- æ‰¾åˆ°æœ‰ä¸€ä¸ªnameä¸ºmy-textçš„inputæ–‡æœ¬æ¡†
	- ç¨åè¦åœ¨è¿™ä¸ªæ–‡æœ¬æ¡†æ¡†é‡Œé¢å†™å­—

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231028-1698457961072)

### æ¨¡æ‹Ÿé”®ç›˜è¾“å…¥

```python
from selenium.webdriver.common.by import By
from selenium.webdriver.firefox.service import Service
from selenium import webdriver
from lxml import etree
import time
service = Service(executable_path="geckodriver")
driver = webdriver.Firefox(service=service)
driver.get("https://www.selenium.dev/selenium/web/web-form.html")
text_box = driver.find_element(by=By.NAME, value="my-text")
text_box.send_keys("Selenium")
time.sleep(5)
driver.quit()
```

- å½•å…¥æˆåŠŸ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220913-1663038159015)

### æ‰¾åˆ°æäº¤æŒ‰é’®æ ‡ç­¾

- æäº¤æŒ‰é’®çš„æ ‡ç­¾æ˜¯button

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231028-1698458339979)

### æ¨¡æ‹ŸæŒ‰é’®ç‚¹å‡»

- ä½¿ç”¨cssçš„é€‰æ‹©å™¨
	- é€‰æ‹©å…ƒç´ button
		- æäº¤è¡¨å•

```python
from selenium.webdriver.common.by import By
from selenium.webdriver.firefox.service import Service
from selenium import webdriver
from lxml import etree
import time
service = Service(executable_path="geckodriver")
driver = webdriver.Firefox(service=service)
driver.get("https://www.selenium.dev/selenium/web/web-form.html")
text_box = driver.find_element(by=By.NAME, value="my-text")
text_box.send_keys("Selenium")
submit_button = driver.find_element(by=By.CSS_SELECTOR, value="button")
submit_button.click()
time.sleep(5)
driver.quit()
```

- ç¡®å®å¯ä»¥æäº¤

### æäº¤ä¹‹åçš„ç»“æœé¡µ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231028-1698459109501)

- æºä»£ç å¦‚ä¸‹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231028-1698459174739)

- æäº¤ä¹‹åå¯ä»¥å¯¹è¿”å›é¡µè¿›è¡Œåˆ¤æ–­ä¹ˆï¼Ÿ

### è¿”å›é¡µåˆ¤æ–­

```python
from selenium.webdriver.common.by import By
from selenium.webdriver.firefox.service import Service
from selenium import webdriver
from lxml import etree
import time
service = Service(executable_path="geckodriver")
driver = webdriver.Firefox(service=service)
driver.get("https://www.selenium.dev/selenium/web/web-form.html")
text_box = driver.find_element(by=By.NAME, value="my-text")
text_box.send_keys("Selenium")
submit_button = driver.find_element(by=By.CSS_SELECTOR, value="button")
submit_button.click()
message = driver.find_element(by=By.ID, value="message")
value = message.text
print(value == "Received!")
time.sleep(5)
driver.quit()
```

- æäº¤ådriverå†å»æŸ¥æ‰¾å…ƒç´ 
- å°±åœ¨æäº¤é¡µé‡Œé¢æŸ¥æ‰¾äº†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220913-1663038434926)

- å¯ä»¥ä¸ç‚¹å‡»æŒ‰é’®
- è€ŒæŒ‰ç…§å›è½¦çš„æ–¹å¼æäº¤ä¹ˆï¼Ÿ

### å›è½¦æäº¤

```python
from selenium.webdriver.common.keys import Keys
from selenium.webdriver.common.by import By
from selenium.webdriver.firefox.service import Service
from selenium import webdriver
from lxml import etree
import time
service = Service(executable_path="geckodriver")
driver = webdriver.Firefox(service=service)
driver.get("https://www.selenium.dev/selenium/web/web-form.html")
text_box = driver.find_element(by=By.NAME, value="my-text")
text_box.send_keys("Selenium")
text_box.send_keys(Keys.ENTER)
time.sleep(0.5)#å»¶è¿Ÿæ—¶é—´ç­‰å¾…å“åº”
message = driver.find_element(by=By.ID, value="message")
value = message.text
print(value == "Received!")
time.sleep(5)
driver.quit()
```

- éœ€è¦å¯¼å…¥ä¸€ä¸ªKeys
- ç¡®å®å¯ä»¥å‘é€å›è½¦åˆ°æ–‡æœ¬æ¡†
- ç„¶åæäº¤
- æˆ‘ä»¬å¯ä»¥é‚£è¿™ä¸€å¥—ç”¨åˆ°ç™¾åº¦ä¸Šä¹ˆï¼Ÿ

### æ‰¾åˆ°ä½ç½®

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220913-1663038765776)

### ç¼–å†™ä»£ç 

```python3
from selenium.webdriver.common.keys import Keys
from selenium.webdriver.common.by import By
from selenium.webdriver.firefox.service import Service
from selenium import webdriver
from lxml import etree
import time
service = Service(executable_path="geckodriver")
driver = webdriver.Firefox(service=service)
driver.get("http://baidu.com")
text_box = driver.find_element(by=By.NAME, value="wd")
text_box.send_keys("Selenium")
text_box.send_keys(Keys.ENTER)
time.sleep(0.5)#å»¶è¿Ÿæ—¶é—´ç­‰å¾…å“åº”
message = driver.title
print(message)
time.sleep(5)
driver.quit()
```

- ç¡®å®å¯ä»¥æœç´¢åˆ°

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220913-1663039045945)

## æ€»ç»“ 
- è¿™æ¬¡ ä½¿ç”¨seleniumæ¨¡æ‹Ÿäº†æµè§ˆå™¨çš„è¡Œä¸º
	- æ¨¡æ‹Ÿäº†å¡«å†™è¡¨å•çš„è¿‡ç¨‹
	- æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥å¡«å†™è¡¨å•
		- å¯ä»¥ å¡«å†™è¡¨å• + åŠ å›è½¦
		- ä¹Ÿå¯ä»¥ å¡«å†™è¡¨å• + ç‚¹å‡»æŒ‰é’®
- selenium å’Œ å…¶ä»–çˆ¬è™«å·¥å…·ç›¸æ¯”
	- å¯ä»¥åˆ©ç”¨deckodriver 
		- é©±åŠ¨firefoxå’Œç½‘é¡µåšå‡º
			- äº¤äº’åŠ¨ä½œ 
			- interaction
- è¿˜æœ‰ä»€ä¹ˆäº¤äº’åŠ¨ä½œå¯ä»¥åšå—ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ğŸ‘‹