---
show: step
version: 1.0 
enable_checker: true
---


# python_éŸ³é¢‘å¤„ç†_midiåˆ¶ä½œ

## å¼€å§‹

- ä¸Šæ¬¡ä»é›¶å¼€å§‹
	- å®‰è£…äº†blenderè½¯ä»¶
	- å¹¶ä¸”äº†è§£äº†ç•Œé¢
	- å¹¶ä¸”åœ¨ç•Œé¢ä¸Šå¯¹ç‰©ä½“è¿›è¡Œäº†æ“ä½œ
- è¿˜æœ‰ä»€ä¹ˆå¯ä»¥ç©çš„å‘¢ï¼ŸğŸ¤”

### å¯åŠ¨blender

- åœ¨shellä¸­å¯åŠ¨blender

```
blender
```

- ç§»åŠ¨å³ä¾§æç¤ºåŒºå®½åº¦
	- é€‰æ‹©Scriptè°ƒæ¿

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240522-1716383112030)

### é¦–å…ˆè§‚å¯Ÿ

```
for obj in bpy.data.objects:
	print(obj)
```

- çœ‹çœ‹ç°åœ¨éƒ½æœ‰äº›ä»€ä¹ˆå¯¹è±¡

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240518-1715997374157)

- å’ŒScene Collection ä¸€æ ·

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240522-1716383142638)

- è®¡åˆ’åˆ é™¤ç«‹æ–¹ä½“

### åˆ é™¤ç«‹æ–¹ä½“

- åœ¨3dè§†å›¾ä¸­
	- é€‰ä¸­ç«‹æ–¹ä½“
	- ç«‹æ–¹ä½“å‡ºç° æ©™è‰²è¾¹ç¼˜
	- å³é”®

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240129-1706527559293)

- æŒ‰ä¸‹<kbd>X</kbd>é”®

### åˆ é™¤ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240129-1706527627095)

- 3Dè§†å›¾ä¸»èˆå°ä¸ŠCubeæ¶ˆå¤±äº†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240129-1706527644355)

- dataé¢æ¿ä¸­
	- cubeå¯¹è±¡æ¶ˆå¤±äº†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240129-1706527741073)

### ä»ä¿¡æ¯è°ƒæ¿åˆ°æ¸¸ä¹åœº

- ä¿¡æ¯é¢æ¿æ˜¾ç¤º
	1. åˆ é™¤å…·ä½“è¯­å¥ 
	2. åˆ é™¤äº†ä¸€ä¸ªå¯¹è±¡
- é€‰æ‹©ç¬¬ä¸€å¥
	- é¼ æ ‡å³é”®
	- é€‰æ‹©æ‹·è´

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240522-1716383420990)

- åˆ°æ¸¸ä¹åœº 
	1. ç²˜è´´ 
	2. æ‰§è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240522-1716383500891)

- åˆ é™¤äº†0ä¸ªå¯¹è±¡
	- å› ä¸ºæ²¡æœ‰é€‰æ‹©

### é€‰æ‹©å¹¶åˆ é™¤

- åœ¨åœºæ™¯è°ƒæ¿ 
	- é€‰ä¸­ æ‘„å½±æœº
- åœ¨ 3dè§†å›¾  
	- æ‘„å½±æœº å‡ºç°æ©™è‰²å¤–è½®å»“

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240522-1716385586165)

- åœ¨pythonè°ƒæ¿ä¸­
	- æŒ‰<kbd>â¬†ï¸</kbd>é”®
	- æ‰¾åˆ°ä¸Šä¸€æ¡å‘½ä»¤
	- å›è½¦æ‰§è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240522-1716385645732)

- å°†æ‘„å½±æœºåˆ é™¤
	- 3dè§†å›¾ ã€ åœºæ™¯è§†å›¾ 
	- éƒ½æ‰¾ä¸åˆ° æ‘„å½±æœº äº†
- é€‰æ‹©äº†ä¹‹å
	- å°±å¯ä»¥ç”¨ä»£ç åˆ é™¤
- å¦‚ä½•ç”¨ä»£ç é€‰æ‹©å‘¢?

### ä»£ç é€‰æ‹©

```
bpy.ops.object.select_all(action="SELECT") # å–æ¶ˆé€‰æ‹©æ‰€æœ‰ç‰©ä½“
bpy.ops.object.delete() # åˆ é™¤é€‰å®šçš„ç‰©ä½“
```

- æ‰§è¡Œä¹‹å

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240522-1716385871777)

- æœ€åçš„ç¯
	- ä¹Ÿè¢«åˆ é™¤äº†

### ä»å¤´å¼€å§‹

- æ–°å»ºæ–‡ä»¶

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240522-1716385912954)

- å¯¹å½“å‰é¡¹ç›®ä¸ä¿å­˜
	- Don't save

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240522-1716385954288)

### ä½¿ç”¨ä»£ç 

```
bpy.ops.object.select_all(action="SELECT") # å–æ¶ˆé€‰æ‹©æ‰€æœ‰ç‰©ä½“
bpy.ops.object.delete() # åˆ é™¤é€‰å®šçš„ç‰©ä½“
```

- ç²˜è´´ä»£ç  åˆ° æ¸¸ä¹åœº
	- å¹¶æ‰§è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240522-1716386012652)

- ä¸€æ¬¡æ€§åˆ é™¤3ä¸ªç‰©ä½“
	- æ¸…åœºæˆåŠŸ
- å¯ä»¥æ·»åŠ ä¸€äº›ç‰©ä½“å—?

### æ–°å»ºå¯¹è±¡

- é€‰ä¸­3Dè§†å›¾ä¸»èˆå°
	1. å·¦æ‰‹å°æ‹‡æŒ‡ å…ˆæŒ‰ä¸‹<kbd>shift</kbd>ä¸æ¾æ‰‹ 
	2. å·¦æ‰‹ å†æŒ‰ä¸‹ <kbd>a</kbd>
	3. åŒæ—¶æ”¾å¼€ ä¸¤ä¸ªæŒ‰é”®
	4. è°ƒå‡ºä¸Šä¸‹æ–‡èœå•

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240129-1706527816278)

- é€‰ä¸­Cubeè¿›è¡Œæ·»åŠ 

### æ·»åŠ ç»“æœ

-  3Dè§†å›¾ä¸»èˆå°ä¸Šå‡ºç°æ–°Cube

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240129-1706527890199)

- dataé¢æ¿ä¸­ å‡ºç° æ–°cubeå¯¹è±¡

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240522-1716386135556)

- æ¶ˆæ¯é¢æ¿ä¸­ï¼Œå‡ºç°å‘½ä»¤

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240522-1716386166504)

### å¤åˆ¶å‘½ä»¤

- é€‰ä¸­å‘½ä»¤
	- å³é”® æ‹·è´ å‘½ä»¤

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240129-1706527982151)

- æ‹·è´ä¹‹å
	- å‘½ä»¤è¿›å…¥å‰ªè´´æ¿

```
bpy.ops.mesh.primitive_cube_add(size=2, enter_editmode=False, location=(0, 0, 0))
```

- åœ¨pythonè°ƒæ¿ä¸­
	- ç²˜è´´å¹¶æ‰§è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240522-1716386278917)

- åœºæ™¯ä¸­å‡ºç°
	- ä¸¤ä¸ªCube

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240522-1716386315487)

- 3dè§†å›¾ä¸­
	- è¿™ä¸¤ä¸ªCubeå®Œå…¨é‡åˆ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240522-1716386342808)

- æƒ³è¦é¿å…å®Œå…¨é‡åˆ
	- éœ€è¦æ§åˆ¶ä½ç½®

### ä¿®æ”¹ä»£ç 

```
bpy.ops.mesh.primitive_cube_add(size=2, enter_editmode=False, location=(0, 0, 3))
```

- å°†åˆå§‹ä½ç½®è®¾ç½®ä¸º(0,0,3)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240522-1716386466390)

- 3dè§†å›¾ä¸­
	- æ–°Cubeç«‹æ–¹ä½“
	- ä¸é‡åˆ
- æ˜¯å¦å¯ä»¥å°†å‡½æ•°ä¸­çš„å‚æ•°æ¸…ç©º?

### æ¸…ç©º

- å…ˆæ¸…ç©ºåœºæ™¯
- åœ¨æ¸…ç©ºå‡½æ•°å‚æ•°

```
bpy.ops.object.select_all(action="SELECT")
bpy.ops.object.delete() 
bpy.ops.mesh.primitive_cube_add()
```

- æ¸…ç©ºåœºæ™¯ä¸­çš„å¯¹è±¡å
	- åœ¨(0,0,0)çš„ä½ç½®ç”Ÿæˆäº†Cube

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240523-1716428157103)

- è¿™æ—¶å€™å†è®¾ç½®Cubeçš„Location

### è®¾ç½®

- è®¾ç½®
	- ä½ç½®
	- æ—‹è½¬
	- ç¼©æ”¾

```
bpy.data.objects["Cube"].location = (1,2,3)
bpy.data.objects["Cube"].rotation_euler = (0.2,0.4,0.6)
bpy.data.objects["Cube"].scale = (1,2,3)
```

- è®¾ç½®æˆåŠŸ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240523-1716428397069)

- è§‚å¯Ÿå±æ€§

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240523-1716428410372)

- è¿™é‡Œé¢ç”¨åˆ°çš„bpyä»€ä¹ˆæ„æ€?

### åˆ†æè„šæœ¬

```
help(bpy)
```

- bpy æ˜¯ä¸€ä¸ª é€šè¿‡pythonæ§åˆ¶blenderçš„module

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240129-1706534681403)

- é‡Œé¢æœ‰ä¸‰ä¸ªå­—æ¨¡å—
	- ops
	- path
	- utils
- æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ops

### bpy.ops

```
help(bpy.ops)
```

- æŸ¥çœ‹å¸®åŠ©

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240129-1706534803090)

- opsåº”è¯¥é‡Œé¢å­˜çš„éƒ½æ˜¯å·¥å…·
	- é€šè¿‡å·¥å…·è¿›è¡Œå„ç§æ“ä½œ
	- operations
- æ‰€ä»¥å«ops

### å†æ¬¡å°è¯•æ·»åŠ 

- é€‰ä¸­3Dè§†å›¾ä¸»èˆå°
	- <kbd>shift</kbd> + <kbd>a</kbd> 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240129-1706527816278)

- åˆ›å»ºä¸€ä¸ª Cylinder åœ†æŸ±ä½“

### åˆ›å»ºè¿‡ç¨‹

- åœ¨ä¿¡æ¯è°ƒæ¿ä¸­
	- é€‰ä¸­ä¿¡æ¯
	- ç²˜è´´åˆ°pythonè°ƒæ¿

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240523-1716428721558)

- å°±åƒprimitive_cube_addä¸€æ ·
	- è¿™é‡Œ æ˜¯  primitive_cylinder_add
	- åº”è¯¥éƒ½æ˜¯ç±»ä¼¼çš„ç»“æ„

```
py.ops.mesh.primitive_cylinder_add(radius=1, depth=2, enter_editmode=False, location=(0, 0, 3))
```

- å¯ä»¥æ‰¾å‡ºå¯¹åº”å…³ç³»å—?

### å°è¯•æ‰¾åˆ°æ‰€æœ‰åˆ›å»ºmeshçš„å‡½æ•°

- å…ˆæŒ‰<kbd>â¬†ï¸</kbd> æ‰¾åˆ°ä¸Šä¸€æ¡å‘½ä»¤
	- å†æŒ‰ <kbd>ctrl</kbd> + <kbd>é€€æ ¼</kbd>
	- æŒ‰å•è¯é€€æ ¼åˆ é™¤

```
py.ops.mesh.
```

- æŒ‰ä¸‹<kbd>tab</kbd>

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240523-1716429008318)

- è¿™éƒ½ä»€ä¹ˆæ„æ€å‘¢?

### ç½‘æ ¼å¯¹è±¡

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240523-1716429071760)

- æ·»åŠ çš„å½¢çŠ¶éƒ½æœ‰å¯¹åº”å…³ç³»

| English | ä¸­æ–‡ |
| --- |---|
| Plane | çŸ©å½¢å¹³é¢ |
| Cube | æ­£ç«‹æ–¹ä½“ |
| Circle | åœ†å½¢å¹³é¢ |
| Ico Sphere | å¤šé¢ä½“ |
| Cylinder | åœ†æŸ±ä½“ |
| Cone | åœ†é”¥ä½“ |
| Torus | åœ†ç¯ |
| Grid | ç½‘æ ¼ |
| Monkey | çŒ´å­ |

- å¥½åƒå¯ä»¥åŠ ä¸ªçŒ´å­?

### æ’å…¥ä¸€ä¸ªçŒ´

```
bpy.ops.object.select_all(action="SELECT") 
bpy.ops.object.delete() 
bpy.ops.mesh.primitive_monkey_add()

```

|é”®é¼ é…åˆ | æ“ä½œ| æ•ˆæœ |
| --- |--- |---|
|<kbd>é¼ æ ‡ä¸­é”®</kbd>| æ»šåŠ¨  | é•œå¤´æ¨æ‹‰ |
| <kbd> é¼ æ ‡ä¸­é”®</kbd>  |æŒ‰ä½æ‹–åŠ¨ | é•œå¤´æ—‹è½¬ |
| shift + <kbd> é¼ æ ‡ä¸­é”®</kbd> | ç‚¹å‡»æ‹–åŠ¨ | é•œå¤´å¹³ç§» |

- æ—‹è½¬æ‘„å½±æœº

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240523-1716429182258)

- ç¡®å®æ˜¯ä¸ªçŒ´
- å‡½æ•°é‡Œé¢æœ‰ä»€ä¹ˆå‚æ•°å‘¢?


### å‚æ•°å«ä¹‰

```
bpy.ops.mesh.primitive_monkey_add(

```

- æŒ‰ä¸‹<kbd>tab</kbd> è§‚å¯Ÿå‚æ•°

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240523-1716430806848)

- å‚æ•°å«ä¹‰

|å‚æ•°|å«ä¹‰|
|---|---|
|size=2|å°ºå¯¸|
|calc_uvs=True| è®¡ç®—uvé¢|
|enter_editmode=False| è¿›å…¥ç¼–è¾‘æ¨¡å¼ |
|align='WORLD'| å¯¹é½æ–¹å¼|
| location=(0, 0, 0) | æ‰€åœ¨ä½ç½® |
| rotation=(0, 0, 0) | æ—‹è½¬è§’åº¦ |

- çŒ´åˆ›å»ºä¹‹å
	- è¿˜èƒ½å†ç§»åŠ¨å—?

### å°è¯•ç§»åŠ¨

- é€‰ä¸­çŒ´å­
	- <kbd>shift</kbd>+<kbd>ç©ºæ ¼</kbd>

- è¿˜æ˜¯ä¸‰ç§é¢œè‰² 
	- æ²¿ç€ <span style="color:red">çº¢</span><span style="color:green">ç»¿</span><span style="color:blue">è“</span> ä¸‰ä¸ªåæ ‡è½´ç§»åŠ¨
	- åˆ†åˆ«å¯¹åº”ç€ <span style="color:red">x</span><span style="color:green">y</span><span style="color:blue">z</span> ä¸‰ä¸ªç§»åŠ¨è½´

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240129-1706536301874)

- å¯ä»¥ç§»åŠ¨ä»–çš„ä½ç½®
- å¯ä»¥ç”¨ä»£ç ç§»åŠ¨å—?

### ç§»åŠ¨çŒ´å­

```
bpy.data.objects["Suzanne"].location = (1,2,3)
bpy.data.objects["Suzanne"].rotation_euler = (0.2,0.4,0.6)
bpy.data.objects["Suzanne"].scale = (1,1,1.5)
```

- æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240523-1716431263877)

- å‚æ•°

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240523-1716431277370)

- ä¸ºå•¥ä¼šæœ‰åªçŒ´å‘¢?

### çŒ´å­æ¥æº

- æ¥è‡ªäºç”µå½±
	- ç”¨äºæµ‹è¯•

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240523-1716431307142)

- è¿˜æœ‰ä»€ä¹ˆç±»ä¼¼çš„æ¨¡å‹å—?

### æ–¯å¦ç¦å…”å­

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240523-1716431333477)

### çŠ¹ä»–èŒ¶å£¶

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240523-1716431353769)


### æ€»ç»“
- è¿™æ¬¡ äº†è§£äº†
	- blenderèƒŒåçš„æœºåˆ¶
- è¡¨é¢ä¸Š
	- æ·»åŠ å¯¹è±¡ã€åˆ é™¤å¯¹è±¡ã€ä¿®æ”¹å¯¹è±¡
- æœ¬è´¨ä¸Š éƒ½æ˜¯åœ¨åé¢ 
	- æ§åˆ¶å° å»è°ƒç”¨ ä¸€äº›å‡½æ•° å®Œæˆçš„
- ä¹Ÿå¯ä»¥ç›´æ¥ 
	- è°ƒç”¨å‡½æ•°å®ŒæˆåŠŸèƒ½
- è°ƒç”¨å‡½æ•°æ—¶
	- ä¸ä½¿ç”¨å‚æ•°ä¹Ÿå¯ä»¥
	- å‡½æ•°ä¼šä½¿ç”¨é»˜è®¤çš„å‡½æ•°å‚æ•° 
- å¯ä»¥æ‹¿è¿™äº›Meshå¯¹è±¡æ’é˜Ÿå¸ƒé˜µå—ï¼ŸğŸ¤”
- æˆ‘ä»¬ä¸‹æ¬¡å†è¯´ï¼ğŸ‘‹
