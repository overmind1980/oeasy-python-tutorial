---
show: step
version: 1.0
enable_checker: true
---

# è‡ªå®šä¹‰æ¨¡å—æ–‡æ¡£(pydoc)

## å›å¿†

- ä¸Šæ¬¡ç ”ç©¶äº†æ–‡æ¡£
- æ¨¡å—æœ¬èº«æœ‰ä¸‰ç§å¯¹è±¡
	- æ¨¡å—
	- å˜é‡
	- å‡½æ•°

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220805-1659653112081)

- å¯ä»¥ç”¨ä¸‰å¼•å·æ¥å†™æ–‡æ¡£
- æ–‡æ¡£è¢«å†™åœ¨`__doc__`è¿™ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å±æ€§é‡Œé¢
- å¯ä»¥ç”¨helpå’Œç½‘é¡µçš„æ–¹å¼æŸ¥çœ‹
- æ¨¡å—çš„ä½ç½®ä½äº/usr/lib/python3.8/ç­‰ç›®å½•ä¸‹é¢
- åˆ°åº•å“ªäº›è·¯å¾„æ˜¯pythonç±»åº“çš„è·¯å¾„å‘¢ï¼Ÿ

### ç±»åº“ç›®å½•

```
import sys
print(sys.path)
```

- æ‰§è¡Œç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240303-1709460058294)

### å…·ä½“è§‚å¯Ÿ

- è¿™äº›æ–‡ä»¶è¢«å¯¼å…¥çš„æ—¶å€™
	- ä¼šå…ˆè¢«ç¼–è¯‘ä¸ºpycæ–‡ä»¶
	- ä¹Ÿå°±æ˜¯pythonè™šæ‹Ÿæœº
	- ç›´æ¥å¯è¿è¡Œçš„æŒ‡ä»¤æ–‡ä»¶

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220802-1659406503674)

- ç„¶åæ”¾åœ¨ `/usr/lib/python3.8/__pycache__` è¿™ä¸ªç›®å½•é‡Œé¢

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220802-1659406516100)

### ä»¥æ¨¡å—æ–¹å¼è¿è¡Œ

- ä»¥m(odule) çš„æ–¹å¼è¿è¡Œ distro

```
python3 -m distro
```

- ç»“æœçœ‹èµ·æ¥
	- è¾“å‡ºäº†å½“å‰ç³»ç»Ÿçš„
	- å‘è¡Œç‰ˆç»†èŠ‚
	- distro(bution)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240303-1709467856139)

- è¿™distroæ¨¡å— åœ¨å“ªå‘¢ï¼Ÿ

### å¼•å…¥æ–°åŒ…

```
import distro
print(distro)
print(id(distro))
print(type(distro))
```

- è¿è¡Œç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240303-1709468047125)

- è¿™è·¯å¾„åœ¨sys.pathä¸­å—ï¼Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240303-1709468106967)

- è·¯å¾„åœ¨
	- ç³»ç»Ÿçš„pythonè·¯å¾„ä¸‹
- å¯ä»¥æ‰“å¼€è¿™ä¸ª distro.pyçœ‹çœ‹å˜›ï¼Ÿ

### distro

```
vi /usr/lib/python3/dist-packages/distro.py
```

- çœ‹èµ·æ¥æœ‰æ¯”è¾ƒ æ˜ç¡®çš„æ³¨é‡Š

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240303-1709468264945)

- è¿™ä¸ªdistro.pyæ˜¯å¦‚ä½•æ‰§è¡Œçš„å‘¢ï¼Ÿ

### æŸ¥æ‰¾ `__main__`

- `/ __main__`
	- æŸ¥æ‰¾ `__main__`

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240303-1709468443412)

- æ‰¾åˆ°1215ä¸­
	- æ¡ä»¶åˆ¤æ–­
	- å¦‚æœ å½“å‰çš„æ¨¡å— æ˜¯ä¸»æ¨¡å— 
	- å°±è°ƒç”¨ main()

- åœ¨main()ä¸Š ä¾æ¬¡æŒ‰ä¸‹
	- <kbd>g</kbd><kbd>d</kbd>
	- go to definition

### è·³è½¬

- è·³è½¬åˆ°mainå‡½æ•°å®šä¹‰çš„ä½ç½®
	- é€šè¿‡è¿™ä¸ªå‡½æ•° 
	- å¯ä»¥å¾—åˆ°å½“å‰ç³»ç»Ÿçš„å‘è¡Œç‰ˆ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240303-1709468609659)

- è¿™ä¸ªç›®å½•ä¸‹é¢é™¤äº†
	- distro.py
	- è¿˜æœ‰ä»€ä¹ˆå‘¢ï¼Ÿ

### è§‚å¯Ÿæ–‡ä»¶

- ä¹Ÿæœ‰ä¸å°‘çš„pythonæ–‡ä»¶

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220805-1659670864640)

- é‚£ä¹ˆpythonçš„ç±»åº“ç›®å½•è‡³å°‘å°±æœ‰ä¸¤ä¸ªäº†
- ç±»åº“ç›®å½•åˆ—è¡¨æ€ä¹ˆæŸ¥è¯¢æ¥ç€ï¼Ÿ

### sys.path

- è¿™ä¸ªå˜é‡é‡Œé¢å­˜çš„å°±æ˜¯ç³»ç»Ÿ(system)çš„è·¯å¾„(path)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220805-1659671085792)

- è¿™ä¸ªå¯¹è±¡æ˜¯ä¸€ä¸ªåˆ—è¡¨
	- åˆ—è¡¨ä¸­å°±æ˜¯
		- æŸ¥æ‰¾ç±»åº“çš„è·¯å¾„
		- ä¹Ÿå¯ä»¥æ˜¯zipåŒ…
- å¦‚æœå°†å˜é‡æ¸…ç©ºäº†ä¼šå¦‚ä½•ï¼Ÿï¼Ÿï¼Ÿ

### æ¸…ç©ºç±»åº“è·¯å¾„

- æ¸…ç©ºç±»åº“è·¯å¾„åˆ—è¡¨
	- å°±æ— æ³•å¼•å…¥ä»»ä½•æ¨¡å—äº†
	- å› ä¸ºæ‰¾ä¸åˆ°äº†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220805-1659683216671)

- å¦‚ä½•ç†è§£sys.path?

### å¯¼å…¥æ¨¡å—(module)è¿‡ç¨‹

- https://docs.python.org/3/library/sys_path_init.html

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240303-1709469122738)

- é¢å¯¹ä¸€ä¸ªéœ€è¦å¯¼å…¥çš„æ¨¡å—çš„åå­—
	1. å…ˆæŸ¥æ‰¾è¿™ä¸ªæ¨¡å—æ˜¯å¦æ˜¯å†…ç½®æ¨¡å—
	2. å»sys.pathä¸­å»æŸ¥æ‰¾

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220805-1659683767015)


- é‚£sys.pathä¸­çš„è·¯å¾„æ¥è‡ªäºä»€ä¹ˆå‘¢ï¼Ÿ
	1. éœ€è¦ç”¨pythonè¿è¡Œçš„ç›®å½•
	2. ç³»ç»Ÿç¯å¢ƒå˜é‡$PYTHONPATH
	3. é»˜è®¤çš„ä¸€ç³»åˆ—ç±»åº“ç›®å½•
- æˆ‘ä»¬å»è¯•è¯•

### è®¾ç½®ç±»åº“

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220805-1659684249050)

- æƒ³å¼•ç”¨ä¸€ä¸ªo2z.py
- ä½†æ˜¯æ‰¾ä¸åˆ°

### å†™ä¸€ä¸ª

```
echo "print(\"i am o2z\")" > ~/Code/o2z.py
```

- å°†"print(\"i am o2z\")" è¾“å‡ºé‡å®šå‘
	- å½•å…¥ã€€o2z.py

```
export  PYTHONPATH=/home/shiyanlou/Code
```

- å°† ç³»ç»Ÿå˜é‡PYTHONPATH 
	- è®¾ç½®ä¸º/home/shiyanlou/Code
	- è¿™æ · oeasy.py å°±å¯ä»¥
	- æ‰¾åˆ° o2z
	- å¹¶ä¸” import o2z äº†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220805-1659684288264)

- è®¾ç½®è·¯å¾„å
- åœ¨oeasy.pyä¸­
	- æˆåŠŸå¼•ç”¨o2z.py
- é‚£ æˆ‘èƒ½è¦†ç›–åŸæ¥çš„ç±»åº“ ä¹ˆï¼Ÿ

### è¦†ç›–åŸå§‹ç±»åº“

- pythonä¼šåœ¨åˆ—è¡¨è·¯å¾„ä¸­ä¾æ¬¡å¯»æ‰¾ç›¸å…³æ¨¡å—
	- ä¸€æ—¦æ‰¾åˆ°äº†åé¢å°±ä¸æ‰¾äº†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240303-1709469676325)

- å¦‚æœçº¢è‰²è·¯å¾„ä¸­
	- æ‰¾åˆ°random.py
	- å°±ä¸ä¼šå»è“è‰²è·¯å¾„ä¸­æŸ¥æ‰¾äº†
	- éšæœºå‡½æ•°ä¹Ÿå°±ä¸éšæœºäº†ï¼Ÿï¼

### å°è¯•

```
print("this is oeasy's random.py")
def randint():
    print("in oeasy random.randint")
    return 0
```

- æ„é€ random.py

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240303-1709469856094)

- ä¿å­˜ä¹‹å è¿›å…¥æ¸¸ä¹åœº

### å€’å…¥ random

```
import random
random.randint()
```

- å¯¼å…¥çš„æ—¶å€™
	- æé†’æˆ‘ä»¬è¿›å…¥äº† è‡ªå·±çš„random.py

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240303-1709469980795)

- éšæœºå‡½æ•°å°±ä¸éšæœºäº†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220805-1659685385869)

### æ€»ç»“
- è¿™æ¬¡ç ”ç©¶äº†pythonç±»åº“çš„æ¥æº
	- ç³»ç»Ÿå†…ç½®
	- ç±»åº“ç›®å½•
- æŠŠpyç¨‹åºæ”¾åˆ°pythonç±»åº“åˆ—è¡¨ä¸­
	- pyç¨‹åºå°±æˆä¸€ä¸ªç±»åº“åŒ…
		- å¯ä»¥ç›´æ¥è¿è¡Œæ­¤ç¨‹åº
		- ä¹Ÿå¯ä»¥ä½œä¸ºç±»åº“å¯¼å…¥æ¬¡ç¨‹åº

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240303-1709470125926)

- é‚£æˆ‘æ€ä¹ˆçŸ¥é“ å½“å‰çš„pyæ–‡ä»¶
	- æ˜¯ å¼•å…¥çš„æ¨¡å—
	- è¿˜æ˜¯ ä¸»æ§çš„ç¨‹åº å‘¢ğŸ¤”
- æˆ‘ä»¬ä¸‹æ¬¡å†è¯´ğŸ‘‹
