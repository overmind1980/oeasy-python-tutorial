---
show: step
version: 1.0
enable_checker: true
---

# åµŒå¥—è°ƒç”¨

## å›å¿†

- ä¸Šæ¬¡å®Œæˆäº†å½©è‰²æ¾æ ‘çš„æ˜¾ç¤º
- ä½¿ç”¨è¡¨é©±åŠ¨è®¾ç½®é¢œè‰²ä¸è‰²å½©ä»£ç çš„å­—å…¸
- ä½¿ç”¨é»˜è®¤å‚æ•°ç¡®ä¿åŸæ¥åªæœ‰ä¸€ä¸ªå‚æ•°çš„è°ƒç”¨ä»ç„¶å¥½ä½¿
- ä½†æ˜¯å§‹ç»ˆè¦ä¿®æ”¹æºä»£ç æ‰èƒ½æ‰“å°å‡ºæ¾æ ‘
- å¯ä»¥åˆ©ç”¨å‘½ä»¤è¡Œçš„å‚æ•°(arguement)ä¹ˆï¼Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220810-1660118877706)

### ä¸Šæ¬¡ä»£ç 
```
def draw_pine(n=5,color="white"):
    draw_pine_head(n,color)
    draw_pine_body()

def draw_pine_head(n,color="white"):
    print(color)
    print("\33["+d_colors[color]+"m",end="")
    draw_pine_triangle()
    draw_pine_triangle()
    print("\33[0m",end="")

def draw_pine_triangle():
    for i in range(6):
        for j in range(6-i):
            print(" ",end="",sep="")
        for k in range(2*i+1):
            print("*",end="",sep="")
        print()


def draw_pine_body():
    for i in range(5):
        for j in range(5):
            print(" ",end="",sep="")
        for k in range(3):
            print("*",end="",sep="")
        print()
    for i in range(6):
        for j in range(6-i):
            print(" ",end="",sep=",")

if __name__ == '__main__':
    d_colors = {"green":"32","yellow":"33","white":"0"}
    draw_pine()
```

### å‘½ä»¤è¡Œå‚æ•°

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220809-1660009638241)

- æŸ¥æ‰¾å¸®åŠ©
- é¦–å…ˆè¦å¯¼å…¥sysæ¨¡å—
- ç„¶åå¯¹äºä¸»ç¨‹åºè¿›è¡Œä¿®æ”¹

### ä¸»ç¨‹åº

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220809-1660009912328)

- ç¡®å®å¯ä»¥è¿è¡Œå¤„å¾ˆå¥½çš„æ•ˆæœ
- ä¸è¿‡æˆ‘æƒ³è®©å‚æ•°å«ä¹‰æ›´æ˜ç¡®ä¸€ç‚¹

### argparse

- argparseåˆ†æˆä¸¤å—
	- arguement shellç»™çš„å®å‚
	- parse è¯­æ³•åˆ†æ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220809-1660010289660)

### ä¿®æ”¹ä»£ç 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220809-1660010672519)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220809-1660010684130)

- æˆ‘ä»¬å»å‘½ä»¤è¡Œè¯•è¯•

### å‘½ä»¤è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220809-1660010788515)

- æœ‰å¸®åŠ©
- å‚æ•°æ˜ç¡®
- ç”šè‡³è¿˜æœ‰ç±»å‹æ£€æŸ¥
- å°è¯•å’Œæˆ‘ä»¬çš„ç”»æ¾æ ‘å¯¹æ¥

### æŸ¥çœ‹å¸®åŠ©

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220809-1660016317412)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220809-1660016368025)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220809-1660016376594)

- æ‰¾åˆ°å¯¹æ¥æ–¹å¼
	- å­—å…¸

### å°è¯•å¯¹æ¥

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220809-1660016508083)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220809-1660016518981)

- è°ƒæ•´æ¬¡åº

### è°ƒæ•´æ¬¡åº

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220809-1660016713045)

- è¿™æ ·å¯ä»¥æé«˜ç¨‹åºçš„å¯è¯»æ€§
	- Readablity Counts
- ç›´æ¥æ— å‘½ä»¤è¡Œå‚æ•°è°ƒç”¨å¯ä»¥ä¹ˆï¼Ÿ

### ç›´æ¥è°ƒç”¨

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220809-1660016991332)

- ç›´æ¥è°ƒç”¨æ˜¯å¯ä»¥çš„
- å› ä¸ºæœ‰é»˜è®¤å‚æ•°

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220809-1660017023087)

- é‡åˆ°äº†å­—å…¸é‡Œæ²¡æœ‰çš„é¢œè‰²
- æ€ä¹ˆåŠï¼Ÿ

### é—®é¢˜

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220809-1660016778391)

- è¿™ä¸ª"blue"å­—å…¸é‡Œé¢æ²¡æœ‰

### æŸ¥è¯¢æ–‡æ¡£

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220809-1660017336412)

- å¯ä»¥é™åˆ¶å‘½ä»¤è¡Œå‚æ•°çš„é€‰é¡¹(choices)
- choices
	- å¯ä»¥æ˜¯åˆ—è¡¨
	- ä¹Ÿå¯ä»¥æ˜¯é›†åˆ
	- æˆ–è€…å…¶ä»–å®¹å™¨ç±»å‹

### åŠ¨æ‰‹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220809-1660017683692)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220809-1660017691689)

- ç¡®å®å¯ä»¥
- æ•´æ•°numå¯ä»¥é™åˆ¶è¾“å…¥èŒƒå›´ä¹ˆï¼Ÿ

### intå‹å‚æ•°çš„choices

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220809-1660017777205)

### ä¿®æ”¹ä»£ç 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220809-1660017852701)

- æˆåŠŸçº¦æŸèŒƒå›´

```
import argparse
def draw_pine(n=5,color="white"):
    draw_pine_head(n,color)
    draw_pine_body()

def draw_pine_head(n,color="white"):
    print(color)
    print("\33["+d_colors[color]+"m",end="")
    draw_pine_triangle()
    draw_pine_triangle()
    print("\33[0m",end="")

def draw_pine_triangle():
    for i in range(6):
        for j in range(6-i):
            print(" ",end="",sep="")
        for k in range(2*i+1):
            print("*",end="",sep="")
        print()


def draw_pine_body():
    for i in range(5):
        for j in range(5):
            print(" ",end="",sep="")
        for k in range(3):
            print("*",end="",sep="")
        print()
    for i in range(6):
        for j in range(6-i):
            print(" ",end="",sep=",")

if __name__ == '__main__':
    d_colors = {"green":"32","yellow":"33","white":"0"}
    parser = argparse.ArgumentParser(
        prog='pine',
        description='Show pine on screen')
    parser.add_argument("-num", "-n", type=int, default=5, choices=range(2,10))
    parser.add_argument("-color","-c", type=str, default="white", choices=d_colors.keys())
    args = parser.parse_args()
    print(type(args),args)
    print(type(vars(args)),vars(args))
    color = vars(args)["color"]
    num = vars(args)["num"]
    draw_pine(num,color)
```

### å°è£…æˆå‡½æ•°

- æŠŠå–å¾—å‘½ä»¤è¡Œå‚æ•°çš„è¿‡ç¨‹å°è£…æˆä¸ºä¸€ä¸ªå‡½æ•°
- æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªå…ƒç»„ç±»å‹
	- ç»è¿‡è§£åŒ…(unpacking)çš„è¿‡ç¨‹
	- èµ‹ç»™ä¸¤ä¸ªå˜é‡

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220809-1660034927379)

- è¿™æ ·æˆ‘ä»¬ä¸»å‡½æ•°é‡Œé¢å°±åªæœ‰3å¥è¯äº†
	- å®šä¹‰é¢œè‰²å­—å…¸
	- ä»å‘½ä»¤è¡Œå¾—åˆ°ç›¸å…³å‚æ•°
	- è¿›è¡Œå±å¹•è¾“å‡º

### æ€»ç»“ 
- æˆ‘ä»¬è¿™æ¬¡å­¦ä¹ äº†argparseè¿™ä¸ªåŒ…(module)
	- è¿™ä¸ªåŒ…å¯ä»¥æ¥å—ä¸€äº›å‘½ä»¤è¡Œä¼ è¿‡æ¥çš„å‚æ•°
	- å¯ä»¥ç¼–å†™å‘½ä»¤å¸®åŠ©
	- å¯ä»¥å®šåˆ¶å‚æ•°åç§°å’Œç¼©å†™
	- è¿˜å¯ä»¥å¯¹äºå‚æ•°è®¾ç½®
		- ç±»å‹
		- é»˜è®¤å€¼
		- å¯é€‰é¡¹
- æˆ‘ä»¬æœ€ç»ˆæŠŠå‚æ•°è¾“å…¥å°è£…æˆäº†ä¸€ä¸ªå‡½æ•°
	- è¿™æ ·ä¸»å‡½æ•°çœ‹èµ·æ¥å°±æ¸…çˆ½å¤šäº†
		- æ€»å…±å°±3è¡Œ
		- æ¯è¡Œå¹²ä»€ä¹ˆå¾ˆæ¸…æ™°
- get_argumentå‡½æ•°ä¸­
	- å¯¹äºå‚æ•°æœ‰æ˜ç¡®è¦æ±‚
		- ç±»å‹
		- é»˜è®¤å€¼
		- é€‰é¡¹
- ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆè¾ƒçœŸä¸¥æ ¼å‘¢ï¼ŸğŸ¤”
- æˆ‘ä»¬ä¸‹æ¬¡å†è¯´ğŸ‘‹