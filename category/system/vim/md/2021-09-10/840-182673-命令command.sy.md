---
show: step
version: 1.0
enable_checker: true
---

# å‘½ä»¤ command

## å›å¿†

- å…³äº å‡½æ•°`function`
	- å¯ä»¥è°ƒç”¨åˆ«çš„å‡½æ•°
		- `:call append(0,"oeasy o2z o3z")`
	- è¿˜å¯ä»¥æ‰§è¡Œè¡¨è¾¾å¼
	    - `:call execute(gg=G)`
- è¿™æ ·å°±å¯ä»¥æŠŠä¸€ç³»åˆ—çš„æ“ä½œå°è£…åˆ°ä¸€ä¸ªå‡½æ•°é‡Œé¢
    - ç„¶ååœ¨å‘½ä»¤è¡Œæ¨¡å¼è°ƒç”¨å°±å¯ä»¥äº†
    - ä½†å¦‚æœæˆ‘æƒ³ä¸ç”¨`:call Init()"
    - è€Œæ˜¯åƒ`:ls`ä¸€æ ·æ‰§è¡Œ`:init`ï¼Œå¯èƒ½ä¹ˆï¼ŸğŸ¤”

### å‘½ä»¤åˆ—è¡¨
- `ls` æ˜¯ä¸€ä¸ª å‘½ä»¤`command`
- æˆ‘ä»¬å¯ä»¥ `:command` æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·å®šä¹‰çš„å‘½ä»¤
- ä¹Ÿå¯ä»¥ `:command TOhtml` æŸ¥è¯¢æŒ‡å®šçš„å‘½ä»¤
	- è¿™ä¸ªå‘½ä»¤å¯ä»¥æŒ‰ç…§å½“å‰çš„é¢œè‰²æ¨¡å¼æŠŠæ–‡ä»¶è¾“å‡ºæˆhtmlæ–‡ä»¶

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210801-1627796439440)

### è‡ªå®šä¹‰å‘½ä»¤command
- `:command DeleteFirst 1delete`
	- `:command` è‡ªå®šä¹‰å‘½ä»¤command
	- è‡ªå®šä¹‰å‘½ä»¤ å«åš - `DeleteFirst` 
	- è‡ªå®šä¹‰å‘½ä»¤DeleteFirst å¯¹åº”çš„æ“ä½œ - `1delete` åˆ é™¤ç¬¬1è¡Œ
- æ‰§è¡Œå‘½ä»¤
	- `:DeleteFirst`
	- æ‰§è¡ŒæˆåŠŸ
	- ç¬¬ä¸€è¡Œè¢«åˆ æ‰

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210801-1627797060452)

### å†å®šä¸€ä¸ªå‘½ä»¤command
- `:command Delete5Lines .,+5delete`
	- å°è¯•ä»å½“å‰è¡Œå¼€å§‹åˆ é™¤5è¡Œ
- `:Delete5Lines`
	- å¯ä»¥è°ƒç”¨ä½†æ˜¯æ€»å…±åˆ é™¤6è¡Œ
- `:command! Delete5Lines .,+4delete`
	- ä½¿ç”¨!é‡æ–°å®šä¹‰å‘½ä»¤command
- `:Delete5Lines`
	- æ‰§è¡ŒæˆåŠŸ

### æ¢å¤é€‰åŒºå‘½ä»¤
- `:normal '<v'>`
	- ç”¨ `normal` æ¨¡ å¼æ‰§è¡Œåç»­å‘½ä»¤
	- `'<` è·³åˆ°åŸé€‰åŒºå¼€å¤´
	- `v` è¿›å…¥å­—ç¬¦å¯è§†åŒ–
	- `'>` è·³åˆ°åŸé€‰åŒºç»“å°¾
- `command RestoreSelection normal '<v'><cr>`
	- command å®šä¹‰å‘½ä»¤
	- RestoreSelection å‘½ä»¤åç§°
	- normal '<v'><cr>
		- normal æ¨¡å¼ä¸‹æ‰§è¡Œå‘½ä»¤
		- <cr> å›è½¦
- å°è¯•æ¢å¤é€‰åŒº
	- `:RestoreSelection`

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210807-1628335051867)

### ç”¨å‘½ä»¤æ‰§è¡Œå‡½æ•°

- `:call Init()`
    - è°ƒç”¨å‡½æ•°	
	- æ³¨æ„ä¸€å®šæ˜¯åœ¨javaæ–‡ä»¶ä¸­å®šä¹‰è¿™ä¸ªå‘½ä»¤
	- å› ä¸ºè¿™ä¸ªå‡½æ•°æ”¾åœ¨äº†javaçš„ftpluginä¸­

- `:command Init :call Init()`
	- å‘½ä»¤å®šä¹‰

- `:Init`
	- æ‰§è¡Œå‘½ä»¤
- `:command Init`
	- è§‚å¯Ÿå‘½ä»¤
	- è¿™äº›å‘½ä»¤å’Œåˆ é™¤å¾ˆç±»ä¼¼
	- éƒ½æ²¡æœ‰å‚æ•°
	
![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210801-1627797402691)


- å…¶å®åº”è¯¥å®šä¹‰çš„æ—¶å€™æ›´åŠ æ˜ç¡®å‘½ä»¤å‚æ•°

### æ˜ç¡®å‚æ•°
- `:h command`
 
![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210801-1627797731872)
- æ˜ç¡®æŒ‡å®š0ä¸ªå‚æ•°
	- `:command! -nargs=0 DeleteFirst 1delete`
	- `:command! -nargs=0 Delete5Lines .,+4delete`
- é‚£å¦‚æœæœ‰ä¸ªå‘½ä»¤æ˜¯ä¸€ä¸ªå‚æ•°çš„æ€ä¹ˆåŠå‘¢ï¼Ÿ

### ä¸€ä¸ªå‚æ•°

- `:command -nargs=1 Say :echo "<args>"`
	- commandå®šä¹‰ä¸€ä¸ªå‘½ä»¤
	- åªæœ‰ä¸€ä¸ªå‚æ•°
	- ä½œç”¨æ˜¯æŠŠSayåé¢çš„å‚æ•°echoå‡ºæ¥

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210801-1627798562784)

### å‘½ä»¤æ‰§è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210801-1627798848239)

- `:Say oeasy say easy`
	- åé¢çš„ä¸‰ä¸ªå•è¯ä½œä¸ºä¸€ä¸ªå‚æ•°
- æƒ³åœ¨å­—ç¬¦ä¸²é‡Œé¢ä½¿ç”¨å¼•å·çš„è¯
	- éœ€è¦è¿›è¡Œè½¬ä¹‰

### å¤šä¸ªå‚æ•°è°ƒç”¨å‡½æ•°

- å®šä¹‰å‡½æ•°

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210801-1627803257931)

- å®éªŒå‡½æ•°
	- `:call Oeasy("oeasy","o2z","o3z")`
	- æˆåŠŸï¼Œå‡½æ•°æ²¡æœ‰é—®é¢˜
- å®šä¹‰å‘½ä»¤
	- `:command -nargs=* Oeasy :call Oeasy(<args>)`
	- å‘½ä»¤Oeasyæ‰§è¡Œå‡½æ•°Oeasy
- æ‰§è¡Œå‘½ä»¤
	- `:Oeasy "111","222","333"`
	- æ‰§è¡Œå‘½ä»¤æˆåŠŸ
- ä½†æ˜¯ä¸èƒ½æ‰§è¡Œ
	- `:Oeasy 111,222,333`
- é‡æ–°å®šä¹‰å‘½ä»¤
	- `:command! -nargs=* Oeasy :call Oeasy(<q-args>)`
	- Oeasy aaa bbb ccc
	- æ‰§è¡Œå‘½ä»¤æˆåŠŸ


- æ‰§è¡Œå‘½ä»¤

### å‘½ä»¤èŒƒå›´range

- `:h command`
- `/range`

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210801-1627799345398)

- `:command -range SaveIt :<line1>,<line2>write! save_file`

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210801-1627799505465)



### åˆ é™¤å’Œæ¸…ç©ºå‘½ä»¤

- `:delcommand SaveIt`
	- åˆ é™¤å‘½ä»¤
- `:comclear`
	- æ¸…ç©ºå‘½ä»¤
- æˆ‘ä»¬æœ€åæ€»ç»“ä¸€ä¸‹å§


## æ€»ç»“

- æˆ‘ä»¬å¯ä»¥è‡ªå·±å®šä¹‰å‘½ä»¤command
- ä¹Ÿå¯ä»¥æ‰§è¡Œè‡ªå®šä¹‰çš„å‘½ä»¤
- å¯ä»¥ä¿®æ”¹åˆ é™¤å‘½ä»¤
- å‘½ä»¤å¯ä»¥å¸¦ä¸Š
	- å‚æ•° 
	- èŒƒå›´
- é™¤äº†è‡ªå®šä¹‰å‘½ä»¤ä¹‹å¤–
- ç³»ç»Ÿä¹Ÿæœ‰ä¸€äº›built-inçš„å‘½ä»¤
- ç³»ç»Ÿæœ‰ä»€ä¹ˆå¥½ç©çš„å‘½ä»¤ä¹ˆï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ï¼



