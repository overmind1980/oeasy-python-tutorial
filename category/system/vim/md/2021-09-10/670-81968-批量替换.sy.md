---
show: step
version: 1.0
enable_checker: true
---

# æ‰¹é‡æ›¿æ¢

## å›å¿†ä¸Šæ¬¡

- æˆ‘ä»¬å¯ä»¥ç”¨vimdiffå¿«é€Ÿçš„æ¯”è¾ƒæ–‡ä»¶
- è¿™å¾ˆå®ç”¨ï¼ï¼ï¼
- å®ç”¨çš„ä¸€äº›è·³è½¬æ–¹å¼
- éå†æ‰€æœ‰çš„ä¿®æ”¹change
	-  `]c` ä¸‹ä¸€æ¡ä¿®æ”¹
	-  `[c` ä¸Šä¸€æ¡ä¿®æ”¹
- éå†æ‰€æœ‰çš„å‡½æ•°method
	-  `]m` ä¸‹ä¸€æ¡ä¿®æ”¹
	-  `[m` ä¸Šä¸€æ¡ä¿®æ”¹
-  é¢å¯¹ä¸åŒç‚¹
	- ä¿®æ”¹å½“å‰çš„  - do - diff obtain
	- ä¿®æ”¹å¯¹è¡¨é¢çš„ - dp - diff put
- å…³äºå¤šçª—å£
- è¿˜æœ‰ä»€ä¹ˆå¥½ç©çš„å—ï¼ŸğŸ¤”

### å›å¿†åŒæ—¶æ‰“å¼€2ä¸ªæ–‡ä»¶æ‰§è¡Œwindo

- `vi -o o1 o2`
- `:windo normal I oeasy`
	- `windo` æ‰€æœ‰çª—å£éƒ½æ‰§è¡Œ
	- `normal` è¿›å…¥æ™®é€šæ¨¡å¼
	- `I oeasy` æ’å…¥`oeasy`
- `:windo normal o`
	- `windo` æ‰€æœ‰çª—å£éƒ½æ‰§è¡Œ
	- `normal` è¿›å…¥æ™®é€šæ¨¡å¼
	- `o` æ¢è¡Œ
- `:windo normal "%p`
	- `windo` æ‰€æœ‰çª—å£éƒ½æ‰§è¡Œ
	- `normal` è¿›å…¥æ™®é€šæ¨¡å¼
	- `"%p` ç²˜è´´å„è‡ªæ–‡ä»¶å
	
### æ‰¹é‡æ›¿æ¢

- `:windo %s/oeasy/o2z/g`
	- `windo` æ‰€æœ‰`window`çª—å£éƒ½è¿›è¡Œ
	- `%s/oeasy/o2z/g` æŠŠ `oeasy` æ›¿æ¢ä¸º `o2z`
	- ç„¶åå¯ä»¥`:wqall` å…¨éƒ¨ä¿å­˜

### æ‰¹é‡ç»†èŠ‚

- å¯ä»¥è®¾ç½®`range`ï¼Œè¿™ä¸ªæŒ‡çš„æ˜¯`window`ç¼–å·
	- `:1,3windo normal Ioeasy`
- å¯ä»¥æ‰§è¡Œæ‰¹å¤„ç†åºåˆ—,ç”¨`|`éš”å¼€å„ä¸ªå‘½ä»¤
	- `:windo %s/oeasy/o2z/gï½œ %s/o2z/o3z/g`
	- è¿™æ ·å°±å¯ä»¥æ‰§è¡Œä¸¤æ¡æ›¿æ¢å‘½ä»¤äº†
	- `:windo set nolist nofoldcolumn | colorscheme blue  `

### bufdo

- é™¤äº†`windo`
- æˆ‘ä»¬è¿˜å¯ä»¥å¯¹æ¯ä¸€ä¸ª`buffer`æ‰§è¡Œå‘½ä»¤
	- `:bufdo %s/oeasy/o2z/gï½œ %s/o2z/o3z/g`
	- å¯ä»¥è®¾ç½® autowrite è‡ªåŠ¨ä¿å­˜
	- ä¹Ÿå¯ä»¥è®¾ç½® hidden æ”¯æŒæœªä¿®æ”¹bufferéšè—
	- è¿˜å¯ä»¥ `:bufdo %s/oeasy/o2z/gï½œ %s/o2z/o3z/g|update` è‡ªåŠ¨æ›´æ–°
- å¯`:ls`ã€`:buffers` æŸ¥çœ‹å½“å‰çš„`buffers`åˆ—è¡¨
- `:bd1`ã€`:bd o2z.txt`Â å¯åˆ é™¤`buffers`
- `e .`å¯æ‰“å¼€æ–°çš„`buffer`ç¼“å†²
- å¯ä»¥ç”¨`:b1`é€‰æ‹©ç¼“å­˜

### argdo

- æˆ‘ä»¬è¿˜æœ‰ä¸€ç§æ‰¹é‡æ‰§è¡Œå‘½ä»¤çš„æ–¹å¼
- `:argdo %s/oeasy/o2z/gï½œ %s/o2z/o3z/g`
- æ‰“å¼€.cæ–‡ä»¶,è®¾ç½®æ–‡ä»¶æ ¼å¼å¹¶æ›´æ–°
	-  `:args *.c`                              
	-  `:argdo set ff=unix | update  `
- æ‰“å¼€`.c`æˆ–`.h`æ–‡ä»¶ï¼Œæ‰¹é‡æ›¿æ¢å¹¶æ›´æ–°
	-  `:args *.[ch]     `                     
	-  `:argdo %s/\<my_foo\>/My_Foo/ge | update    `
-  å¯ä»¥ç”¨`:args`æŸ¥çœ‹ç›¸åº”çš„å‚æ•°åˆ—è¡¨
-  å¯ä»¥ç”¨`:argd`åˆ é™¤å‚æ•°
-  å¯ä»¥ç”¨`:arga`æ·»åŠ å‚æ•°

### æŠŠç½‘é¡µæ–‡ä»¶æ‰¹é‡æ›¿æ¢mdæ–‡ä»¶
- `vi **/*.html`
	- æŠŠ2çº§ç›®å½•ä¸‹æ‰€æœ‰htmlç”¨vimæ‰“å¼€
- `:args`
	- è§‚å¯Ÿæ‰€æœ‰å‚æ•°
- `:argdo %s/<img src=\"\(.\{-}\)\" title=\"\(.\{-}\)\" \/>/[!\2]\1 | update`
	- æ›¿æ¢imgæ ‡ç­¾
- `:argdo %s/<a href=\"\(.\{-\})\">\(.\{-\}\)<\/a>/[\2]\1/g | update`
	- æ›¿æ¢aæ ‡ç­¾
- `:%s/<h1>\(.*\)</h1>/- \1/gc`
	- æ›¿æ¢h1æ ‡ç­¾
- `:%s/<h2>\(.*\)</h2>/		- \1/g`
	- æ›¿æ¢h2æ ‡ç­¾

### ä¹‹å‰zs
- æŠŠ `oeasy.org` æ›¿æ¢ä¸º `oeasy.io`
- ä½†æ˜¯ `vim.org` ä¸æ›¿æ¢

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210808-1628414344861)

- `/oeasy\zs.org`
	- `oeasy` å¼€å¤´çš„ `.org`
- `:%s/oeasy\zs.org/.io/g`
	- å‰é¢æ˜¯` oeasy `çš„ `.org `æ¢æˆ `.io`
- `:%s/\<o.*\zs.org/.io/g`
	- ä»¥ `o` ä¸ºå•è¯å¼€å¤´çš„ `.org` éƒ½æ›¿æ¢

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210808-1628414699850)

- `:argdo %s/\<o.*\zs.org/.io/g | update`
	- å¯¹æ‰€æœ‰çš„argumentså‚æ•°
	- æ‰§è¡Œå…¨æ–‡æ‰¹é‡æ›¿æ¢
	- å¹¶ä¸”æ›´æ–°

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210808-1628414850364)

- `/^\s*\zsif`
	- å¼€å¤´åªæœ‰ç©ºæ ¼å’Œtabçš„if
- `/\(.\{-}\zsFab\)\{3}`
	- ç¬¬ä¸‰ä¸ª `Fab`

### ä¹‹åze

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210808-1628415453485)

- `end\ze\(if\|for\)`
	- `endif` å’Œ `endfor` ä¸­çš„ `end`

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210808-1628415522096)

- `\<o.*\ze\.o.g`
	- ä»¥ `o` å¼€å¤´çš„
	- åé¢è·Ÿ `o` ä»€ä¹ˆ `g` çš„
- `:bufdo %s/\<o.*\ze\.o.g/ooo/g`
	- æŠŠä»¥ `o` å¼€å¤´çš„ã€åé¢è·Ÿ `o` ä»€ä¹ˆ `g` çš„å•è¯éƒ½æ¢æˆ `ooo`
	- å¯¹äºæ‰€æœ‰çš„ `buffers`
	- å…¨æ–‡æ›¿æ¢ 

## æ€»ç»“
- è¿™æ¬¡æœ‰ä¸‰ç§æ‰¹é‡æ›¿æ¢ï¼Œåˆ†åˆ«æ˜¯
	- `:windo`
	- `:bufdo`
	- `:argdo`
	- æ‰§è¡Œçš„`{cmd}`å¯ä»¥ç”¨`ï½œ`æŒ‰é¡ºåºå¢åŠ 
- åˆ†åˆ«å¯¹åº”çš„
	- `windows`
	- `buffers`
	- `arguments`
- ä»¥ä»€ä¹ˆå¼€å§‹ã€ç»“æŸçš„æ¨¡å¼
	- `zs`
	- `ze`
- å„æœ‰å„è‡ªçš„åˆ—è¡¨ã€åˆ‡æ¢ã€åˆ é™¤å¢åŠ çš„æ–¹å¼
- å…³äº `window` çª—å£å®¹å™¨
	- æˆ‘ä»¬åˆ‡å¾—è¶Šç»†
	- å¯ç”¨çš„èŒƒå›´è¶Šå°
	- æ€»å…± `80*24` çš„å±å¹•èµ„æºå¾ˆå¿«å°±ç”¨å®Œäº†
- æˆ‘åˆæƒ³å¤šçº¿ç¨‹è®¿é—®
- åˆæƒ³æœ‰è¶³å¤Ÿçš„å±å¹•æ¥ç¼–è¾‘
- é‚£æ€ä¹ˆåŠå‘¢ï¼ŸğŸ¤”
- é™¤äº†è¿™äº›ä¹‹å¤–è¿˜æœ‰å®¹å™¨å—ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ ğŸ‘‹






