---
show: step
version: 1.0
enable_checker: true
---

# æ–‡ä»¶ç±»å‹

## å›å¿†ä¸ŠèŠ‚è¯¾å†…å®¹ğŸ¤”

- ä¸Šæ¬¡äº†è§£äº†ç¼©è¿›çš„å„ç§æ–¹å¼
- æ­£å¸¸æ¨¡å¼ä¸‹ç”¨`<<`ç¼©è¿›
- æ’å…¥æ¨¡å¼ä¸‹ç”¨`tab`ç¼©è¿›
- æ˜¾ç¤ºç¼©è¿›æƒ…å†µ`:set listchars=eol:$,tab:>-,space:_`
- æœ‰å…³äºç¼©è¿›å¯¹åº”ç©ºæ ¼æ•°çš„å‚æ•°
    - expandtab
    - shiftwidth
    - tabstop
    - softtabstop
    - autoindent
- ç®€å†™ä¸º`:set et sw=4 ts=4 sts=4 ai`
- ä¸åŒçš„æ–‡ä»¶ç±»å‹å¯ä»¥å¯¹åº”ä¸åŒçš„ç¼©è¿›é•¿åº¦å—ï¼Ÿï¼ŸğŸ¤”

### æ£€æµ‹æ–‡ä»¶ç±»å‹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20200930-1601437263429)

- é¦–å…ˆéœ€è¦æ£€æµ‹æ–‡ä»¶ç±»å‹
- `:filetype`å¯ä»¥è®¾ç½®å½“å‰æ–‡ä»¶ç±»å‹æ£€æµ‹ä¿¡æ¯
- `:filetype on` æ‰“å¼€æ—¶å¯ä»¥æ£€æµ‹æ–‡ä»¶æ‰©å±•å
- `:filetype off` æ‰“å¼€æ—¶å–æ¶ˆæ£€æµ‹æ–‡ä»¶æ‰©å±•å
- å¦‚æœæ˜¯`.c`ï¼Œå¹¶ä¸”`:filetype on` å°±å¯ä»¥æ£€æµ‹æ–‡ä»¶ç±»å‹ä¸º`.c`
- `:set filetype` ç»“æœæ˜¯ `filetype=c`
- ä½†æ˜¯å¦‚ä½•å•ç‹¬è®¾ç½®`.c`æ–‡ä»¶ç¼©è¿›ä¸º`8`å‘¢ï¼Ÿ

### ç¼©è¿›æ–‡ä»¶è®¾ç½®

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20200930-1601438792635)

- å•ç‹¬è®¾ç½®`.c`æ–‡ä»¶ç±»å‹çš„ç¼©è¿›çš„è¯
- éœ€è¦æ‰“å¼€æ–‡ä»¶ç±»å‹ç¼©è¿›çš„å¼€å…³
- `:filetype indent on`
- ç„¶åæ‰¾åˆ°ç›¸åº”çš„é…ç½®æ–‡ä»¶
- é…ç½®æ–‡ä»¶çš„ä½ç½®åœ¨ `/usr/share/vim/vim74/indent/`
- `c`å¯¹åº”`c.vim`
- `java`å¯¹åº”`java.vim`
- `html`å¯¹åº”`html.vim`
- æ‰¾åˆ°äº†`/usr/share/vim/vim74/indent/c.vim`å°±å¯ä»¥è®¾ç½®
- åœ¨æœ€ååŠ ä¸Š`:set et sw=8 ts=8 sts=8 ai`
- ç„¶åé€€å‡ºå¹¶é‡æ–°æ‰“å¼€ `demo.c` å†<kbd>g</kbd><kbd>g</kbd><kbd>=</kbd><kbd>G</kbd> å°±å¯ä»¥æŒ‰ç…§æ–°è®¾ç½®çš„`c.vim`è®¾ç½®æ¥é‡æ–°æ§åˆ¶ç¼©è¿›äº†

### æ›´æ”¹æ–‡ä»¶ç±»å‹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20200930-1601438943963)

- æˆ‘ä»¬æ‰“å¼€`demo.c`æ—¶,ç³»ç»Ÿä¼šæ£€æµ‹ä»–çš„æ–‡ä»¶ç±»å‹
- ä½†æ˜¯å¦‚æœæˆ‘ä»¬ç¡¬è¦è¯´ä»–æ˜¯ä¸€ä¸ª`java`æ–‡ä»¶ä¼šå¦‚ä½•å‘¢ï¼ŸğŸ¤ª
- `:set filetype=java`
- æ–‡ä»¶å¯¹äº`include`ä¹‹ç±»çš„è¯­æ³•é«˜äº®æ¶ˆå¤±äº†
- <kbd>g</kbd><kbd>g</kbd><kbd>=</kbd><kbd>G</kbd>è®©æ–‡ä»¶ç¼©è¿›çš„æ•°é‡å˜å›äº†4
- è¿™äº›é«˜äº®æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼ŸğŸ¤”


### è¯­æ³•é«˜äº®

```shell
#æ‰¾å‡ºæ‰€æœ‰çš„java.vimæ–‡ä»¶
sudo find / -name "java.vim" ã€€
```
![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20200930-1601439368435)

- åœ¨`indent`ä¸‹çš„`java.vim`è´Ÿè´£ç¼©è¿›
- åœ¨`syntax`ä¸‹çš„`java.vim`è´Ÿè´£è¯­æ³•é«˜äº®ä¹‹ç±»çš„
- åœ¨`ftplugin`ä¸‹çš„`java.vim`è´Ÿè´£FileTypePlugin é’ˆå¯¹`javaæ–‡ä»¶ç±»å‹`çš„æ’ä»¶
- `:syntax on` å¯ä»¥è®¾ç½®å…³é”®è¯é«˜äº®

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20200930-1601439571997)


## æ€»ç»“
- æ ¹æ®æ‰©å±•åæˆ‘ä»¬å¯ä»¥è®¾ç½®æŸäº›ç‰¹å®šç±»å‹æ–‡ä»¶çš„é…ç½®
- åœ¨`html.vim`ä¸­è®¾ç½®åªé’ˆå¯¹`html`æ–‡ä»¶çš„ç¼©è¿›ã€é…è‰²ã€è¯­æ³•é«˜äº®ã€è¡Œå·ã€çŠ¶æ€æ ç­‰ã€‚
- `:filetype plugin indent on`è®©ä¸‰é¡¹éƒ½ç”Ÿæ•ˆ
- è¿˜æœ‰ä»€ä¹ˆå¥½ç©çš„å—ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ ğŸ‘‹






