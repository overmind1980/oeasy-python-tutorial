---
show: step
version: 1.0
enable_checker: true
---

# è·¨æ¨¡å—å¼•ç”¨å˜é‡

## å›å¿†

- ä¸Šæ¬¡æˆ‘ä»¬ç ”ç©¶äº†å‡½æ•°ä½œä¸ºå‚æ•°
- å‡½æ•°æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡
	- æ˜¯ä¸€ä¸ªcallableçš„å¯¹è±¡
	- ä¹Ÿæœ‰ç±»å‹ã€åœ°å€

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220827-1661589899134)

- æˆ‘ä»¬æŠŠå‡½æ•°ä½œä¸ºå®å‚ä¼ è¿›å»ä¹‹å
- å¯ä»¥å‡½æ•°ä¸­å®Œæˆè°ƒç”¨
- è¿™æŸç§ç¨‹åº¦å®ç°äº†æŠ½è±¡
- å…·ä½“åšä»€ä¹ˆæ“ä½œæ˜¯ç”±å‡½æ•°å‚æ•°å†³å®š
- æˆ‘å¯ä»¥è®¿é—®åˆ«çš„æ¨¡å—çš„å‚æ•°ä¹ˆğŸ¤”

### è¯•ç€å¼•ç”¨

- main.py

```python3
import my_module
print(a)
```

- my_module.py

```python3
global a
a = oeasy
```

- è¿è¡Œ main.py

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240303-1709471810167)

- ä¸èƒ½ç›´æ¥æ‰¾åˆ°a

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240303-1709471847125)

- my_moduleæ¨¡å—å†…
	- å…¨å±€å¯è§çš„å˜é‡a
	- å³ä½¿å£°æ˜äº†global
	- åœ¨main.pyä¸­ä¹Ÿä¸å¯è§
- é‚£æ€ä¹ˆæ‰èƒ½çœ‹è§è¿™ä¸ªaå˜é‡å‘¢ï¼Ÿ

### å…¨å±€
![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240303-1709471947901)

- åªè¦è¯´æ¸…æ¥šaæ˜¯å“ªé‡Œçš„aå°±å¯ä»¥äº†
- aæ˜¯my_moduleæ¨¡å—é‡Œé¢çš„a

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240303-1709471966341)

- å¦‚æœaæ˜¯åœ¨å‡½æ•°é‡Œå£°æ˜çš„globalå˜é‡
- åœ¨main.pyé‡Œé¢å¯ä»¥è®¿é—®ä¹ˆï¼Ÿ

### è·¨æ–‡ä»¶å¼•ç”¨

- å‡½æ•°funä¸­
	- å£°æ˜äº†a ä¸º 
	- globalå…¨å±€ç±»å‹ 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240303-1709472042493)

- åœ¨main.pyä¸­è¿˜æ˜¯æ‰¾ä¸åˆ°
- è¿˜æ˜¯å¾—åœ¨ä¸»ç¨‹åºéƒ¨åˆ†å®šä¹‰å˜é‡

### dir

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240303-1709472454911)

- ç¡®å®å¯ä»¥é€šè¿‡åå­—ç©ºé—´æ¥è®¿é—®my_moduleçš„å˜é‡a

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240303-1709472517310)

- å¦‚æœæˆ‘å¯¼å…¥ä¸¤ä¸ªæ¨¡å—å‘¢ï¼Ÿ
- é‡Œé¢éƒ½æœ‰å˜é‡a

### åˆ†åˆ«å¯¼å…¥

- my_module_2.py

```
a = "o2z"
```

- 2ä¸ªæ–‡ä»¶åˆ†åˆ«å¯¼å…¥

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240303-1709472725992)

- 2ä¸ªaåˆ†åˆ«å±äº2ä¸ªä¸åŒçš„æ¨¡å—
- è¿™æ ·ä¹Ÿå°±å¯ä»¥ç”¨åå­—ç©ºé—´(namespace)åŒºåˆ†ä¸åŒçš„å˜é‡æ¥æº

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240303-1709472760152)

- å¯¼å…¥çš„æ¨¡å—ä¹Ÿå¯ä»¥é€šè¿‡inspectè§‚å¯Ÿä¹ˆï¼Ÿ

### è§‚å¯Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661139738711)

- å°è¯•ä¸€ä¸‹

### è¾“å‡º

```python3
import my_module
import inspect
members = inspect.getmembers(my_module)
for element in members:
    print(element)
```

- å°è¯•è¿è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240303-1709472942383)

### ç»“æœ

- å¯ä»¥æ‰¾åˆ°

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240303-1709473020323)

- è¿™æ ·ç¡®å®å¯ä»¥è§‚å¯Ÿåˆ°æ¨¡å—çš„ä¸€äº›ä¿¡æ¯
	-  `__doc__ ` æ–‡æ¡£æ‰‹å†Œä¿¡æ¯
	-  `__file__ ` æ–‡ä»¶æ¥æº
	-  ç”šè‡³anoterhæ¨¡å—çš„å…¨å±€(global)å˜é‡i
- ä½¿ç”¨æ¨¡å—åå­—ç©ºé—´(namespace)æœ‰ä»€ä¹ˆæ„ä¹‰å‘¢

### åå­—ç©ºé—´çš„æ„ä¹‰

- å¸®åŠ©æ–‡ä»¶ä¸­

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220803-1659531052836)

- ç”¨åå­—ç©ºé—´
- åŒºåˆ†ä¸åŒçš„å‡½æ•°æ¥æº
- å¦‚æœç”¨from ... import...å‘¢

### from ... import...

```python3
from my_module import a
from my_module_2 import a
print(a)
```

- è¿è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240303-1709473266193)

- æ‰§è¡Œç»“æœæ˜¯o2z
- è¿™å¦‚ä½•ç†è§£å‘¢ï¼Ÿ

### æ’è½¦(local name crash)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220810-1660099644559)

- è§£å†³æ–¹å¼ 
	- from ... import ... as ...
- å°è¯•ä¿®æ”¹ ä»£ç  
	- èƒ½å°†ä¸¤ä¸ªaåˆ†åˆ«è¾“å‡º

### æ€»ç»“

- è¿™æ¬¡æˆ‘ä»¬ç ”ç©¶äº†æ–‡ä»¶æ¨¡å—(module)
	- ä¸åŒçš„æ¨¡å—æœ‰å„è‡ªçš„å…¨å±€(global)å˜é‡å­—å…¸
- import Aä¹‹å
	- å¯ä»¥ç”¨A.aå¼•ç”¨Aæ¨¡å—å†…çš„å…¨å±€(global)å˜é‡
	- ä¹Ÿå¯ä»¥å¼•å…¥(import)åˆ«çš„æ¨¡å—çš„å…¨å±€(global)å˜é‡
	- å½¼æ­¤ä¸ä¼šäº’ç›¸å½±å“
- å¦‚æœéƒ½ä½¿ç”¨from A import aè¿™ç§æ¨¡å¼
	- å¯èƒ½aä¼šè¢«å…¶ä»–çš„æ¨¡å—ä¸­aè¦†ç›–
	- è¿™æœ‰ç‚¹å±é™©
- å„ç§æ•°æ®æ¥è‡ªä¸åŒçš„åå­—ç©ºé—´
	- time
	- math
	- oeasy
	- `__builtins__`
- å·²ç»æœ‰ä¸€äº›æ¯”è¾ƒæˆç†Ÿçš„æ¨¡å—äº†
- å¦‚ä½•ç†è§£è¿™äº›å·²ç»å†…å»ºå¥½çš„æ¨¡å—å‘¢ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ğŸ‘‹

