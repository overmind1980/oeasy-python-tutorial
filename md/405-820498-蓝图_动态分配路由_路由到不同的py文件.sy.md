---
show: step
version: 1.0
enable_checker: true
---

# flask æœ€å°åº”ç”¨

## å›å¿†ä¸Šæ¬¡

- ä¸Šæ¬¡äº†è§£åˆ°äº†
	- è·¯ç”±å’ŒåŠ¨æ€è·¯ç”±çš„æ–¹æ³•
- å¯ä»¥å°†ç½‘å€è·¯ç”±
	- åˆ°ä¸€ä¸ªæ–°çš„pyæ–‡ä»¶
		- è¿›è¡Œå¤„ç†å—ï¼Ÿ
- å¯ä»¥è®¿é—®é™æ€æ–‡ä»¶å—ï¼ŸğŸ¤”

### `reply.py`

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230204-1675473397256)

- è¿™æ˜¯å…·ä½“çš„å“åº”æ–‡ä»¶
	- å¯ä»¥å¤„ç†/reply/è·¯å¾„

```
from flask import Blueprint

app_reply = Blueprint("reply", __name__)

@app_reply.route('/reply/')
def reply():
    return 'oeasy redirects here o'

```

- å¦‚ä½•è®©ä¸»ç¨‹åºå°†è·¯ç”±åŠ¨æ€åˆ†é…è¿‡æ¥å‘¢ï¼Ÿ

### `hello.py`

- ä½¿ç”¨è“å›¾

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230204-1675473547515)

```
from flask import Flask
from markupsafe import escape
from reply import app_reply

app = Flask(__name__)
app.register_blueprint(app_reply)

if __name__ == "__main__":
    app.run(debug=True)
```

- å¯¼å…¥äº† æˆ‘ä»¬ä¹‹å‰å»ºç«‹çš„åŒ…
- å¹¶ä¸”ç™»è®°åˆ°äº† è“å›¾ä¸Š

### æœ€ç»ˆæ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230123-1674463967979)

- æœ€ç»ˆå®ç°äº†
	- åŠ¨æ€åˆ†é…è·¯ç”±çš„æ•ˆæœ
- å¯ä»¥ä½¿ç”¨è·¯å¾„å—ï¼Ÿ

### ä½¿ç”¨è·¯å¾„

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230204-1675474020420)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230204-1675474032971)

- æœ€ç»ˆæ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230204-1675474048653)

### è§‚å¯Ÿæ˜ å°„ è¿‡ç¨‹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230204-1675474426830)

- å­è·¯ç”± ä¹Ÿè¢«æ·»åŠ åˆ°äº† è§„åˆ™ä¸­

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230204-1675474452955)

- å¦‚æœå­è·¯ç”±ä½äºå­æ–‡ä»¶å¤¹ä¸­
	- å¯ä»¥é…ç½®å—ï¼Ÿ

### é…ç½®å­è·¯ç”±

```
from flask import Blueprint

app_sub = Blueprint("sub", __name__)

@app_sub.route('/sub/')
def reply():
    return 'sub routine in a directory'
```

- åœ¨t1ç›®å½•ä¸‹å»ºç«‹sub.py

```
from flask import Flask
from markupsafe import escape
from reply import app_reply
from t1.sub import app_sub

app = Flask(__name__)
app.register_blueprint(app_reply)
app.register_blueprint(app_sub)

if __name__ == "__main__":
    app.run(debug=True)
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230209-1675927224236)

## æ€»ç»“

- è¿™æ¬¡ å®ç°äº†
	- åŠ¨æ€åˆ†é…è·¯ç”±çš„ æ•ˆæœ
	- å¯ä»¥ æŠŠè·¯ç”±å·¥ä½œ 
		- åˆ†é…ç»™ä¸åŒçš„æ–‡ä»¶ æ¥å¤„ç†
	- è¿™æ ·å°± å¯ä»¥å®ç° æ¨¡å—å°è£… äº†
- è·¯ç”±è§„åˆ™ä¸­ å§‹ç»ˆæœ‰ä¸€ä¸ªstaticæ–‡ä»¶å¤¹ä¸‹çš„æ˜ å°„
- è¿™å¦‚ä½•ç†è§£ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´!