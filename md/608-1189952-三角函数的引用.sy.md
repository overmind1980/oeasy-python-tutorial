---
show: step
version: 1.0
enable_checker: true
---

# opencv

## å›žå¿†

- ä¸Šæ¬¡ä½¿ç”¨äº†éšæœºæ•ˆæžœ
	- éšæœºç‚¹
	- éšæœºé¢œè‰²
	- éšæœºåœ†å¿ƒ
	- éšæœºç«¯ç‚¹
	- éšæœºä½ç§»
- è¿˜å¯ä»¥åšç‚¹ä»€ä¹ˆå¥½çŽ©çš„å—ï¼ŸðŸ¤”
- æ¯”å¦‚ä¸‰è§’å‡½æ•°ï¼Ÿ

### æ­£å¼¦æ›²çº¿
```
import numpy as np
import cv2 
import math
canvas = np.zeros((300, 300,3), np.uint8)
x = 0 
for num in range(0,300):
    radius = 1 
    x = x + 1         
    y = int(150 + math.sin(x/10) * 100)
    print(x,y)
    canvas = cv2.circle(canvas,(x, y),radius,(255,255,0),1)
cv2.imshow("Line",canvas)
cv2.waitKey()
cv2.destroyAllWindows()
```

- ç”Ÿæˆ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240107-1704624414867)

- èƒ½å¦æ›´åŠ è¿žç»­é²œæ˜Žå‘¢ï¼Ÿ

### è¿žç»­æ­£å¼¦æ›²çº¿
```
import numpy as np
import cv2  
import math 
canvas = np.zeros((300, 300,3), np.uint8)
for x in range(0,300):
    x1 = x  
    x2 = x + 1               
    y1 = int(150 + math.sin(x1/10) * 100)
    y2 = int(150 + math.sin(x2/10) * 100)
    canvas = cv2.line(canvas,(x1, y1),(x2, y2), (255,255,0),2)
cv2.imshow("Line",canvas)                                                     
cv2.waitKey()
cv2.destroyAllWindows()
```

- è¿™æ¬¡ç”»çš„æ˜¯çº¿æ®µ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240107-1704624497668)

- å¯ä»¥ç»˜åˆ¶ä½™å¼¦æ›²çº¿å—ï¼Ÿ

### è¿žç»­ä½™å¼¦æ›²çº¿
```
import numpy as np
import cv2  
import math 
canvas = np.zeros((300, 300,3), np.uint8)
for x in range(0,300):
    x1 = x  
    x2 = x + 1               
    y1 = int(150 + math.cos(x1/20) * 100)
    y2 = int(150 + math.cos(x2/20) * 100)
    canvas = cv2.line(canvas,(x1, y1),(x2, y2), (255,255,0),2)
cv2.imshow("Line",canvas)                                                     
cv2.waitKey()
cv2.destroyAllWindows()
```

- ä½™å¼¦

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240107-1704624632628)

### åœ†å½¢ç»„æˆåœ†
```
import numpy as np
import cv2 
import math
canvas = np.zeros((300, 300,3), np.uint8)
for num in range(0,360,15):
    radius = math.radians(num)
    x = int(150 + math.cos(radius) * 100)
    y = int(150 + math.sin(radius) * 100)
    print(x,y)
    canvas = cv2.circle(canvas,(x, y),20,(255,255,0),1)
cv2.imshow("Line",canvas)
cv2.waitKey()
cv2.destroyAllWindows()
```

- åœ†å½¢ç»„æˆçš„åœ†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240107-1704624682790)

- å¯ä»¥åŠ äº›éšæœºè¿›åŽ»å—ï¼Ÿ

### éšæœºåœ†å½¢ç»„æˆçš„åœ†
```
import numpy as np                                           
import random                                                
import cv2                                                   
import math                                                  
canvas = np.zeros((300, 300,3), np.uint8)                    
for num in range(0,360,15):                                  
    radius = math.radians(num)                               
    x = int(150 + math.cos(radius) * 100)                    
    y = int(150 + math.sin(radius) * 100)                    
    r = random.randint(20,30)                                
    color = np.random.randint(0,256,size=(3,)).tolist()   
    print("num:",num,"~color",color,"~(x,y)",(x,y),"~r",r)                      
    canvas = cv2.circle(canvas,(x, y),r,color,1)             
cv2.imshow("Line",canvas)                                    
cv2.waitKey()                                                
cv2.destroyAllWindows()
```

- åŠ äº›éšæœºå› ç´ 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240107-1704624749463)

- æƒ³è¦è¯»å–å›¾ç‰‡
	- ç„¶åŽåœ¨å›¾ç‰‡ä¸Šç»˜ç”»
	- å¹¶ä¿å­˜

### æ•ˆæžœ

```
import cv2                                       
import numpy as np                               
import math                                      
canvas = cv2.imread("/home/shiyanlou/kun1.png")        
cv2.putText(canvas,"kun",(30,80),cv2.FONT_HERSHEY_DUPLEX,1,(0,0,255),1)
for num in range(0,360,15):                      
    radius = math.radians(num)                   
    x = int(305 + math.cos(radius) * 100)        
    y = int(178 + math.sin(radius) * 100)        
    print(x,y)                                   
    canvas = cv2.circle(canvas,(x, y),20,(0,0,255),1)
cv2.imshow("kun",canvas)                         
cv2.waitKey()                                    
cv2.destroyAllWindows()                          
cv2.imwrite('/home/shiyanlou/kunkun.png',canvas)
```

- æ•ˆæžœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240107-1704624853372)

### ä½¿ç”¨ä¸‰è§’å‡½æ•°ç”»åœ†
```
import numpy as np                                           
import cv2                                                   
import time                                                  
import math                                                  
width = height = 300                                         
center_x = center_y = 150                                    
x = y = 0                                                    
r = 0                                                        
img = np.zeros((width, height, 3),np.uint8)                  
                                                             
for num in range(360):                                       
    if num == 0:                                             
        x = 250                                              
        y = 150                                              
        continue                                             
    radius = num / 360 * 2 * math.pi                         
    new_x = int(center_x + math.cos(radius) * 100)           
    new_y = int(center_y + math.sin(radius) * 100)           
    print("x,y",x,y,"====new_x,new_y",new_x, new_y)          
    img = cv2.line(img, (x,y),(new_x, new_y), (255,255,255),3)
    x = new_x                                                
    y = new_y                                                
cv2.imshow("img",img)                                        
cv2.waitKey()                                                
cv2.destroyAllWindows()
```

- ç”»åœ†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240107-1704624937108)

- å¯ä»¥åŠ ç‚¹éšæœºå—ï¼Ÿ

### ç”»çš„æ²¡æœ‰é‚£ä¹ˆåœ†
```
import numpy as np                                           
import cv2                                                   
import time                                                  
import math                                                  
import random                                                
width = height = 300                                         
center_x = center_y = 150                                    
x = y = 0                                                    
r = 0                                                        
img = np.zeros((width, height, 3),np.uint8)                  
                                                             
for num in range(360):                                       
    if num == 0:                                             
        x = 250                                              
        y = 150                                              
        continue                                             
    r = r - 1 + random.randint(0,2)                          
    if r > 103:                                              
        r = 103                                              
    if r < 97:                                               
        r = 97                                               
    radius = num / 360 * 2 * math.pi                         
    new_x = int(center_x + math.cos(radius) * r)             
    new_y = int(center_y + math.sin(radius) * r)             
    print("x,y",x,y,"====new_x,new_y",new_x, new_y)          
    img = cv2.line(img, (x,y),(new_x, new_y), (255,255,255),3)
    x = new_x                                                
    y = new_y                                                
cv2.imshow("img",img)                                        
cv2.waitKey()                                                
cv2.destroyAllWindows()
```

- ä½¿ç”¨ä¸‰è§’å‡½æ•°ç”»åœ†
	- å¹¶åŠ å…¥éšæœºå› ç´ 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240107-1704625071882)

### æ€»ç»“ ðŸ¤”
- è¿™æ¬¡ç ”ç©¶äº†ä¸‰è§’å‡½æ•°
	- ç”»æ­£ä½™å¼¦æ›²çº¿
	- ç”»åœ†
- è¿˜å¯ä»¥ç”»ç‚¹ä»€ä¹ˆå—ï¼ŸðŸ¤”
- ä¸‹æ¬¡å†è¯´ðŸ‘‹