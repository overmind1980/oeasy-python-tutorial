---
show: step
version: 1.0
enable_checker: true
---

# æŸ¥çœ‹è¿›ç¨‹

## å›å¿†ä¸Šæ¬¡å†…å®¹

- è¿›ç¨‹æŸ¥è¯¢
	- `ps -lf` æŸ¥çœ‹ æœ¬ç»ˆç«¯ç›¸å…³çš„ è¿›ç¨‹ä¿¡æ¯
	- `ps -elf` æŸ¥çœ‹ æ‰€æœ‰è¿›ç¨‹çš„ ä¿¡æ¯
- æ€æ­» è¿›ç¨‹
	- `kill -9 PID` ç»™è¿›ç¨‹å‘é€æ­»äº¡ä¿¡å·
- åå° è¿è¡Œ
	- `nohup python3 sleep.py>>s.log &`

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221222-1671714081126)

- è¿™äº›è¿›ç¨‹ä¹‹é—´ æ˜¯ä»€ä¹ˆå…³ç³»å‘¢ï¼ŸğŸ¤”

```python
#!/usr/bin/python
i = 0
import time
while True:
    i = i + 1
    print(i, "===", time.asctime())
    time.sleep(1)
```

### å…·ä½“æŸ¥è¯¢

```
nohup python3 sleep.py >> s.log &
```


- zshè¿›ç¨‹ç›¸å…³çš„ 3 ä¸ªè¿›ç¨‹
  - zsh
    - å½“å‰çš„ shellç¯å¢ƒ
	- zshè¿›ç¨‹
  - python3 sleep.py
	- è¾“å‡ºæ—¶é—´çš„pythonç¨‹åº
  - ps -lf
	- æŸ¥è¯¢è¿›ç¨‹çš„psè¿›ç¨‹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230127-1674819622952)

- å…ˆ è¾“å‡ºé‡å®šå‘åˆ°process
	- å†æ‰“å¼€process

```
ps -lf > process
vi process
```
- å¯ä»¥æŸ¥çœ‹åˆ°
	- è¿™è¿›ç¨‹ä¹‹é—´æœ‰çˆ¶å­å…³ç³»


### çˆ¶å­å…³ç³»

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221222-1671712744001)

- `pid` æ˜¯æŒ‡è¿›ç¨‹çš„ `id`
  - **p**rocess **id**
- `ppid` æ˜¯æŒ‡ **çˆ¶**è¿›ç¨‹ **id**
  - **p**arent **p**rocess **id**
- `ppid` æ˜¯ `pid` çš„çˆ¸çˆ¸ 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230127-1674823224324)

- è¿›ç¨‹æœ‰å¤šå¤§å‘¢ï¼Ÿ

### è¿›ç¨‹å¤§å°

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221222-1671712744001)

- `ps` å’Œ `python3` 
	- éƒ½æ˜¯ `zsh`çš„å­è¿›ç¨‹
- python3è¿™ä¸ªè¿›ç¨‹ 
	- å å†…å­˜å¤§å°(SZ)
       - 4860 ä¸ª Page
       - æ¯ä¸ª page å¤§æ¦‚ 4K
	   - æ€»å…± 10+M 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210311-1615454528781)

- python3 è¿™ä¸ªæ–‡ä»¶
  - ä¸æ˜¯æœ¬èº« æ‰ 4.3M ä¹ˆ
  - éƒ½è£…è¿›å†…å­˜ ä¹Ÿå°±æ˜¯ 4.3M

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230127-1674825130894)

- å¯¹äº†
	- è¿˜å¯¼å…¥äº†timeæ¨¡å—(module)

### time

- é™¤äº† åŸºç¡€éƒ¨åˆ†(å†…å»º æ¨¡å—å‡½æ•°)ä¹‹å¤–
  - print()
  - ord()ã€chr()
  - int()ã€hex()ã€bin()
- è¿˜æœ‰ æ–°åŠ è½½çš„éƒ¨åˆ†
  - `sleep.py`
  - `import` è¿›æ¥çš„ `time` è¿™ä¸ª `module`

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230127-1674825310755)

- ä½†æ˜¯timeå±äºå†…å»º(built-in)çš„å•Šï¼
- éƒ½ è£…è¿›å†…å­˜ 
	- ä¹Ÿæ²¡æœ‰ 10+M å‘€ï¼Ÿ

## æ€»ç»“

- è¿›ç¨‹æŸ¥è¯¢
	- `ps -elf` æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹ä¿¡æ¯
	- `ps -lf` æŸ¥çœ‹æœ¬ç»ˆç«¯ç›¸å…³è¿›ç¨‹ä¿¡æ¯
	- `kill -9 PID` ç»™è¿›ç¨‹å‘é€æ­»äº¡ä¿¡å·
- è¿›ç¨‹å‰åå°åˆ‡æ¢
	- <kbd>ctrl</kbd> + <kbd>z</kbd> æŠŠå½“å‰è¿›ç¨‹åˆ‡æ¢åˆ°åå°å¹¶æš‚åœ
	- `jobs` æŸ¥çœ‹æ‰€æœ‰ä½œä¸š
- è¿è¡Œå¤šä¸ª `python3 sleep.py` çš„è¯
	- å„ä¸ªè¿›ç¨‹ç‹¬ç«‹
	- å„å å†…å­˜
	- æ¯ä¸ªè¿›ç¨‹å¤§æ¦‚ 10+M å†…å­˜

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230127-1674825130894)

- æ€ä¹ˆä¼šå é‚£ä¹ˆå¤šå†…å­˜å‘¢ï¼Ÿï¼ŸğŸ¤”
- æˆ‘ä»¬ä¸‹æ¬¡å†è¯´ï¼ğŸ‘‹
