---
show: step
version: 1.0
enable_checker: true
---

# flask æœ€å°åº”ç”¨

## å›å¿†ä¸Šæ¬¡

- ä¸Šæ¬¡ç»ƒä¹ äº†ä½¿ç”¨flaskå‘é€è¯·æ±‚
	- GET
	- POST
- æäº¤çš„æ•°æ®éƒ½å¯ä»¥å¾—åˆ°
- å¹¶ä¸”å¯ä»¥åšåç»­å¤„ç†
- åå°æ•°æ®å’Œå‰å°æœ‰ä»€ä¹ˆå…³ç³»
- å¯ä»¥å°†åå°æ•°æ®å±•ç¤ºåœ¨å‰å°å—ï¼Ÿï¼ŸğŸ¤”

### æ¨¡ç‰ˆæ–‡æ¡£

- æŒ‰æ¨¡ç‰ˆæ˜¾ç¤ºåå°æ•°æ®
- éœ€è¦ä¸€ä¸ªæ¨¡ç‰ˆå¼•æ“

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230205-1675591310428)

- http://doc.yonyoucloud.com/doc/jinja2-docs-cn/index.html

### ç®€å†æ¨¡ç‰ˆ

- å°±åƒ ä¸€ä¸ªç®€å†æ¨¡ç‰ˆ
	- æˆ‘ä»¬ä¸ç”¨ä»é›¶å¼€å§‹å†™ç®€å†
	- åªéœ€è¦æŠŠè¡¨æ ¼é‡Œé¢å¡«å¥½
	- å°±å¯ä»¥ç”Ÿæˆç®€å†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240510-1715314678684)

- é¦–å…ˆç®€å†æ¨¡æ¿

### hello.html

```
mkdir templates
vi templates/hello.html
```

- å»ºç«‹templatesç›®å½•
	- ç”¨æ¥å­˜æ”¾æ¨¡ç‰ˆ

```
hello, {{name}}
```

- è¿™ä¸ªæ¨¡ç‰ˆä¸­ 
	- é™æ€çš„éƒ¨åˆ†ä¸ºhello
	- åŠ¨æ€çš„éƒ¨åˆ†ä¸º{{name}}

- é‚£å¦‚ä½•å¾—åˆ°åŠ¨æ€çš„éƒ¨åˆ†å‘¢ï¼Ÿ

### æ„å»ºç»“æ„

- åœ¨myproé‡Œé¢
	- å»ºç«‹app.py

```
from flask import request
from flask import Flask
from flask import render_template

app = Flask(__name__)

@app.route('/')
def hello():
    return render_template('hello.html', name="oeasy")

if __name__ == "__main__":
    app.run(debug=True)
```

- å°†nameçš„å€¼ä½œä¸ºå‚æ•°
	- ç»™åˆ°render_templateå‡½æ•°
- è·¯ç”±çš„ è¿”å›å€¼ 
	- ä¸º render_templateå‡½æ•°è°ƒç”¨ç»“æœ
- ä»€ä¹ˆæ˜¯render_templateå‘¢ï¼Ÿ

### render_template

- render_template
	- æ¸²æŸ“æ¨¡ç‰ˆ
- æ¸²æŸ“çš„æ˜¯è°ï¼Ÿ
	- æ¸²æŸ“çš„æ˜¯æ¨¡ç‰ˆ
- æ¸²æŸ“çš„æ˜¯å“ªä¸ªæ¨¡ç‰ˆï¼Ÿ
	- hello.htmlè¿™ä¸ªæ¨¡ç‰ˆ

```
hello, {{name}}
```

- hello.htmlä¸­
	- é™æ€çš„éƒ¨åˆ†ä¸ºhello
	- åŠ¨æ€çš„éƒ¨åˆ†ä¸º{{name}} 
	- æ˜¯app.pyè°ƒç”¨çš„æ—¶å€™ä¼ è¿‡æ¥çš„

### é¡¹ç›®ç»“æ„

- é¡¹ç›®çš„æ ¸å¿ƒç»“æ„

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240510-1715315309957)

- å°è¯•è¿è¡Œapp.py

```
python3 app.py
```

### è®¿é—®ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230205-1675590064201)

- å¦‚æœ æƒ³è¦åœ¨ é¡µé¢
	- å¯¹name  è¿›è¡Œåˆ¤æ–­ å‘¢ï¼Ÿ

### æ¡ä»¶æ¸²æŸ“

```
<!doctype html>
<title>Hello from Flask</title>
{% if name %}
  <h1>Hello {{ name }}!</h1>
{% else %}
  <h1>Hello, World!</h1>
{% endif %}
```

- å¦‚æœname ä¸å­˜åœ¨
	- åˆä¼šå¦‚ä½•å‘¢ï¼Ÿ

```
from flask import render_template
from flask import request
from flask import Flask

app = Flask(__name__)

@app.route('/')
def login():
    return render_template('hello.html')

if __name__ == "__main__":
    app.run(debug=True)
```

- è¿™æ¬¡æ¸²æŸ“æ¨¡ç‰ˆçš„æ—¶å€™
	- æ²¡æœ‰ä¼ é€’ä»»ä½•å‚æ•°

###  è¿è¡Œç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230205-1675590857993)

- ç¡®å®åœ¨æ¨¡ç‰ˆé¡µä¸­è¿›è¡Œçš„ifåˆ¤æ–­
- å®ç°æ¡ä»¶æ¸²æŸ“
- æ¨¡ç‰ˆé¡µä¸­å¯ä»¥è¿›è¡Œå¾ªç¯éå†å—ï¼Ÿ

### å¾ªç¯æ¸²æŸ“

```
from flask import render_template
from flask import request
from flask import Flask

app = Flask(__name__)

@app.route('/')
def login():
    return render_template('hello.html',nums = range(10))

if __name__ == "__main__":
    app.run(debug=True)
```

- ç½‘é¡µä»£ç 

```
<!doctype html>
<title>Hello from Flask</title>
{% for num in nums %}
  <h1>Hello {{ num }}!</h1>
{% endfor %}
```

### åˆ’åˆ†

- åç«¯
	- ä¼˜ç‚¹æ˜¯æµè§ˆå™¨çœ‹ä¸è§ï¼Œä¿å¯†æ€§å¥½
	- æ•°æ®æ•æ„Ÿåº¦ã€å®‰å…¨æ€§é«˜çš„æ”¾åœ¨åç«¯å®‰å…¨
- å‰ç«¯
	- ä¼˜ç‚¹æ˜¯ åœ¨æµè§ˆå™¨ä¸Šå°±ç›´æ¥è®¡ç®—
	- æ•°æ®å“åº”æ—¶é—´ æ•æ„Ÿåº¦é«˜çš„ å°±åœ¨å‰ç«¯
	- æ¯”å¦‚ 
		- ä¸€ä¸ªæµè§ˆå™¨çš„åŠ¨ç”»æ•ˆæœ
			- æ²¡æœ‰å¿…è¦å†å»æœåŠ¡å™¨èµ°ä¸ªæ¥å›
		- å‰ç«¯ å¯†ç éªŒè¯ä¸€è‡´æ€§
	- UIäº¤äº’ç›¸å…³åº¦è¾ƒé«˜
		- ä¹Ÿéƒ½æ”¾åˆ°å‰ç«¯
	- è¿˜æ˜¯ é‚£äº›
		- çœ‹å¾—è§å¬å¾—ç€çš„ä¸œè¥¿

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20211114-1636897719334)

- è¿™ç§åˆ’åˆ† ä¹Ÿå°±é€ æˆäº†
	- å‰åç«¯å·¥ç¨‹å¸ˆä¾§é‡çš„ä¸åŒ
- åŒæ–¹éƒ½æœ‰
	- `ä»€ä¹ˆ`çœ‹å®¶æœ¬äº‹å‘¢ï¼Ÿ

### å‰ç«¯ vs åç«¯

- å‰ç«¯å·¥ç¨‹å¸ˆ
	- htmlã€cssã€javascript
	- æ³¨é‡ ç¾æœ¯ã€è®¾è®¡
	- æ³¨é‡ å‰ç«¯äº¤äº’æŠ€æœ¯
	- è€ƒè™‘æ€æ · èƒ½è®©ç”¨æˆ· è§‰å¾— ç”¨èµ·æ¥æ›´èˆ’æœ
	- è€ƒè™‘ ç•Œé¢å¸ƒå±€ã€äº¤äº’æ•ˆæœã€é¡µé¢åŠ è½½é€Ÿåº¦
	- ä¸»è¦æ˜¯ åå‘ç”¨æˆ·çœ‹å¾—è§çš„éƒ¨åˆ†
	- å®¢æˆ·ç«¯ï¼ˆpcã€æ‰‹æœºã€padï¼‰ä¸Šæµè§ˆweb

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20211114-1636898000231)

- åç«¯å·¥ç¨‹å¸ˆ
	- javaã€pythonã€goç­‰åç«¯è¯­è¨€
	- åç«¯çš„åº”ç”¨æœåŠ¡å™¨æ¯”å¦‚tomcat
	- é€šè¿‡è¯­è¨€è®¿é—®åå°æ•°æ®åº“
	- ç®¡çš„æ˜¯ç”¨æˆ·çœ‹ä¸åˆ°çš„éƒ¨åˆ†
	- æƒ³åŠæ³•è®©æœåŠ¡é€Ÿåº¦æ›´å¿«
		- è€ƒè™‘ä¸šåŠ¡é€»è¾‘
		- æ•°æ®åº“è¡¨ç»“æ„è®¾è®¡
		- æœåŠ¡å™¨é…ç½®
		- è´Ÿè½½å‡è¡¡
		- æ•°æ®çš„å­˜å‚¨
		- è·¨å¹³å°APIè®¾è®¡
- å¯ä»¥ä»æ•´ä½“ä¸Šåˆ†æä¹ˆï¼Ÿ

### æ•´ä½“

- å‰åç«¯æœ‰ä¸åŒçš„æŠ€æœ¯
	- å„è‡ªéƒ½å¾ˆå‰å®³

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220515-1652620801694)

- ä¸­é—´ä½¿ç”¨ç½‘ç»œé€šä¿¡åè®®è¿æ¥èµ·æ¥ 
	- éœ€è¦å½¼æ­¤é…åˆ

### å›å½’

- ä»Šå¤©æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å‰åç«¯æŠ€æœ¯å¦‚æ­¤ä¸åŒ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20211114-1636898102314)

- ä½†æ˜¯ ä¹Ÿä¸è¦å¿˜äº† å›åˆ°å½“åˆ
	- æˆ‘ä»¬æŠŠè®¡ç®—æœº ä½¿ç”¨ç½‘ç»œ è¿æ¥äº†èµ·æ¥
	- äººä¸ºåœ°åŒºåˆ†å‡º
		- ä¸»æœº(host)å’Œç»ˆç«¯(terminal)
		- æœåŠ¡å™¨(server)å’Œå®¢æˆ·ç«¯(client)
		- ä¹ƒè‡³åˆ°ä»Šå¤©çš„
		- æœåŠ¡å™¨(server)å’Œæµè§ˆå™¨(browser)
- ä¸€åˆ†ä¸ºäºŒå¾ˆå®¹æ˜“
	- éš¾çš„æ˜¯åˆäºŒä¸ºä¸€
### æ€»ç»“

- è¿™æ¬¡äº†è§£äº† 
	- æ¸²æŸ“ æ¨¡æ¿ç›¸å…³çš„é¡µé¢
- å¯ä»¥å°† åå°çš„å˜é‡ 
	- æ¸²æŸ“åˆ° å‰å°çš„é¡µé¢æ¨¡ç‰ˆ ä¸Š
- ä½†æ˜¯æ¯æ¬¡
	- <kbd>ctrl</kbd> + <kbd>c</kbd>åœæ­¢åå°
	- ä¿®æ”¹pyå’Œhtml
	- ç„¶åå†é‡å¯æœåŠ¡å™¨æµç¨‹å¤ªå¤æ‚äº†
- å¯ä»¥ç®€å•ä¸€ç‚¹å—ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ï¼ğŸ‘‹
