---
show: step
version: 1.0
enable_checker: true
---

# opencv

## å›å¿†

- ä¸Šæ¬¡ç ”ç©¶äº†å›¾åƒçš„å„ç§ç±»å‹çš„å˜å‹æ–¹æ³•
	- æ—‹è½¬
	- ç¿»è½¬
	- é€è§†
	- å€¾æ–œ
- å¯ä»¥è‡ªå·±ä»é›¶å¼€å§‹ç”»äº›ä»€ä¹ˆå—ï¼Ÿ

### ç»˜åˆ¶é™©æ®µ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240107-1704594277924)

- å¦‚æœç”¨ä¼ ç»Ÿæ–¹æ³•è®¾ç½®åƒç´ çš„è¯
- åº”è¯¥å¦‚ä½•æè¿°è¿™ä¸ªçº¿æ®µå‘¢ï¼Ÿ

### ç›´æ¥ç»˜åˆ¶

```
import numpy as np
import cv2
canvas = np.zeros((300, 300,3), np.uint8)
canvas = cv2.line(canvas,(50,50),(200,200),(255,0,0),5)
cv2.imshow("Line",canvas)
cv2.waitKey()
cv2.destroyAllWindows()
```

- ä½¿ç”¨cv2.lineæ–¹æ³•

### çŸ©å½¢
```
import numpy as np
import cv2
canvas = np.zeros((300, 300,3), np.uint8)
canvas = cv2.rectangle(canvas,(50,50),(200,200),(255,255,0),25)
cv2.imshow("rectangle",canvas)
cv2.waitKey()
cv2.destroyAllWindows()
```

- æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240107-1704594386158)

- å¦‚æœç”¨ä¼ ç»Ÿæ–¹æ³•è®¾ç½®åƒç´ çš„è¯
- è¯¥å¦‚ä½•æè¿°è¿™ä¸ªçŸ©å½¢å‘¢ï¼Ÿ

### å®å¿ƒçŸ©å½¢
```
import numpy as np
import cv2
canvas = np.zeros((300, 300,3), np.uint8)
canvas = cv2.rectangle(canvas,(50,50),(200,200),(255,255,0),-1)
cv2.imshow("Line",canvas)
cv2.waitKey()
cv2.destroyAllWindows()
```

- ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240107-1704594479622)

- å¦‚ä½•ç”¨ä¼ ç»Ÿæ–¹æ³•æè¿°è¿™ä¸ªçŸ©å½¢ï¼Ÿ
	- å¯ä»¥éå†æ•´ä¸ªçŸ©é˜µ
	- ä¹Ÿå¯ä»¥è®¾ç½®åŒºåŸŸé¢œè‰²

### æ¤­åœ†çš„ç»˜åˆ¶

```
import numpy as np
import cv2
canvas = np.zeros((300, 300,3), np.uint8)
canvas = cv2.ellipse(canvas, (150, 100), (150, 50), 0, 0, 360, (0, 255, 0), 2, cv2.LINE_8, 0)
cv2.imshow("Line",canvas)
cv2.waitKey()
cv2.destroyAllWindows()
```

- ç»˜åˆ¶æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240113-1705151822732)

- å‚æ•°å…·ä½“ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ

### å€¾æ–œ

```
# -*- coding:utf-8 -*-
import cv2
import numpy as np

#åˆ›å»ºé»‘è‰²å›¾åƒ
img = np.zeros((256,256,3), np.uint8)

#ç»˜åˆ¶æ¤­åœ†
#æ¤­åœ†ä¸­å¿ƒ(120,100) é•¿è½´å’ŒçŸ­è½´ä¸º(100,50)
#åè½¬è§’åº¦ä¸º20
#åœ†å¼§èµ·å§‹è§’çš„è§’åº¦0 åœ†å¼§ç»ˆç»“è§’çš„è§’åº¦360
#é¢œè‰²(255,0,255) çº¿æ¡ç²—ç»†2
cv2.ellipse(img, (120, 100), (100, 50), 20, 0, 360, (255, 0, 255), 2)

#æ˜¾ç¤ºå›¾åƒ
cv2.imshow("ellipse", img)

#ç­‰å¾…æ˜¾ç¤º
cv2.waitKey(0)
cv2.destroyAllWindows()
```

- ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240217-1708177356144)

- å¯ä»¥å¡«å……å—ï¼Ÿ

### å¡«å……æ•ˆæœ

```python3
import cv2
import numpy as np

#åˆ›å»ºé»‘è‰²å›¾åƒ
img = np.zeros((256,256,3), np.uint8)

#ç»˜åˆ¶æ¤­åœ†
#æ¤­åœ†ä¸­å¿ƒ(120,100) é•¿è½´å’ŒçŸ­è½´ä¸º(100,50)
#åè½¬è§’åº¦ä¸º20
#åœ†å¼§èµ·å§‹è§’çš„è§’åº¦0 åœ†å¼§ç»ˆç»“è§’çš„è§’åº¦360
#é¢œè‰²(255,0,255) çº¿æ¡ç²—ç»†2
cv2.ellipse(img, (120, 100), (100, 50), 30, 0, 360, (255, 0, 255), -1)

#æ˜¾ç¤ºå›¾åƒ
cv2.imshow("ellipse", img)

#ç­‰å¾…æ˜¾ç¤º
cv2.waitKey(0)
cv2.destroyAllWindows()
```

- æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240217-1708177513229)

- å¯ä»¥åªè¦ä¸€æ®µåœ†å¼§å—ï¼Ÿ

### è§‚å¯Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240113-1705151856644)

- åº”è¯¥å¯ä»¥è®¾ç½®å„ç§è§’åº¦
	- ä»30åº¦ åˆ° 150åº¦ æ€»å…±120åº¦

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240113-1705151910591)

### å…·ä½“è®¾ç½®

```
import numpy as np
import cv2
canvas = np.zeros((300, 300,3), np.uint8)
canvas = cv2.ellipse(canvas, (150, 100), (150, 50), 0, 30, 150, (0, 255, 0), 2, cv2.LINE_8, 0)
cv2.imshow("Line",canvas)
cv2.waitKey()
cv2.destroyAllWindows()
```

- ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240113-1705152098477)

### å†æ—‹è½¬

- åœ¨æ­¤åŸºç¡€ä¸Šå†æ—‹è½¬45åº¦

```
import numpy as np
import cv2
canvas = np.zeros((300, 300,3), np.uint8)
canvas = cv2.ellipse(canvas, (150, 100), (150, 50), 0, 30, 150, (0, 255, 0), 2, cv2.LINE_8, 0)
cv2.imshow("Line",canvas)
cv2.waitKey()
cv2.destroyAllWindows()
```

- æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240113-1705152147285)

- åœ†å¼§ æ˜¯ éå¸¸å®ç”¨çš„ å›¾å½¢

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240302-1709336822675)

### åœ†å½¢
```
import numpy as np
import cv2
canvas = np.zeros((300, 300,3), np.uint8)
canvas = cv2.circle(canvas,(50,50),40,(255,255,0),25)
canvas = cv2.circle(canvas,(150,150),40,(255,255,0),-1)
cv2.imshow("circle",canvas)
cv2.waitKey()
cv2.destroyAllWindows()
```

- æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240107-1704594530213)

- å¦‚æœåœ†å½¢åŠå¾„ä¸º-1çš„è¯
- åœ†å½¢ä¸ºå®å¿ƒåœ†

### åŒå¿ƒåœ†
```
import numpy as np
import cv2
canvas = np.zeros((300, 300,3), np.uint8)
for r in range(0,150,30):   
    canvas = cv2.circle(canvas,(150,150),r,(255,255,0),5)
cv2.imshow("circle",canvas)
cv2.waitKey()
cv2.destroyAllWindows()
```

- æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240107-1704594715445)

### äº”ç¯çš„ç»˜åˆ¶
```
import numpy as np
import cv2
frame = np.zeros((800, 600,3), np.uint8)
width = 5
cv2.circle(frame, (150, 150), 50, (255, 0, 0), width, 4)
cv2.circle(frame, (260, 150), 50, (100, 100, 100), width, 4)
cv2.circle(frame, (370, 150), 50, (0, 0, 255), width, 4)
cv2.circle(frame, (205, 220), 50, (0, 255, 255), width, 4)  # ^M
cv2.circle(frame, (315, 220), 50, (0, 255, 0), width, 4)  #
cv2.imshow("circle",frame)
cv2.waitKey()
cv2.destroyAllWindows()
```

- æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240107-1704594895108)

### ç”»ä¸ªäººç‰©
```
import numpy as np                        
import cv2                                
canvas = np.zeros((480, 640,3), np.uint8) 
canvas = cv2.rectangle(canvas,(200,100),(400,400),(0,255,255),-1)
canvas = cv2.circle(canvas,(250,200),40,(255,255,255),-1)
canvas = cv2.circle(canvas,(350,200),40,(255,255,255),-1)
canvas = cv2.circle(canvas,(250,200),10,(0,0,0),-1)
canvas = cv2.circle(canvas,(350,200),10,(0,0,0),-1)                             
cv2.imshow("man",canvas)                 
cv2.waitKey()                             
cv2.destroyAllWindows()
```

- äººç‰©æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240107-1704594942564)

### æ€»ç»“ 
- è¿™æ¬¡æˆ‘ä»¬å­¦ä¹ äº†åŸºæœ¬ç»˜åˆ¶
	- çº¿æ®µ
	- åœ†å½¢
	- çŸ©å½¢
- ä½†æ˜¯èƒ½å¤Ÿå°†å›¾å½¢ç»˜åˆ¶å’Œä¹‹å‰çš„æ¦‚å¿µå…³è”èµ·æ¥å—ï¼Ÿ
	- å›¾åƒ
	- æ»šåŠ¨æ¡
	- æ–‡å­—
- å¦‚ä½•å…³è”å‘¢ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ğŸ‘‹