---
show: step
version: 1.0
enable_checker: true
---

# fastapi

## å›å¿†

- ä¸Šæ¬¡æˆ‘ä»¬ç ”ç©¶äº†fastapiçš„å±•ç¤ºæ•ˆæœ
- ä¸ºä»€ä¹ˆfastapiè¢«å«åšfastapi?
- å› ä¸ºä»–å¯ä»¥ç”Ÿæˆä¸€ä¸ªopenapi.json
- ç„¶åç”¨ä¸åŒçš„uiå¯ä»¥æ¸²æŸ“æˆé¡µé¢
- é™¤äº†Getä¹‹å¤–æˆ‘ä»¬å¯ä»¥åˆ«çš„æäº¤æ–¹æ³•å—ï¼Ÿ

### åœæ­¢æœåŠ¡å™¨

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221016-1665912501649)

- <kbd>ctrl</kbd> + <kbd>c</kbd>
- ç»“æŸæœåŠ¡
- å›åˆ°vimè¿›è¡Œä¿®æ”¹

### ä¿®æ”¹main.py

```
from typing import Union

from fastapi import FastAPI
from pydantic import BaseModel

app = FastAPI()


class Item(BaseModel):
    name: str
    price: float
    is_offer: Union[bool, None] = None


@app.get("/")
async def read_root():
    return {"Hello": "World"}


@app.get("/items/{item_id}")
async def read_item(item_id: int, q: Union[str, None] = None):
    return {"item_id": item_id, "q": q}


@app.put("/items/{item_id}")
async def update_item(item_id: int, item: Item):
    return {"item_name": item.name, "item_id": item_id}
```

- ç„¶åå†é‡å¯æœåŠ¡å™¨
- :w|!uvicorn main:app --reload

### å¯åŠ¨æµè§ˆå™¨

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221016-1665912766584)

- å‡ºç°äº†ä¸€ä¸ªæ–°çš„url
- æäº¤æ–¹æ³•ä¸æ˜¯åŸæ¥çš„Get
- è€Œæ˜¯Put
- å¯ä»¥æ‰§è¡Œè¿™ä¸ªapiå—ï¼Ÿ

### Try it out

- å¯ä»¥è®¾ç½®å‚æ•°
- ç„¶åæ‰§è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221016-1665912930428)

- å¯ä»¥çœ‹åˆ°ç›¸åº”çš„æ‰§è¡Œç»“æœ
- æ€»å…±æœ‰ä»€ä¹ˆæ ·çš„è¯·æ±‚æ–¹å¼å‘¢ï¼Ÿ

### è¯·æ±‚æ–¹å¼


- æ€»å…±å››ç§
    - POST: to create data.
    - GET: to read data.
    - PUT: to update data.
    - DELETE: to delete data.

### æ€»ç»“
- è·‘æ˜¯èƒ½è·‘èµ·æ¥
- ä½†æ˜¯æœ‰äº›ä¸æ¸…æ¥šçš„åœ°æ–¹

```
@app.get("/")
async def read_root():
    return {"Hello": "World"}
```

- è¿™ä¸ªå‡½æ•°åˆ°åº•ä»€ä¹ˆæ„æ€?ğŸ¤”
- ä¸‹æ¬¡å†è¯´ğŸ‘‹