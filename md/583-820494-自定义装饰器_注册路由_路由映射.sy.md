---
show: step
version: 1.0
enable_checker: true
---

# flask æœ€å°åº”ç”¨

## å›å¿†ä¸Šæ¬¡

- ä¸Šæ¬¡ è®¾ç½®äº† 
	- æœåŠ¡å™¨ è°ƒè¯•æ¨¡å¼
		- è¾“å‡ºé‡å®šå‘ åˆ° æ—¥å¿—
	- åå°è¿è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/826425/uid1190679-20250621-1750480862437) 

- æœåŠ¡å™¨ åœ¨åå°è¿è¡Œå 
	- æƒ³è¦ ç»“æŸä»– 
	- åº”è¯¥æ€ä¹ˆåŠå‘¢ï¼ŸğŸ¤”

### è§‚å¯Ÿ

- é¦–å…ˆè¦ 
	- æ¢å¤ ä¸Šæ¬¡çš„ ç¯å¢ƒ
	- èƒ½ è®¿é—®æ ¹ä¸‹

```
mkdir myproject
cd myproject
vi app.py
```

- ç¼–è¾‘app.py


```
from flask import Flask

app = Flask(__name__)

@app.route("/")
def hello_world():
    return "<p>Hello, oeasy!</p>"

if __name__ == "__main__":
    app.run(debug=True,host="0.0.0.0",port=8081)
```

### è®¿é—®

- åå°è¿è¡Œapp å¹¶æµè§ˆ

```
nohup python3 app.py >> flask.log 2>&1 &
firefox http://127.0.0.1:8081
```

- è®¿é—®æˆåŠŸ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/820494/uid1190679-20250621-1750484531422) 

- å¦‚ä½• å…³é—­æœåŠ¡å™¨ï¼ŸğŸ¤”

### æé—®

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/820494/uid1190679-20250621-1750481729780) 

```
lsof -i:8081
```

- è§‚å¯Ÿ ç«¯å£å¯¹åº”è¿›ç¨‹çš„ pid

```
kill -9 pid
```

### å®æ“

- å…ˆæ‰¾åˆ° å ç”¨ç«¯å£è¿›ç¨‹ çš„ pid
	- å†ç»“æŸ pid

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/820494/uid1190679-20250621-1750482808614)

- ç»“æŸä¹‹å
	- æœåŠ¡å™¨å½»åº•æ²¡è¿æ¥
	- è€Œä¸æ˜¯ 404

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/820494/uid1190679-20250621-1750482850814) 

- å¯ä»¥è‡ªå·±å®šä¹‰è®¿é—®è·¯å¾„å—ï¼Ÿ

### å­url

- å†æ¬¡ åå°å¯åŠ¨æœåŠ¡å™¨

```
nohup python3 app.py >> flask.log 2>&1 &
```

- å¦‚æœ è®¿é—® å­url 
	- http://localhost/oeasy

```
firefox http://localhost:8081/oeasy &
```

- ä¼šæœ‰ `å“åº”` å—ï¼ŸğŸ¤”


### 404

- æœåŠ¡å™¨ æœ‰è¿æ¥

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230421-1682046745155)

- ä½†æ˜¯ ä¸èƒ½è®¿é—® è¯·æ±‚çš„èµ„æº

### è¿˜æ˜¯æ„é€ ç¯å¢ƒ

- å»ºç«‹ ç½‘ç«™ç›®å½•myproject
	- å† è¿›å…¥ç›®å½•

```
mkdir myproject
cd myproject
```

- ç¼–è¾‘appæ–‡ä»¶

```
vi app.py
```

### ä¿®æ”¹ app.py

- æ³¨æ„ ç¬¬5è¡Œ
	- è®¾ç½®äº†ä¸€ä¸ª è£…é¥°å™¨

```
from flask import Flask

app = Flask(__name__)

@app.route("/oeasy")
def hello_world():
    return "<p>Hello, oeasy!</p>"

if __name__ == "__main__":
    app.run(debug=True,host="0.0.0.0",port=8081)
```

- å°è¯•è¿è¡Œ

```
nohup python3 app.py >> flask.log 2>&1 &
```

- æœåŠ¡å™¨ å¯åŠ¨æˆåŠŸ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/820494/uid1190679-20250608-1749353807098) 

### å°è¯•è®¿é—®oeasy

```
firefox http://localhost:8081/oeasy &
```

- å¯ä»¥è®¿é—®åˆ° /oeasy

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/820494/uid1190679-20250608-1749353942607) 

- é‚£å¯ä»¥è®¿é—®æ ¹ä¸‹å—ï¼Ÿ

### å°è¯•è®¿é—®æ ¹ä¸‹

```
firefox http://localhost:8081/ &
```

- è®¿é—®ç»“æœ ä¸º 404
	- å› ä¸º æ²¡æœ‰ é…ç½®å¯¹æ ¹ä¸‹è®¿é—®çš„ è·¯ç”±

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/820494/uid1190679-20250608-1749354023261) 

- å¯ä»¥çœ‹çœ‹æ—¥å¿—(log)å—ï¼Ÿ

### è®¿é—®æ—¥å¿—

```
cat flask.log
```

- è®¿é—®/oeasy æˆåŠŸ
	- è®¿é—®/ å¤±è´¥

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/820494/uid1190679-20250608-1749354090422) 

- ä»£ç ä¾‹å­ åœ¨å“ªé‡Œå‘¢ï¼Ÿ

### è§‚å¯Ÿä¾‹å­

- è‡ªå®šä¹‰è£…é¥°å™¨
	- æ³¨å†Œ è·¯ç”±
	- https://dormousehole.readthedocs.io/en/latest/quickstart.html#id4

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230122-1674393784278)

- ä»€ä¹ˆæ˜¯è·¯ç”±å‘¢?

###  route 

- route å°±æ˜¯
	- é“è·¯
	- ç½‘ç»œä¸Š æŒ‡çš„æ˜¯ ç½‘å€
	- url
- æ ¹æ® ç½‘å€(url) çš„ ä¸åŒ
	- æ‰§è¡Œä»£ç  åˆ™ ä¸åŒ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/820494/uid1190679-20250608-1749354792842) 

- æ ¹æ® url 
	- è¿›è¡Œ è·¯ç”±

### å…·ä½“ä»£ç 

- ä»¥ä¸‹å¯¹ ä¸¤ä¸ªè·¯ç”± è¿›è¡Œäº†å¤„ç†
	1. /
	2. /hello

```
from flask import Flask

app = Flask(__name__)
@app.route('/')
def index():
    return 'Index Page'

@app.route('/hello')
def hello():
    return 'Hello, World'

if __name__ == "__main__":
    app.run(debug=True,host="0.0.0.0",port=8081)
```

- ç²˜è´´åˆ°app.py
	- ä¿å­˜	


### è§‚å¯Ÿæ—¥å¿—

```
cat flask.log
```

- ç›‘æµ‹åˆ° ä»£ç ä¿®æ”¹
	- è‡ªåŠ¨åŠ è½½ 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/820494/uid1190679-20250608-1749356465077) 

- å¯ä»¥è®¿é—® è¿™ä¸¤ä¸ªurlå—ï¼Ÿ

### æœåŠ¡å™¨è‡ªåŠ¨åŠ è½½

```
firefox http://localhost:8081/ &
```

- å®ç°äº† å¯¹æ ¹ä¸‹çš„è·¯ç”±

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/820494/uid1190679-20250608-1749357064177) 

```
firefox http://localhost:8081/hello &
```

- å®ç°äº† å¯¹/helloçš„è·¯ç”±

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/820494/uid1190679-20250608-1749357157294) 

### è§‚å¯Ÿæ—¥å¿—

```
cat flask.log
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/820494/uid1190679-20250608-1749357200345) 

## æ€»ç»“

- è¿™æ¬¡ äº†è§£åˆ° `è·¯ç”±`
	- ç”¨è£…é¥°å™¨ å£°æ˜url
	- å† å°†è·¯ç”± å°è£…æˆ å‡½æ•°

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/820494/uid1190679-20250621-1750483352166) 

- æœåŠ¡å™¨ éƒ½æ³¨å†Œäº† `å“ª`äº›è·¯ç”± å‘¢ï¼Ÿ
- ä¸‹æ¬¡å†è¯´ğŸ‘‹ğŸ»

