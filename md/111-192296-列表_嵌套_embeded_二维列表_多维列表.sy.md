---
show: step
version: 1.0
enable_checker: true
---

# åˆ—è¡¨ - åµŒå¥— embedded

## å›å¿†

- ä¸Šæ¬¡æˆ‘ä»¬ åˆäº†è§£äº† æ’åº
	- æœ€åˆçš„æ’åº list.sort
	- ä¹±åº list.shuffle
- æ— åºæœ‰åºéƒ½ç”¨
	- æ— åºå¸¦æ¥æ··ä¹±çš„å¿«ä¹
	- æœ‰åºå¸¦æ¥ç†æ€§çš„æ–¹ä¾¿
- æ–°æ’åº sorted
	- å¯ä»¥äº§ç”Ÿä¸€ä¸ªæ–°çš„åˆ—è¡¨

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/3022416/uid1190679-20241108-1731031965491) 

- ç›®å‰ åˆ—è¡¨ éƒ½æ˜¯ ä¸€ç»´çš„ 
- å¯ä»¥ æœ‰`æ›´é«˜ç»´åº¦`çš„åˆ—è¡¨å—ï¼Ÿ ğŸ¤”

### å»æ¸¸ä¹åœº

- åˆ†æappendå’Œextendçš„åŒºåˆ«

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221129-1669691015206)

- append
	- è¿½åŠ  åˆ—è¡¨é¡¹
- extend
	- æ‹“å±• åˆ—è¡¨

### ä¾‹å­

```
lst = []
lst.extend([0, 1])
lst
lst.append([0, 1])
lst
```

- æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192296/uid1190679-20250114-1736858509166) 

- è¿™è¿˜æ˜¯ä¸ªåˆ—è¡¨å—ï¼Ÿ

### è§‚å¯Ÿ

```
type(lst)
len(lst)
lst[0]
lst[1]
lst[2]
lst[3]
```

- lstç¡®å®è¿˜æ˜¯åˆ—è¡¨
	- æ€»å…±æœ‰ä¸‰ä¸ªåˆ—è¡¨é¡¹çš„åˆ—è¡¨

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192296/uid1190679-20250114-1736858611651) 

- ç¬¬2ä¸ªåˆ—è¡¨é¡¹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ

### å†è§‚å¯Ÿ

```
lst
lst[2]
type(lst[2])
len(lst[2])
lst[2][0]
lst[2][1]
```

- ç¬¬äºŒä¸ªåˆ—è¡¨é¡¹ è¿˜æ˜¯ 
	- ä¸€ä¸ªåˆ—è¡¨
	- 2ä¸ªå…ƒç´ çš„ åˆ—è¡¨

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192296/uid1190679-20250114-1736858858378) 

- lstæ˜¯åˆ—è¡¨çš„åˆ—è¡¨ï¼Ÿ

### å¥—å¨ƒï¼Ÿ

- åˆ—è¡¨çš„åˆ—è¡¨

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221129-1669708520014)

- å®¹å™¨çš„å®¹å™¨
	- ä¸å°±æˆäº†å¥—å¨ƒğŸª†å—ï¼Ÿ
- è¿™ä¸ªåˆ—è¡¨çš„åˆ—è¡¨é¡¹
	- ä¹Ÿèƒ½ç”¨ç´¢å¼•æ¥è®¿é—®å—ï¼Ÿ

### äºŒç»´åˆ—è¡¨

- åŸæ¥çš„åˆ—è¡¨ 
	- å±äºä¸€ç»´åˆ—è¡¨

```python
lst = [
		[1, 2, 3],
		[4, 5, 6],
		[7, 8, 9] ]
lst 
lst[0]
```

- è¿™ç§åˆ—è¡¨çš„åˆ—è¡¨å«ä»€ä¹ˆåå­—å‘¢ï¼Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192296/uid1190679-20250114-1736859015374) 

- åˆ—è¡¨çš„åˆ—è¡¨
	- å±äºäºŒç»´åˆ—è¡¨
- æœ¬æ¥ lst æ˜¯ä¸€ä¸ª 3\*3 çš„æ•°ç»„
	- è¿›è¡Œäº† ç´¢å¼• [0]
	- å¾—åˆ°äº† è¿™ä¸ªäºŒç»´æ•°ç»„çš„ ç¬¬ä¸€ä¸ªå…ƒç´ 
	- ä¸€ä¸ª ä¸€ç»´åˆ—è¡¨ [1, 2, 3]
	- å¯ä»¥ è¿›ä¸€æ­¥ è¿›è¡Œç´¢å¼• å—ï¼Ÿ

### ç´¢å¼•é™ç»´

```
lst
lst[0]
lst[0][0]
lst[0][1]
lst[0][2]
```

- é€šè¿‡ç´¢å¼•æ‰¾åˆ°å…·ä½“çš„åˆ—è¡¨é¡¹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192296/uid1190679-20250114-1736859131217)

- å¯ä»¥åˆ‡ç‰‡å—ï¼Ÿ

### åˆ‡ç‰‡

```
lst[0]
lst[0][1:3]
lst[0][:2]
```

- å¯ä»¥å†å¯¹ a[0] è¿™ä¸ªä¸€ç»´æ•°ç»„è¿›è¡Œ
  - åˆ‡ç‰‡æ“ä½œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192296/uid1190679-20250114-1736859189942) 

-  è¿™æ˜¯ 
	-  å…ˆç´¢å¼•
	- å†åˆ‡ç‰‡
- é‚£ æˆ‘ å¯ä»¥
	- å…ˆåˆ‡ç‰‡
	- åç´¢å¼• å—ï¼Ÿ

### åˆ‡ç‰‡æ“ä½œ

```
lst
lst[0:2]
lst[0:2][1]
lst[0:2][1][0]
```

- äºŒç»´åˆ—è¡¨å…ˆåˆ‡ç‰‡
	- å¾—åˆ°çš„è¿˜æ˜¯ä¸€ä¸ªäºŒç»´åˆ—è¡¨
    - æ˜¯æŒ‰ç…§è¡Œåˆ‡å‡ºæ¥çš„åˆ—è¡¨

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192296/uid1190679-20250114-1736860011166) 

- å¯ä»¥è¿ç»­åˆ‡ç‰‡å—ï¼Ÿ

### è¿ç»­åˆ‡ç‰‡

```
lst
lst[0:2]
lst[0:2][1:2]
lst[0:2][0:1]
```

- å†åˆ‡ç‰‡å¾—åˆ°çš„è¿˜æ˜¯äºŒç»´åˆ—è¡¨
    - åˆ‡ç‰‡ ç»´æŒåŸæ¥çš„ç»´åº¦

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192296/uid1190679-20250114-1736860334335) 

- å¯ä»¥å¯¹è¿™ä¸ªäºŒç»´åˆ—è¡¨
	- åˆ‡ç‰‡æ˜¯ç­›å‡
	- ç´¢å¼•æ˜¯é™ç»´
- å¯ä»¥ç”¨è´Ÿæ•°è¿›è¡Œç´¢å¼•å’Œåˆ‡ç‰‡å—ï¼Ÿ

### è´Ÿæ•°

```
lst[-3:]
lst[-3:-1]
lst[-3:-1][-3:]
lst[-3:-1][-3:-1]
```

- è´Ÿæ•°ç´¢å¼•
	- é€»è¾‘ å’Œ ä¸€ç»´ä¸€æ ·
	- -1 æœ€åä¸€ä¸ª
	- -len ç¬¬ä¸€ä¸ª

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192296/uid1190679-20250114-1736860455606) 

- å®é™…çš„åº”ç”¨ï¼Ÿ

### éŸ³ç¬¦ å’Œ ä¹å¥

- è¯è¦ ä¸€å¥ä¸€å¥è¯´
	- ä¸­é—´æœ‰å–˜æ°”çš„ æ—¶é—´
	- éŸ³ä¹é‡Œé¢ ä¹Ÿæœ‰æ°”å£
	- å«åš ä¹å¥

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20250404-1743769080976)

- éŸ³ä¹ç”± 6ä¸ªå°ä¹å¥ æ„æˆ
	- æ¯ä¸ªä¹å¥çš„ç»“å°¾ æœ‰åœé¡¿

```
from mido import Message, MidiFile, MidiTrack

mid = MidiFile()
track = MidiTrack()
mid.tracks.append(track)

# å®šä¹‰å°æ˜Ÿæ˜Ÿçš„éŸ³ç¬¦ï¼ˆC å¤§è°ƒï¼‰
notes = [
    ['C4', 'C4', 'G4', 'G4', 'A4', 'A4', 'G4'],
    ['F4', 'F4', 'E4', 'E4', 'D4', 'D4', 'C4'],
    ['G4', 'G4', 'F4', 'F4', 'E4', 'E4', 'D4'],
    ['G4', 'G4', 'F4', 'F4', 'E4', 'E4', 'D4'],
    ['C4', 'C4', 'G4', 'G4', 'A4', 'A4', 'G4'],
    ['F4', 'F4', 'E4', 'E4', 'D4', 'D4', 'C4']
]

# éŸ³ç¬¦æ˜ å°„åˆ° MIDI éŸ³é«˜
note_map = {
    'C4': 60, 'D4': 62, 'E4': 64, 'F4': 65, 'G4': 67, 'A4': 69, 'B4': 71,
    'C5': 72
}

# è®¾å®šèŠ‚å¥ï¼ˆå››åˆ†éŸ³ç¬¦æ—¶å€¼ä¸º 480ï¼‰
duration = 480
pause_duration = 480  # å¥é—´åœé¡¿æ—¶é—´
fade_out_time = 480  # è¿‡æ¸¡æ—¶é—´

for phrase in notes:
    for note in phrase:
        midi_note = note_map[note]
        track.append(Message('note_on', note=midi_note, velocity=64, time=0))
        track.append(Message('note_off', note=midi_note, velocity=64, time=duration))

    # è®©åœé¡¿è¿‡æ¸¡è‡ªç„¶ï¼Œä½¿ç”¨é€æ¸å‡å¼±çš„éŸ³é‡
    track.append(Message('note_off', note=0, velocity=32, time=fade_out_time))
    track.append(Message('note_off', note=0, velocity=0, time=pause_duration - fade_out_time))

mid.save("twinkle_twinkle_star.mid")
print(f"MIDI æ–‡ä»¶å·²ä¿å­˜ä¸º twinkle star")
```

- èƒ½æ‰¾å‡ºä¹æ®µ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192296/uid1190679-20250404-1743768362148) 


- å¦‚æœåˆ—è¡¨è¶…è¿‡äº†äºŒç»´
	- ç´¢å¼•å’Œåˆ‡ç‰‡è¿˜æ˜¯è¿™æ ·å—ï¼Ÿ

### è®¾ç½®æ—¶é•¿

```
```

### å¤šç»´åˆ—è¡¨

```
lst = [0, [1, [2, 3]]]
lst 
len(lst)
lst[0]
lst[1]
lst[1][0]
lst[1][1]
lst[1][1][0]
lst[1][1][1]
```

- å¤šç»´åˆ—è¡¨
	- ç´¢å¼•å’Œåˆ‡ç‰‡çš„æ¨¡å¼
	- æ²¡æœ‰å˜

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192296/uid1190679-20250114-1736860604734) 

- å¤šç»´åˆ—è¡¨ å¯ä»¥ æ’åºå—ï¼Ÿ

### æ’åºå‰æ

- æ’åºçš„å‰ææ˜¯èƒ½å¤Ÿæ¯”è¾ƒå¤§å°

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231205-1701782816543)

- åˆ—è¡¨å‹ä¸èƒ½å’Œæ•´å‹æ¯”è¾ƒ
- åˆ—è¡¨å‹å¯ä»¥å’Œåˆ—è¡¨å‹æ¯”è¾ƒå—ï¼Ÿ

### å°è¯•æ¯”è¾ƒ

```
[0] < [1]
[0] > [1]
lst = [[3], [2], [1]]
lst.sort()
lst
```

- åŒä¸€ç»´åº¦çš„åˆ—è¡¨å¯¹è±¡å¯ä»¥æ¯”è¾ƒ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192296/uid1190679-20250114-1736860703999) 

- ç‰¹å®šçš„åˆ—è¡¨å¯¹è±¡å¯ä»¥æ’åº

### åˆ—è¡¨æ¯”è¾ƒ

```
lst = [[1, 0], [0, 1]]
lst[0] < lst[1]
lst[0] > lst[1]
```

- æ’åºçš„å‰ææ˜¯æ¯”è¾ƒ
	- åˆ—è¡¨æ˜¯å¯ä»¥è¿›è¡Œæ¯”è¾ƒçš„

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192296/uid1190679-20250114-1736860848963) 

- é‚£åˆ—è¡¨æ¯”è¾ƒçš„åŸåˆ™æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221129-1669717604263)

- å…ˆæ¯”è¾ƒç¬¬0ä¸ªå…ƒç´ 
	- å¦‚æœä¸åŒ
		- å°±å¾—å‡ºç»“è®º
	- å¦‚æœç›¸åŒ
		- å†æ¯”è¾ƒç¬¬1ä¸ªå…ƒç´ 
	- ä»¥æ­¤ç±»æ¨

- æ’åºå åˆ—è¡¨åœ°å€å˜äº†å—ï¼Ÿ

### æ„é€ 

```
l1 = [[1, 2], [2, 3], [0, 1]]
l1.sort()
```

- æ’åºå‰
	- https://pythontutor.com/render.html#mode=display 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192296/uid1190679-20250114-1736861382126) 

- æ’åºå

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192296/uid1190679-20250114-1736861403178)

- åˆ—è¡¨åœ°å€æœ‰å˜åŒ–å—ï¼Ÿ

### åˆ—è¡¨åœ°å€

```
l1 = [[1, 2], [2, 3], [0, 1]]
print(id(l1))
l1.sort()
print(id(l1))
```

- æ’åºåçš„åˆ—è¡¨è¿˜æ˜¯åœ¨é‚£ä¸ªä½ç½®

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192296/uid1190679-20250114-1736861483034) 

- åˆ‡ç‰‡åœ°å€æœ‰å˜åŒ–å—ï¼Ÿ

### è§‚å¯Ÿå†…å­˜

```
l1 = [[1, 0], [0, 1]]
print(id(l1[0]),id(l1[1]))
l1.sort()
print(id(l1[0]),id(l1[1]))
```

- åˆ‡ç‰‡æœ¬èº«åœ°å€ ä¸å˜
	- æ’åºæ’çš„æ˜¯ 
	- å­˜æ”¾åˆ‡ç‰‡å¼•ç”¨çš„ åˆ—è¡¨é¡¹ä½ç½®

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192296/uid1190679-20250114-1736861807032) 

- å¤šç»´åˆ—è¡¨çš„åˆ—è¡¨é¡¹å¯ä»¥æ’åºå—ï¼Ÿ

### åˆ—è¡¨é¡¹æ’åº

```
l1 = [[1, 0], [0, 1]]
print(id(l1[0]),id(l1[1]))
l1[0].sort()
l1
print(id(l1[0]),id(l1[1]))
```

- ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192296/uid1190679-20250114-1736862000164) 

- åˆ—è¡¨é¡¹l[0]
	- è¿˜å¯ä»¥è¿›è¡Œæ’åºçš„
	- æ’åºä¸å½±å“åˆ—è¡¨è‡ªèº«çš„åœ°å€

### æ€»ç»“

- è¿™æ¬¡ æˆ‘ä»¬ äº†è§£äº†åˆ—è¡¨çš„ åµŒå¥—(embedded)
	- åˆ—è¡¨é¡¹ ä¹Ÿå¯ä»¥æ˜¯ åˆ—è¡¨
	- å¯ä»¥ æ— é™åµŒå¥— ä¸‹å»
- list.sort
	- ä¸ä¼šæ”¹å˜ åˆ—è¡¨çš„ ä½ç½®
	- ä¹Ÿä¸ä¼šæ”¹å˜ åˆ—è¡¨åˆ‡ç‰‡çš„ ä½ç½®
	- æ”¹çš„åªæ˜¯ å¼•ç”¨åœ°å€ åœ¨åˆ—è¡¨ ä¸­çš„ä½ç½®


![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221129-1669708577034)

- é™¤äº†list.sortä¹‹å¤–
	- æ’åºçš„æ–¹æ³•
	- è¿˜æœ‰å†…å»ºçš„sorted
	- æœ‰ä»€ä¹ˆ`åŒºåˆ«` æ¥ç€ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ ğŸ‘‹
