---
show: step
version: 1.0
enable_checker: true
---

# opencv

## é‡æ–°å¼€å§‹

- é¦–å…ˆçœ‹çœ‹å½“å‰ç›®å½•ä¸‹çš„å†…å®¹

```
ls 
firefox kun1.png
```

- æŸ¥çœ‹å›¾ç‰‡

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231230-1703904871355)

- å¯ä»¥ç”¨opencvæ‰“å¼€è¿™ä¸ªkun1.pngå—ï¼Ÿ


### å›¾ç‰‡çš„è¯»å–å’Œå±•ç¤º

- å…ˆç”¨<kbd>ctrl</kbd> + <kbd>c</kbd> 
	- ç»“æŸfirefoxè¿›ç¨‹

```python3
import cv2
image = cv2.imread("/home/shiyanlou/kun1.png")
cv2.imshow("image", image)
```

- è¿è¡Œç»“æœä¸è®¤è¯†cv2

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231230-1703905334977)

### å®‰è£…åŒ…

```
pip install opencv-python
```

- è¿è¡Œç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231230-1703905388819)

### å†æ¬¡è¯•è¿è¡Œ

- å±•ç°äº†ä¸€ä¸‹
	- ç„¶åå°±æ¶ˆå¤±äº† 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240224-1708744713913)

- å¸Œæœ›èƒ½æŒç»­å±•ç°

### ç­‰å¾…æŒ‰é”®äº‹ä»¶

- ç­‰å¾…æŒ‰é”®äº‹ä»¶

```
import cv2
image = cv2.imread("/home/shiyanlou/kun1.png")
cv2.imshow("image", image)
ret_value = cv2.waitKey(0)
cv2.destroyWindow("image")
```

- æˆåŠŸå±•ç¤ºäº†å›¾åƒ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231230-1703906114207)

- å…‰æ ‡ç§»åŠ¨åˆ°å³ä¸‹è§’
	- x = 481
	- y = 301
	- ç¡®è®¤å¤§å° 
	- è§‚å¯Ÿé¢œè‰²

### è®¾ç½®ç­‰å¾…æ—¶é—´

- åŸæ¥ æ— æœŸé™ ç­‰å¾…æŒ‰é”®äº‹ä»¶
	- ç°åœ¨ è®¾ç½®ä¸º ç­‰å¾… 2000ms

```
import cv2
image = cv2.imread("/home/shiyanlou/kun1.png")
cv2.imshow("image", image)
ret_value = cv2.waitKey(2000)
cv2.destroyWindow("image")
```

- å±•ç¤ºå›¾åƒå
	- è‡ªåŠ¨æ¶ˆå¤±
- å¯ä»¥æŒ‡å®š é€€å‡ºé”® å—ï¼Ÿ

### æŒ‡å®š é€€å‡ºé”®

- æŒ‡å®š<kbd>q</kbd> ä¸º é€€å‡ºé”®

```
import cv2
image = cv2.imread("/home/shiyanlou/kun1.png")
cv2.imshow("image", image)
while True:
    ret_value = cv2.waitKey(0)
    print(ret_value)
    if ret_value == ord("q"):
        cv2.destroyWindow("image")
        break
```

- é”®å…¥<kbd>q</kbd> ä¹‹å
	- ç¨‹åºé€€å‡º

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240224-1708745397959)

- å¯ä»¥å¦å­˜æ–‡ä»¶å—ï¼Ÿ

### å›¾ç‰‡çš„è¯»å–å’Œå†™å…¥

```python
import cv2 
image = cv2.imread("/home/shiyanlou/kun1.png")
cv2.imwrite('/home/shiyanlou//kunkun.png',image)
```

- è¿è¡Œç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231230-1703906405745)

- ä¹Ÿå¯ä»¥ç”¨ç«ç‹æ‰“å¼€

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231230-1703906427432)

- å¯ä»¥ä¿®æ”¹å›¾ç‰‡çš„æ ¼å¼å—ï¼Ÿ

### å›¾åƒæ ¼å¼è½¬åŒ–

```
import cv2
img = cv2.imread(r'/home/shiyanlou/kun1.png')
cv2.imwrite(r'/home/shiyanlou/kun1.jpg', img)
```

- è¿è¡Œç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231230-1703906536494)

- å¯ä»¥ä¿®æ”¹ å›¾ç‰‡æ ¼å¼å’Œè´¨é‡å—ï¼Ÿ

### ä¿®æ”¹è´¨é‡

```
import cv2
import numpy as np

#è¯»å–å›¾åƒ
img = cv2.imread("monkey.png")

#æ˜¾ç¤ºå›¾åƒ
cv2.imshow("Demo", img)

#ä¿å­˜å›¾åƒ
cv2.imwrite("dst1.jpg", img, [int(cv2.IMWRITE_JPEG_QUALITY), 5])
cv2.imwrite("dst2.jpg", img, [int(cv2.IMWRITE_JPEG_QUALITY), 100])
cv2.imwrite("dst3.png", img, [int(cv2.IMWRITE_PNG_COMPRESSION), 0])
cv2.imwrite("dst4.png", img, [int(cv2.IMWRITE_PNG_COMPRESSION), 9])

#ç­‰å¾…æ˜¾ç¤º
cv2.waitKey(0)
cv2.destroyAllWindows()
```

- ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240217-1708178398258)

- å›¾ç‰‡è´¨é‡å’Œå¤§å°
	- éœ€è¦å¹³è¡¡
- å¯ä»¥æŒ‡å®šå›¾åƒçš„æ˜¾ç¤ºå¤§å°å—ï¼Ÿ

### è°ƒæ•´å±•ç¤ºçª—å£å¤§å°
```
import cv2
image = cv2.imread("/home/shiyanlou/kun1.png")
cv2.namedWindow('image', cv2.WINDOW_NORMAL)
cv2.resizeWindow('image', 800, 600)
cv2.imshow("image", image)
key = cv2.waitKey(0)
cv2.destroyAllWindows()
```

- æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231230-1703906023270)

- å›¾åƒå±•ç¤ºçª—å£æ˜æ˜¾å˜å¤§
- ä½†æ˜¯å°†é¼ æ ‡ç§»åŠ¨åˆ°å³ä¸‹è§’ä»ç„¶æ˜¯
	- x = 481
	- y = 301

### å›¾ç‰‡çš„è¾“å‡º

```
import cv2 
image = cv2.imread("/home/shiyanlou/kun1.png")
print(image)
```

- æ‰§è¡Œç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231230-1703906728016)

- çœ‹èµ·æ¥åƒæ˜¯ä¸€ä¸ªä¸‰ç»´çš„åˆ—è¡¨
	- è¿™å¦‚ä½•ç†è§£å‘¢ï¼Ÿ

### æ€»ç»“

- æˆ‘ä»¬è¿™æ¬¡å®‰è£…äº†opencv
	- å¹¶ä¸”æ‰“å¼€äº†å›¾ç‰‡
	- æŸ¥çœ‹äº†å›¾ç‰‡
	- è¿˜å¦å­˜äº†å›¾ç‰‡
- å›¾ç‰‡çš„æœ¬è´¨æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ
- ä¸ºä»€ä¹ˆè¾“å‡ºçš„æ—¶å€™ä¼šè¾“å‡ºä¸€ä¸ªä¸‰ç»´æ•°ç»„å‘¢ï¼ŸğŸ¤”
- æˆ‘ä»¬ä¸‹æ¬¡å†è¯´	ğŸ‘‹
â€‹

