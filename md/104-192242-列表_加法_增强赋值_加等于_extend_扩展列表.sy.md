---
show: step
version: 1.0
enable_checker: true
---

# åˆ—è¡¨ - è¿ç®— - åˆ—è¡¨ç›¸åŠ 

## å›å¿†

- åˆ—è¡¨ èµ‹å€¼è¿ç®—
  1. ç›´æ¥ å°†åˆ—è¡¨ èµ‹å€¼
	- é€ æˆä¸¤ä¸ªåˆ—è¡¨æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡
		- ä¸€æ”¹å…¨æ”¹
		- æ‰€æœ‰æ“ä½œéƒ½ä¼šä½œç”¨åˆ°ä¸€ä¸ªå¯¹è±¡ä¸Š
  2. å°†åˆ—è¡¨å‰¯æœ¬ èµ‹ç»™ å˜é‡
	- è¿™ä¸¤ä¸ªåˆ—è¡¨å˜é‡æŒ‡å‘ä¸åŒçš„å¯¹è±¡
		- äº’ä¸å½±å“
	- åˆ¶ä½œå‰¯æœ¬çš„ 3ç§æ–¹æ³•
		- copyæ‹·è´
		- listæ„é€ å‡½æ•°
		- sliceåˆ‡ç‰‡

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221115-1668500786899)

- åˆ—è¡¨å¯ä»¥åšåŠ æ³•å—ï¼ŸğŸ¤”
	- æ¯”å¦‚ l1 + l2

### å›å¿†å­—ç¬¦ä¸²

- å­—ç¬¦ä¸²å¯ä»¥è¿›è¡Œ
	- åŠ æ³•
	- ä¹˜æ³•

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630203640962)

- åˆ—è¡¨ èƒ½åšåŠ æ³•å—ï¼Ÿ

- åˆ—è¡¨ç›¸åŠ  æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ

### å››å¤§åè‘—å¤§ä¹±ç‚–

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192242/uid1190679-20250330-1743339822017) 

```
import random

# ä»å››å¤§åè‘—ä¸­åˆ†åˆ«æå–è§’è‰²å’Œäº‹è¿¹
# ã€Šè¥¿æ¸¸è®°ã€‹
journey_to_the_west_characters = ["å­™æ‚Ÿç©º", "å”åƒ§", "æ²™åƒ§"]
journey_to_the_west_stories = ["å¤§é—¹å¤©å®«", "ä¸‰æ‰“ç™½éª¨ç²¾", "çœŸå‡ç¾çŒ´ç‹"]

# ã€Šçº¢æ¥¼æ¢¦ã€‹
dream_of_the_red_chamber_characters = ["æ—é»›ç‰", "è´¾å®ç‰", "è–›å®é’—"]
dream_of_the_red_chamber_stories = ["é»›ç‰è‘¬èŠ±", "å®ç‰æŒ¨æ‰“", "å®é’—æ‰‘è¶"]

# ã€Šä¸‰å›½æ¼”ä¹‰ã€‹
romance_of_the_three_kingdoms_characters = ["åˆ˜å¤‡", "å…³ç¾½", "è¯¸è‘›äº®"]
romance_of_the_three_kingdoms_stories = ["æ¡ƒå›­ç»“ä¹‰", "è‰èˆ¹å€Ÿç®­", "ç©ºåŸè®¡"]

# ã€Šæ°´æµ’ä¼ ã€‹
water_margin_characters = ["å®‹æ±Ÿ", "æ­¦æ¾", "é²æ™ºæ·±"]
water_margin_stories = ["æ€’æ€é˜å©†æƒœ", "æ™¯é˜³å†ˆæ‰“è™", "å€’æ‹”å‚æ¨æŸ³"]

# æ±‡æ€»è§’è‰²åˆ—è¡¨
all_characters = journey_to_the_west_characters + \
                 dream_of_the_red_chamber_characters + \
                 romance_of_the_three_kingdoms_characters + \
                 water_margin_characters

# æ±‡æ€»äº‹è¿¹åˆ—è¡¨
all_stories = journey_to_the_west_stories + \
              dream_of_the_red_chamber_stories + \
              romance_of_the_three_kingdoms_stories + \
              water_margin_stories

# éšæœºæ­é…è§’è‰²å’Œäº‹è¿¹
random_character = random.choice(all_characters)
random_story = random.choice(all_stories)

print(f"{random_character}â€”â€”{random_story}")
```

### ç»“æœ

- ä»£ç ä¸­çš„åæ–œæ  æ˜¯ 
	- ç»­èˆªç¬¦
	- line-continuation character

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192242/uid1190679-20250330-1743339998113) 

### åˆ—è¡¨åŠ æ³•

- æ•°å­—åˆ—è¡¨
	- https://pythontutor.com/render.html#mode=display

```
l1 = list(range(3))
print("l1:", l1)
l2 = [3, 4, 5]
print("l2:", l2)
print("l1 + l2:", l1 + l2)
```

- åˆ—è¡¨ å¥½åƒçœŸçš„å¯ä»¥ç›¸åŠ 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192242/uid1190679-20250110-1736507273433) 

- è¯•è¯•å­—ç¬¦ä¸²åˆ—è¡¨

### åŠ æ³•è¿ç®—

```
l1 = list("oeasy")
l2 = list("o2z")
l1 + l2 
```

- åŠ æ˜¯å¯ä»¥åŠ çš„

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630210864598)

- ä½†æ˜¯ ç›¸åŠ çš„ç»“æœ
	- æ²¡èµ‹ç»™ ä»»ä½•å˜é‡
	- éšç€ å¯„å­˜å™¨ ä¸‹æ¬¡è¢«èµ‹å€¼
	- åƒåœ¾å›æ”¶äº†
	- æ²¡äº†

### åŠ å®Œäº†èµ‹å€¼

```
l1 = list("oeasy")
l2 = list("o2z")
l3 = l1 + l2 
```

- æŠŠåŠ æ³•çš„ç»“æœèµ‹ç»™ l3

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630210997707)

- åŠ æ³•çš„ç»“æœ
	- æœ‰å˜é‡åå¼•ç”¨
	- å°±ä¸ä¼š è¢« åƒåœ¾å›æ”¶ äº†
- ä»€ä¹ˆæ˜¯åƒåœ¾å›æ”¶å‘¢ï¼Ÿ

### åƒåœ¾å›æ”¶

- ä¹‹å‰çš„è¯­è¨€
	- åˆ†é…å’Œé‡Šæ”¾å†…å­˜éƒ½æ˜¯é ä»£ç å®Œæˆçš„
	- å®¹æ˜“å¿˜è®°é‡Šæ”¾å†…å­˜
		- é€ æˆå†…å­˜æ³„æ¼
		- å ç”¨è¶Šæ¥æ„ˆå¤š
		- æœ€åå´©æºƒ


![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231203-1701613574679)

- python è§£é‡Šå™¨ 
	- å®šæœŸè§‚å¯Ÿåˆ†é…ç»™å˜é‡çš„ç©ºé—´
		- æ˜¯å¦è¿˜æœ‰å˜é‡åœ¨å¼•ç”¨
		- getrefcount
	- æ²¡æœ‰å¼•ç”¨çš„è¯ 
		- å°±åƒåœ¾å›æ”¶
		- garage collection
		- gc
- l1ã€l2ã€l3 ä¸‰ä¸ªå˜é‡
	- å¼•ç”¨åœ°å€ç›¸åŒå—ï¼Ÿ

### åœ°å€æƒ…å†µ

- è¾“å‡ºåœ°å€

```
l1 = list("oeasy")
print("l1:", l1)
l2 = list("o2z")
print("l2:", l2)
l3 = l1 + l2 
print("l3:", l3)
```

- è¿™ä¸‰ä¸ªå˜é‡ åœ°å€ä¸åŒ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221123-1669167853410)

- å¦‚æœ æŠŠ æ±‚å’Œç»“æœ èµ‹ç»™ l1 å‘¢ï¼Ÿ

### å°†åˆ—è¡¨ä¹‹å’Œèµ‹ç»™l1

```
l1 = list("oeasy")
print("l1:", id(l1))
l2 = list("o2z")
print("l2:", id(l2))
l1 = l1 + l2 
print("l1:", id(l1))
```

- èµ‹å€¼ä¹‹å
	- l1 ä¸å† æŒ‡å‘åŸæ¥çš„åœ°å€
	- è€Œæ˜¯æŒ‡å‘å’Œçš„åœ°å€

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20250330-1743325098154)

- å¯ä»¥ç”¨å¢å¼ºèµ‹å€¼å—ï¼Ÿ

### å¢å¼ºèµ‹å€¼

- += ä¹Ÿå«åš å¢å¼ºèµ‹å€¼è¿ç®—
	- augmented assignment

```
l1 = list("oeasy")
print("l1:", id(l1))
l2 = list("o2z")
print("l2:", id(l2))
l1 += l2 
print("l1:", id(l1))
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231204-1701649319595)

- é‚£ä¸‹é¢è¿™ä¸¤ä¸ª ç­‰ä»·å—ï¼Ÿ
	- l1 = l1 + l2
	- l1 += l2

### å¢å¼ºèµ‹å€¼è¿ç®—

```
l1 = list("oeasy")
print("l1:", id(l1))
l2 = list("o2z")
print("l2:", id(l2))
l1 += l2 
print("l1:", id(l1))
```

- ä»æ±‚å’Œç»“æœæ¥çœ‹
	- ä¸¤è€…ä¸€è‡´

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221123-1669168294023)

- ä»å¼•ç”¨åœ°å€ æ¥çœ‹ 
	- l1 ä½¿ç”¨ l1 + l2 çš„æ–°åœ°å€
	- += åˆ™ä¼šä¿ç•™ l1 åŸæ¥å¼•ç”¨çš„åœ°å€

- å¯ä»¥ç”¨ åˆ‡ç‰‡çš„æ–¹å¼
	- è¿æ¥ä¸¤ä¸ªåˆ—è¡¨å—ï¼Ÿ

### åˆ‡ç‰‡èµ‹å€¼ç»†èŠ‚

```
a = [1, 2, 3]
len(a)
a[3:]
```

- æƒ³è¦åœ¨ åˆ—è¡¨å°¾éƒ¨ æ¥æ–°åˆ—è¡¨
	- é¦–å…ˆè¦ æ‰¾åˆ° åˆ—è¡¨å°¾éƒ¨çš„ ä½ç½® 
	- ç”¨len(a)å¾—åˆ°açš„é•¿åº¦ä¸º3
	- a[3:]å°±æ˜¯å°¾éƒ¨çš„ç©ºåˆ—è¡¨

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221124-1669281645090)

- ä½¿ç”¨åˆ‡ç‰‡ a[len(a):] = b
	- å…¶å®å°±æ˜¯åœ¨ aåé¢
	- å†è¿½åŠ  åˆ—è¡¨b

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210914-1631580147683)

- å˜é‡å¼•ç”¨æƒ…å†µå¦‚ä½•å‘¢ï¼Ÿ

### å†…å­˜å¼•ç”¨æƒ…å†µ

```
a = [1, 2, 3]
b = [4, 5, 6]
a[len(a):] = b
print(a)
```

- å¯¹aå°¾éƒ¨åˆ‡ç‰‡èµ‹å€¼
	- ä¸ä¼šæ”¹å˜aå¼•ç”¨çš„åœ°å€

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221123-1669168490702)

- aè¢«æ‰©å±•(extend)äº†
	- è¿˜çœŸæœ‰ä¸ªæˆå‘˜æ–¹æ³•
	- å°±å«åš extend

### extend

```
l1 = list("oeasy")
l2 = list("o2z")
l1.extend(l2)
```

- ç¡®å®èƒ½å¤Ÿæ‰©åˆ—
	- æ‰©å±•åˆ—è¡¨

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630211378376)

- è¿™ä¸ªextendæ€ä¹ˆç”¨ï¼Ÿ

### æŸ¥è¯¢å¸®åŠ©

```
help(lsit.extend)
```

- æ±‚åŠ©æ‰‹å†Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630211311655)

- extend 
	- æŠŠå‚æ•°é‡Œé¢çš„åˆ—è¡¨
	- å¾ªç¯åœ°æ”¾åˆ°extendæ–¹æ³•çš„ä¸»ä½“åé¢

- å°†åˆ—è¡¨ç›¸åŠ 
	- l1 = l1 + l2
	- å¯ä»¥å¾—åˆ°åˆ—è¡¨åœ¨ æ–°åœ°å€
- è¿˜æœ‰ 3ç§æ–¹å¼ å¯ä»¥ æ‰©å……åˆ—è¡¨
	1. l1 += l2
 	2. l1[-1:] = l2
	3. l1.extend(l2)
	- ä½†æ˜¯ ç”¨çš„æ˜¯ åŸæ¥çš„åˆ—è¡¨åœ°å€
- æ•ˆç‡å¦‚ä½•å‘¢ï¼Ÿ

### æ•ˆç‡

- åŠ æ³•è¿ç®—æ•ˆç‡æœ€ä½
	- æ˜¯æ–°å»ºä¸€ä¸ªåˆ—è¡¨
	- ç„¶åæŠŠ l1 çš„åˆ—è¡¨é¡¹éƒ½æ‹¿è¿‡æ¥
	- å†æŠŠ l2 çš„åˆ—è¡¨é¡¹éƒ½æ‹¿è¿‡æ¥
	- æœ€åæŠŠç›¸åŠ ç»“æœèµ‹ç»™ l1
- æ•ˆç‡ ä¸å¦‚ 
	- å¢å¼ºèµ‹å€¼
	- åˆ‡ç‰‡èµ‹å€¼ 
	- extend

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210829-1630211451887)

- é‚£è¿™ä¸ª extend å’Œ append 
- æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ

### åŒºåˆ«

```
num_list = [1, 2, 3]
print(num_list)
num_list.append([4, 5])
print(num_list)
num_list.remove([4, 5])
print(num_list)
num_list.extend([4, 5])
print(num_list)
```

- æ“ä½œå¯¹è±¡ä¸åŒ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192242/uid1190679-20250110-1736512133801) 

### å¯¹æ¯”

- append 
	- æ·»åŠ çš„ æ˜¯ åˆ—è¡¨é¡¹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231202-1701487044192)

- extend 
	- æ‰©å±• åŸå§‹åˆ—è¡¨ 
	- æŠŠ æ–°åˆ—è¡¨ å¯¹æ¥åˆ° åŸåˆ—è¡¨ å°¾å·´ä¸Š

### æ€»ç»“

- è¿™æ¬¡æˆ‘ä»¬äº†è§£ åˆ—è¡¨åŠ æ³•
	- l1 = l1 + l2 
	  - åŠ æ³•çš„æœ¬è´¨ æ˜¯  å°†ä¸¤ä¸ªåˆ—è¡¨ æ‹¼æ¥
	  - å¹¶å°† ç»“æœä½ç½® èµ‹ç»™å¸§(frame)ä¸Šçš„å˜é‡ æ¥å¼•ç”¨
	- è¿˜æœ‰3ç§åšæ³•
		1. l1 += l2
		2. l1[-1:] = l2
		3. l1.extend(l2)
- ä¸Šè¿° 2ç±»æ–¹æ³• ç»“æœç›¸åŒ
	- ä½†æ˜¯ç¨æœ‰åŒºåˆ«
		1. ç»“æœ`åœ°å€`
			- ä¼šæ”¹å˜l1åœ°å€
			- åä¸‰ç§ä¸æ”¹å˜åœ°å€
		2. `æ•ˆç‡`ä¸åŒ
			- åä¸‰ç§æ•ˆç‡é«˜
			- ç›´æ¥æ‰©å±•åˆ—è¡¨

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192242/uid1190679-20250110-1736518343962) 

- æ—¢ç„¶ æœ‰ åˆ—è¡¨`åŠ æ³•`
	- é‚£æœ‰ åˆ—è¡¨`ä¹˜æ³•` å—ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ ğŸ‘‹
