---
show: step
version: 1.0
enable_checker: true
---

# å¯¼å…¥ request åŒ…

## æ–°çš„å¼€å§‹

- ç°åœ¨ å°±è¦ ç©çˆ¬è™«äº†
	- æˆ‘ä»¬ä»å“ªé‡Œå¼€å§‹å‘¢ï¼Ÿ
	- é¦–å…ˆè®¿é—®ä¸€ä¸‹æœ¬åœ°ä¸»æœº

```
firefox http://localhost
```

- è¿æ¥ å¤±è´¥
	- æœ¬åœ° æ²¡å¼€webæœåŠ¡

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192569/uid1190679-20250419-1745051236038) 

- æ€ä¹ˆå¼€å¯ webæœåŠ¡å™¨ å‘¢ï¼Ÿ

### nginx

- <kbd>ctrl</kbd> + <kbd>c</kbd>
	- ç»ˆæ­¢ç«ç‹

```
sudo service nginx start
sudo service nginx status
```

- nginx çš„æ„æ€æ˜¯ `engine x`

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221118-1668769671876)

- æœåŠ¡å¯åŠ¨å®Œæˆä¹‹å

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220912-1662949090031)

- è¯•ç€ç”¨æµè§ˆå™¨è®¿é—® localhost

### å†è®¿é—®ç½‘é¡µ

```
firefox &
```

- æœ€åçš„ `&` 
	- è®© ç«ç‹firefox è¿›ç¨‹  
	- åå°è¿è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192569/uid1190679-20250419-1745053950931) 

- <kbd>F12</kbd> å¼€å¯æ£€æŸ¥å™¨

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220912-1662949192013)

- ç‚¹å‡» `ç½‘ç»œ` é€‰é¡¹å¡

### è®¿é—®

- åœ¨åœ°å€æ è¾“å…¥`localhost`
	- ç„¶åå›è½¦

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192569/uid1190679-20250419-1745054318995) 

- åœ¨ç½‘ç»œä¸­ æµè§ˆå™¨å‘èµ·äº† `è¯·æ±‚`
	- å¹¶å¾—åˆ°äº† `å“åº”`
- ä»€ä¹ˆ æ˜¯ `è¯·æ±‚`ä¸`å“åº”`

### è¯·æ±‚ request

- ä» æµè§ˆå™¨ å‘å‡º
	- `http get`è¯·æ±‚(request)
- http
	- hyper-text transmit protocol
    - è¶…æ–‡æœ¬ä¼ è¾“åè®®
    - æ˜¯ç½‘ç»œä¼ è¾“ä¸­ä½¿ç”¨çš„åè®®

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192569/uid1190679-20250419-1745054431721) 

- GET
    - è¯·æ±‚æ‰€ç”¨çš„æ–¹æ³•
- è¿™æ˜¯ ä»ç«ç‹æµè§ˆå™¨
	- å‘å¾€ æœåŠ¡å™¨çš„ è¯·æ±‚

- æœåŠ¡å™¨ æ¥åˆ° è¯·æ±‚ä¹‹å
	- ä¼šå¦‚ä½•å‘¢ï¼Ÿ

### è¯·æ±‚ä¸å“åº”

- æœåŠ¡å™¨ æ¥åˆ° è¯·æ±‚(request) ä¹‹å
	- ä¼šè¿›è¡Œ å“åº”(response)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210831-1630412050376)

|ä¸­æ–‡|è‹±æ–‡|å‘é€æ–¹|æ¥æ”¶æ–¹|
|---|---|---|---|
|è¯·æ±‚|request|æµè§ˆå™¨|æœåŠ¡å™¨|
|å“åº”|response|æœåŠ¡å™¨|æµè§ˆå™¨|

- è¯·æ±‚ é‡Œé¢ 
	- éƒ½åŒ…æ‹¬ `å•¥` å‘¢ï¼Ÿ

### è¯·æ±‚å¤´ request head

- ç«ç‹æµè§ˆå™¨ä¼šè‡ªåŠ¨åŠ ä¸Šä¸€äº›è¯·æ±‚å¤´

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192569/uid1190679-20250419-1745054926399/wm) 


|åç§°|å«ä¹‰|
|---|---|
|Accept-Language | æ¥å—çš„è¯­è¨€|
|Host|è¢«è¯·æ±‚çš„ä¸»æœº|
|User-Agent|å‘è¯·æ±‚çš„æµè§ˆå™¨|

- nginx æœåŠ¡å™¨æ¥æ”¶åˆ°äº†è¯·æ±‚ä¹‹å
	- å°±ä¼šè¿›è¡Œå¤„ç†
	- å°±åƒè·‘å ‚çš„ ä¼šå¤„ç†å®¢äººè¦æ±‚ä¸€æ ·
	- æŠŠå®¢äººéœ€æ±‚ æç»™åå°æœåŠ¡å™¨
- è¯·æ±‚ æœ‰ è¯·æ±‚å¤´ çš„è¯
	- å“åº” æœ‰ å“åº”å¤´ å—ï¼Ÿ

### å“åº” Response

- æœåŠ¡å™¨ æ ¹æ® æ¥æ”¶åˆ°çš„è¯·æ±‚ 
	- ç”Ÿæˆ å“åº” 
	- å‘å›ç»™ æµè§ˆå™¨

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210831-1630406600963)

- æµè§ˆå™¨ä¼šæ¥åˆ°å“åº”å¤´

|åç§°|å«ä¹‰|
|---|---|
|Contentâ€”Length|å†…å®¹å­—èŠ‚é•¿åº¦|
|Date|æ¥æ”¶æ—¶é—´|
|Server|æœåŠ¡å™¨|
|Contentâ€”Type|æ¥æ”¶æ–‡ä»¶ç±»å‹|

- æµè§ˆå™¨ æ ¹æ® ç±»å‹ è¿›è¡Œå¤„ç†
	- html å°±åœ¨ æµè§ˆå™¨ä¸­ æ¸²æŸ“
	- zipå°±ç›´æ¥ä¸‹è½½

### å®Œæˆ

- è¯·æ±‚-å“åº” è¿‡ç¨‹å®Œæˆäº†
  - ä¼šå¾—åˆ°ä¸€ä¸ª çŠ¶æ€ç 
  - Status_Code

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231015-1697366395464)

- è¿™æ¡ Getè¯·æ±‚ å¾—åˆ°äº† æˆåŠŸå“åº”
  - æˆåŠŸçŠ¶æ€ç  æ˜¯ 200

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192569/uid1190679-20250419-1745055493743) 

### åˆ·æ–°

- æ­¤æ—¶ åˆ·æ–°ç½‘é¡µ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192569/uid1190679-20250419-1745055627433/wm) 


- çŠ¶æ€ç  å˜æˆäº† `304`
	- Not Modified
	- æ²¡æœ‰ä¿®æ”¹
- æ€ä¹ˆå›äº‹ å‘¢ï¼ŸğŸ¤”

### 304

- ç‚¹å‡»å°é—®å·

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221118-1668758245286)

- åœ¨æœ¬æ¬¡è®¿é—®ä¹‹å‰ 
	- æµè§ˆå™¨ å·²ç»å¾—åˆ° è¿™ä¸ªhtmlæ–‡ä»¶äº†
	- å¹¶ä¸”å·²ç» ç¼“å­˜åˆ°äº† æœ¬åœ°ç¡¬ç›˜
	- è®°å½•ä¸‹äº† è¿™ä¸ªhtmlæ–‡ä»¶çš„ ä¿®æ”¹æ—¶é—´
- è¿™æ¬¡ å‘è¯·æ±‚çš„æ—¶å€™
	- æŠŠè¿™ä¸ª html ä¸Šæ¬¡çš„ä¿®æ”¹æ—¶é—´
	- ä½œä¸º è¯·æ±‚å¤´ å‘åˆ°æœåŠ¡å™¨
- æœåŠ¡å™¨ 
	- æ¥æ”¶åˆ° è¯·æ±‚
	- å‘ç° ä¸Šæ¬¡çš„è®¿é—®ä¹‹å ç½‘é¡µæ²¡æœ‰ä¿®æ”¹
	- ç›´æ¥ è¿”å›304 å‘Šè¯‰æµè§ˆå™¨
		- ç½‘é¡µ å°±ä¸ä¼ ç»™ ä½  äº†
		- è¿˜ç”¨ ä¸Šæ¬¡ç¼“å­˜çš„ å°±è¡Œ
- é™¤æ­¤304ä¹‹å¤– 
	- è¿˜æœ‰åˆ«çš„çŠ¶æ€ç å—ï¼ŸğŸ¤”

### 404

- è®¿é—®æœåŠ¡å™¨ä¸­ ä¸å­˜åœ¨çš„èµ„æº
	- æ¯”å¦‚ favicon.ico

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192569/uid1190679-20250419-1745058067914) 

- çŠ¶æ€ç æ˜¯404
	- ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ

### 404

- çŠ¶æ€404

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221118-1668757107812)

- 404å…·ä½“æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ
  - ç‚¹å‡»çŠ¶æ€ç åé¢é‚£ä¸ªå°é—®å·
  - å¦‚æœæ²¡æœ‰ç½‘çš„è¯å°±æŠŠåœ°å€å¤åˆ¶ç²˜è´´å‡ºæ¥
	- https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status

### çŠ¶æ€ç 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210831-1630406931714)

- å¾€ä¸‹ç¿»
	- ç¡®å®æ‰¾åˆ°äº†å¯¹äº404çš„ç†è§£

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221118-1668757299186)

### èµ„æºä¸å­˜åœ¨

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221118-1668737376530)

### å°è¯•

```
firefox http://localhost/oeasy.html &
```

- è®¿é—® ä¸å­˜åœ¨çš„èµ„æº

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192569/uid1190679-20250419-1745058238417) 

- è¿™304ã€404çš„çŠ¶æ€ç 
	- `è°`è§„å®šçš„å‘¢ï¼Ÿ

### è§„åˆ™

- ç«ç‹æµè§ˆå™¨ çš„ è§„åˆ™ 
	- æ¥è‡ªç«ç‹ 
- å„ç§æµè§ˆå™¨ åœ¨è¿™æ–¹é¢ æœ‰å…±è¯†
	- æºè‡ª å¯¹HTTPåè®®çš„ ç†è§£

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192569/uid1190679-20250419-1745058553582/wm) 

- ä»€ä¹ˆæ˜¯ http åè®®

### HTTP

- HTTP
	- `H`yper-`T`ext `T`ranfer `P`rotocol
	- è¶…æ–‡æœ¬ä¼ è¾“åè®®

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20250419-1745058785471)

- å…·ä½“æ˜¯ä»€ä¹ˆæ–‡æ¡£å‘¢ï¼Ÿ

### æœ€åˆå®šä¹‰

- çŠ¶æ€ç  æ¥è‡ªäº
	- [rfc1945](https://www.rfc-editor.org/rfc/inline-errata/rfc1945.html)
	- 1996å¹´5æœˆ çš„ å¾æ±‚æ„è§ç¨¿

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192569/uid1190679-20250419-1745060902942) 

- rfc1945
	- å°±æ˜¯ Request for Comments: 2616
	- rfc æ˜¯ å¾æ±‚(request)æ„è§(comments)çš„ç¨¿å­
- è°åœ¨å¾æ±‚ æ„è§å‘¢ï¼Ÿ

### æ¥æº
- rfc1945 æ˜¯ 
	- ietfä¸­çš„ 
    - å› ç‰¹ç½‘(internet) åä¼š(society) æå‡ºçš„
    - å’Œæ‰€æœ‰ä½¿ç”¨ äº’è”ç½‘çš„ç”¨æˆ· å¾æ±‚æ„è§

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192569/uid1190679-20250419-1745060826821) 

- è¿™é‡Œ å®šä¹‰äº† httpåè®®çš„ æœ€åˆçš„æ ·å­	
	- ä»rfc1945 å¼€å§‹ å°±æœ‰ 404 äº†
	- rfc1945ä¹‹å‰è¿404éƒ½æ²¡æœ‰
- æœ‰äº†å¤±è´¥
	- ä¹Ÿå°±å­•è‚²äº†æˆåŠŸ

### æˆåŠŸ

```
firefox http://localhost/50x.html &
```

- å°è¯•è®¿é—® http://localhost/50x.html
	- 200

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240331-1711880782739)

### æˆåŠŸ

- 2å¼€å¤´çš„ 200-299 
	- éƒ½æ˜¯æˆåŠŸ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210831-1630407043185)

## æ€»ç»“

- æˆ‘ä»¬ å®‰è£…å¹¶å¯åŠ¨äº† 
	- nginx æœåŠ¡å™¨
	- äº†è§£äº† çŠ¶æ€ç 

|çŠ¶æ€ç  | çŠ¶æ€|
|---|---|
|200| Ok|
|304| Not modified|
|404| Not found|

- ä½¿ç”¨æµè§ˆå™¨ è®¿é—® æœåŠ¡å™¨ä¸Šçš„ ç½‘é¡µ

|ä¸­æ–‡|è‹±æ–‡|å‘é€æ–¹|æ¥æ”¶æ–¹|
|---|---|---|---|
|è¯·æ±‚|request|æµè§ˆå™¨|æœåŠ¡å™¨|
|å“åº”|response|æœåŠ¡å™¨|æµè§ˆå™¨|

- çˆ¬è™« åˆ°åº•`æ€ä¹ˆç”¨` å‘¢ï¼ŸğŸ¤£

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220912-1662951986226)

- ä¸‹æ¬¡å†è¯´ğŸ‘‹
