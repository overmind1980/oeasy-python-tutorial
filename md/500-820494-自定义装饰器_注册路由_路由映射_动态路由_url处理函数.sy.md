---
show: step
version: 1.0
enable_checker: true
---

# flask æœ€å°åº”ç”¨

## å›å¿†ä¸Šæ¬¡

- ä¸Šæ¬¡ è®¾ç½®äº† 
	- ç›´æ¥è¿è¡Œ
	- è°ƒè¯•æ¨¡å¼
	- è¾“å‡ºé‡å®šå‘

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230421-1682046745155)

- ç›®å‰åªèƒ½è®¿é—®é¦–é¡µ
	- å¯ä»¥è®¾ç½® å¯¹äºå­urlçš„ å“åº”å—ï¼Ÿ
	- æ¯”å¦‚http://localhost/oeasy

### ä¿®æ”¹ app.py

```
from flask import Flask

app = Flask(__name__)

@app.route("/")
def hello_world():
    return "<p>Hello, o3333z!</p>"

if __name__ == "__main__":
    app.run(debug=True)
```

- è¿è¡ŒæˆåŠŸ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230421-1682046852375)

### è§‚å¯Ÿä¾‹å­

- è‡ªå®šä¹‰è£…é¥°å™¨
	- æ³¨å†Œ è·¯ç”±

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230122-1674393784278)

- ä»€ä¹ˆæ˜¯è·¯ç”±å‘¢?

###  route 

- route å°±æ˜¯
	- é“è·¯

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240402-1712044562459)

- æ ¹æ®ä¸åŒçš„ç½‘å€(url)
	- æ‰§è¡Œ ä¸åŒä»£ç 
- å«åš æ ¹æ®
	- url è¿›è¡Œè·¯ç”±

### å…·ä½“ä»£ç 

```
from flask import Flask

app = Flask(__name__)
@app.route('/')
def index():
    return 'Index Page'

@app.route('/hello')
def hello():
    return 'Hello, World'

if __name__ == "__main__":
    app.run(debug=True)
```

- ç²˜è´´åˆ°app.py

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230421-1682046948750)

### æœåŠ¡å™¨è‡ªåŠ¨åŠ è½½

- å®ç°äº†å¯¹äº/helloçš„è·¯ç”±

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230122-1674394199957)

- å¯ä»¥å®ç°
	- åŠ¨æ€ çš„è·¯ç”±å—ï¼Ÿ

### åŠ¨æ€è·¯ç”±

```
from flask import Flask
from markupsafe import escape

app = Flask(__name__)

@app.route("/<name>")
def hello(name):
    return f"Hello, {escape(name)}!"

if __name__ == "__main__":
    app.run(debug=True)
```

- urlä¸­çš„name
	- å¯ä»¥æ˜¯ä»»æ„å­—ç¬¦ä¸²
	- æ‰€ä»¥æ˜¯åŠ¨æ€çš„

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230122-1674394615950)

- ä»£ç  å®ç°äº†
	- åŠ¨æ€è·¯å¾„çš„è·¯ç”±

### å¤šæ¡åŠ¨æ€è·¯ç”±

```
from flask import Flask
from markupsafe import escape

app = Flask(__name__)

@app.route('/user/<username>')
def show_user_profile(username):
    # show the user profile for that user
    return f'User {escape(username)}'

@app.route('/post/<int:post_id>')
def show_post(post_id):
    # show the post with the given id, the id is an integer
    return f'Post {post_id}'

@app.route('/path/<path:subpath>')
def show_subpath(subpath):
    # show the subpath after /path/
    return f'Subpath {escape(subpath)}'


if __name__ == "__main__":
    app.run(debug=True)
```

- è¿™é‡Œæœ‰ä¸‰ç±»è·¯ç”±

### ä¸‰ç±»è·¯ç”±

1. å­—ç¬¦ä¸²åœ°å€

```
@app.route('/user/<username>')
def show_user_profile(username):
    # show the user profile for that user
    return f'User {escape(username)}'
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230122-1674394997027)

2. æ•´å‹æ•°å­—

```
@app.route('/post/<int:post_id>')
def show_post(post_id):
    # show the post with the given id, the id is an integer
    return f'Post {post_id}'
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230122-1674395008430)

3. å­è·¯å¾„åœ°å€

```
@app.route('/path/<path:subpath>')
def show_subpath(subpath):
    # show the subpath after /path/
    return f'Subpath {escape(subpath)}'
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230122-1674395022882)

### urlæ˜ å°„è§„åˆ™

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230427-1682590361511)

- æ˜¾ç¤ºè§„åˆ™

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230204-1675474315587)

## æ€»ç»“

- è¿™æ¬¡äº†è§£åˆ°äº†
	- è·¯ç”±çš„æ–¹æ³•
- ç”¨è£…é¥°å™¨ å£°æ˜url
	- åœ¨å°†è·¯ç”±å°è£…æˆå‡½æ•°
- å£°æ˜urlçš„æ—¶å€™å¯ä»¥ä½¿ç”¨å˜é‡
	- ç„¶åå°†å˜é‡ä¼ å…¥å‡½æ•°å‚æ•°è¿›è¡Œå¤„ç†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230427-1682589364258)

- ä¸€ä¸ªå¤§å‹åº”ç”¨å¯èƒ½æœ‰å„ç§ç±»å‹éœ€è¦å¤„ç†çš„url
	- éƒ½éœ€è¦æ”¾åœ¨åŒä¸€ä¸ªhello.pyä¸­å¤„ç†å—ï¼Ÿ
	- é‚£hello.pyä¼šä¸ä¼šå¤ªé•¿äº†
- å¯ä»¥å°†ç½‘å€
	- è·¯ç”±åˆ° å¦ä¸€ä¸ªpyæ–‡ä»¶
	- è¿›è¡Œå¤„ç†å—ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ğŸ‘‹ğŸ»

