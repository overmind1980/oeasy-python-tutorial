---
show: step
version: 1.0 
enable_checker: true
---


# python_blender

## ÂºÄÂßã

- ‰∏äÊ¨°ÈÄöËøápythonËÆæÁΩÆ‰∫ÜËàûÂè∞Âü∫Êú¨Ë¶ÅÁ¥†
	- ÁÅØÂÖâ
	- Áâ©‰Ωì
	- ÊëÑÂÉèÊú∫
- Âπ∂‰∏îÂ∞ÜÁªìÊûúÊ∏≤Êüì‰∏∫‰∏ÄÂº†png
- Êúâ‰ªÄ‰πà‰ºòÁßÄ‰ΩúÂìÅÂèØ‰ª•Áúã‰∏Ä‰∏ãÂêó??ü§î

### Êú∫Âô®‰∫∫

![ÂõæÁâáÊèèËø∞](https://doc.shiyanlou.com/courses/uid1190679-20240612-1718145082634)

```
import bpy
from math import pi
bpy.ops.object.select_all(action="SELECT")
bpy.ops.object.delete()
collection = bpy.data.collections["Collection"]
robot = bpy.data.objects.new("robot", None)
collection.objects.link(robot)
bpy.ops.mesh.primitive_cube_add(size=1.5, location=(0, 0, 4))
bpy.context.object.parent = robot
bpy.context.object.name = "head"
yellow_material = bpy.data.materials.new('YellowMaterial')
color = (1, 1, 0, 1)
yellow_material.diffuse_color = color
bpy.context.object.data.materials.append(yellow_material)
bpy.context.object.data.materials.append(yellow_material)
bpy.ops.mesh.primitive_cube_add(size=2, location=(0, 0, 2.5))
bpy.context.object.parent = robot
bpy.context.object.name = "body"
green_material = bpy.data.materials.new('GreenMaterial')
color = (0, 1, 0, 1)  
green_material.diffuse_color = color
bpy.context.object.data.materials.append(green_material)
bpy.ops.mesh.primitive_cylinder_add(radius=0.3, depth=1.5, location=(-1.75, 0, 2.5))
bpy.context.object.rotation_euler[1] = pi / 2
bpy.context.object.parent = robot
bpy.context.object.name = "left_arm"
red_material = bpy.data.materials.new('RedMaterial')
color = (1, 0, 0, 1) 
red_material.diffuse_color = color
bpy.context.object.data.materials.append(red_material)
bpy.context.object.data.materials.append(red_material)
bpy.ops.mesh.primitive_cylinder_add(radius=0.3, depth=1.5, location=(1.75, 0, 2.5))
bpy.context.object.rotation_euler[1] = pi / 2
bpy.context.object.parent = robot
bpy.context.object.name = "right_arm"
red_material = bpy.data.materials.new('RedMaterial')
color = (1, 0, 0, 1) 
red_material.diffuse_color = color
bpy.context.object.data.materials.append(red_material)
bpy.context.object.data.materials.append(red_material)
bpy.ops.mesh.primitive_cylinder_add(radius=0.4, depth=2, location=(-0.5, 0, 0.5))
bpy.context.object.parent = robot
bpy.context.object.name = "left_leg"
yellow_material = bpy.data.materials.new('YellowMaterial')
color = (1, 1, 0, 1) 
yellow_material.diffuse_color = color
bpy.context.object.data.materials.append(yellow_material)
bpy.context.object.data.materials.append(yellow_material)
bpy.ops.mesh.primitive_cylinder_add(radius=0.4, depth=2, location=(0.5, 0, 0.5))
bpy.context.object.parent = robot
bpy.context.object.name = "right_leg"
yellow_material = bpy.data.materials.new('YellowMaterial')
color = (1, 1, 0, 1)
yellow_material.diffuse_color = color
bpy.context.object.data.materials.append(yellow_material)
bpy.context.object.data.materials.append(yellow_material)
bpy.ops.mesh.primitive_uv_sphere_add(radius=0.2, location=(-0.5, 0.75, 4.25))
bpy.context.object.parent = robot
bpy.context.object.name = "left_eye"
black_material = bpy.data.materials.new('BlackMaterial')
color = (0, 0, 0, 1)
black_material.diffuse_color = color
bpy.context.object.data.materials.append(black_material)
bpy.context.object.data.materials.append(black_material)
bpy.ops.mesh.primitive_uv_sphere_add(radius=0.2, location=(0.5, 0.75, 4.25))
bpy.context.object.parent = robot
bpy.context.object.name = "right_eye"
black_material = bpy.data.materials.new('BlackMaterial')
color = (0, 0, 0, 1) 
black_material.diffuse_color = color
bpy.context.object.data.materials.append(black_material)
bpy.context.object.data.materials.append(black_material)
camera = bpy.data.cameras.new('MyCamera')
camera_obj = bpy.data.objects.new('CameraObj', camera)
bpy.context.scene.collection.objects.link(camera_obj)
camera_obj.location = (-12.36, 13.48, 9.76)
camera_obj.rotation_euler = (69 * pi / 180, 0, -133 * pi / 180)
bpy.ops.mesh.primitive_plane_add(size=50, location=(0, 0, 0))
bpy.context.scene.camera = camera_obj
bpy.context.scene.render.filepath = '/tmp/rendered_robot.png'
bpy.context.scene.render.image_settings.file_format = 'PNG'
bpy.ops.object.light_add(type='SPOT', radius=10, location=(-16.02, 10, 10))
spot_light = bpy.context.object
spot_light.data.energy = 8000
spot_light.data.spot_size = pi / 4 
spot_light.data.spot_blend = 0.5  
spot_light.rotation_euler = (-5*pi / 180, -58*pi / 180, -27*pi / 180)
bpy.context.scene.render.resolution_x = 640
bpy.context.scene.render.resolution_y = 480
bpy.context.scene.render.resolution_percentage = 50
bpy.ops.render.render(write_still=True)
```


### ÁîúÁîúÂúà

![ÂõæÁâáÊèèËø∞](https://doc.shiyanlou.com/courses/uid1190679-20240616-1718534201153)

```
import bpy
import math


bpy.ops.object.select_all(action='SELECT')
bpy.ops.object.delete()


bpy.ops.mesh.primitive_torus_add(
    align='WORLD', 
    location=(0, 0, 0), 
    rotation=(2, 0, 0), 
    major_radius=2, 
    minor_radius=1, 
    abso_major_rad=1.25,
    abso_minor_rad=0.75
)
torus = bpy.context.object
torus.name = "Ë∫´‰Ωì"
torus.rotation_euler = (math.pi / 2, 0, 0)


bpy.ops.mesh.primitive_uv_sphere_add(
    radius=0.3, 
    location=(-0.8, -1, 1.5)  
)
sphere = bpy.context.object
sphere.name = "Â∑¶Áúº"
bpy.ops.object.mode_set(mode='EDIT')
bpy.ops.mesh.select_all(action='SELECT')
bpy.ops.transform.resize(value=(-1.3, -1, 1.8))  
bpy.ops.object.mode_set(mode='OBJECT')



bpy.ops.mesh.primitive_uv_sphere_add(
    radius=0.3,  
    location=(0.8, -1, 1.5)  
)

sphere = bpy.context.object
sphere.name = "Âè≥Áúº"
bpy.ops.object.mode_set(mode='EDIT')
bpy.ops.mesh.select_all(action='SELECT')
bpy.ops.transform.resize(value=(1.3, -1, 1.8))  
bpy.ops.object.mode_set(mode='OBJECT')
bpy.ops.mesh.primitive_uv_sphere_add(
    radius=0.15,  
    location=(-0.8, -1.2, 1.5)  
)


sphere = bpy.context.object
sphere.name = "Â∑¶ÁúºÁè†"
bpy.ops.object.mode_set(mode='EDIT')
bpy.ops.mesh.select_all(action='SELECT')
bpy.ops.transform.resize(value=(-1.3, -1.2, 1.8)) 
bpy.ops.object.mode_set(mode='OBJECT')


bpy.ops.mesh.primitive_uv_sphere_add(
    radius=0.15, 
    location=(0.8, -1.2, 1.5) 
)
sphere = bpy.context.object
sphere.name = "Âè≥ÁúºÁè†"
bpy.ops.object.mode_set(mode='EDIT')
bpy.ops.mesh.select_all(action='SELECT')
bpy.ops.transform.resize(value=(1.3, -1.2, 1.8)) 
bpy.ops.object.mode_set(mode='OBJECT')


bpy.ops.mesh.primitive_torus_add(
    align='WORLD', 
    location=(0, -1, -1.5), 
    rotation=(0, 0, 0), 
    major_radius=0.5, 
    minor_radius=0.25, 
    abso_major_rad=1.25,
    abso_minor_rad=0.75
)
torus = bpy.context.object
torus.name = "Âò¥"
torus.rotation_euler = (math.pi / 2, 0, 0)
bpy.ops.object.mode_set(mode='EDIT')
bpy.ops.mesh.select_all(action='SELECT')
bpy.ops.transform.resize(value=(1, -1, 1.2)) 
bpy.ops.object.mode_set(mode='OBJECT')


bpy.ops.mesh.primitive_torus_add(
    align='WORLD', 
    location=(-3, -0.3, 0), 
    rotation=(0, 0, 0), 
    major_radius=0.8, 
    minor_radius=0.3, 
    abso_major_rad=1.25,
    abso_minor_rad=0.75
)
torus = bpy.context.object
torus.name = "Â∑¶ËÉ≥ËÜä"
torus.rotation_euler = (math.pi / 2, 0, 0)


bpy.ops.mesh.primitive_torus_add(
    align='WORLD', 
    location=(3, -0.3, 0), 
    rotation=(0, 0, 0), 
    major_radius=0.8, 
    minor_radius=0.3, 
    abso_major_rad=1.25,
    abso_minor_rad=0.75
)
torus = bpy.context.object
torus.name = "Âè≥ËÉ≥ËÜä"
torus.rotation_euler = (math.pi / 2, 0, 0)


bpy.ops.mesh.primitive_cylinder_add(
    radius=0.2, 
    depth=2, 
    enter_editmode=False, 
    align='WORLD', 
    location=(-1, -0.3, -3), 
    scale=(1, 1, 1)
)
torus = bpy.context.object
torus.name = "Â∑¶ËÖø"


bpy.ops.mesh.primitive_cylinder_add(
    radius=0.2, 
    depth=2, 
    enter_editmode=False, 
    align='WORLD', 
    location=(1, -0.3, -3), 
    scale=(1, 1, 1)
)
torus = bpy.context.object
torus.name = "Âè≥ËÖø"


bpy.ops.mesh.primitive_uv_sphere_add(
    radius=0.4,  
    location=(-1, -0.15, -4)  
)
sphere = bpy.context.object
sphere.name = "Â∑¶ËÑö"
bpy.ops.object.mode_set(mode='EDIT')
bpy.ops.mesh.select_all(action='SELECT')
bpy.ops.transform.resize(value=(-3, -1, -1)) 
bpy.ops.object.mode_set(mode='OBJECT')
bpy.ops.transform.translate(value=(-0.4, -0.15, 0))
bpy.ops.transform.resize(value=(0.7, 1, 1))


bpy.ops.mesh.primitive_uv_sphere_add(
    radius=0.4, 
    location=(1, -0.15, -4) 
)
sphere = bpy.context.object
sphere.name = "Âè≥ËÑö"
bpy.ops.object.mode_set(mode='EDIT')
bpy.ops.mesh.select_all(action='SELECT')
bpy.ops.transform.resize(value=(3, -1, -1))
bpy.ops.object.mode_set(mode='OBJECT')
bpy.ops.transform.translate(value=(0.4, -0.15, 0))
bpy.ops.transform.resize(value=(0.7, 1, 1))  

bpy.ops.object.select_all(action='SELECT')
bpy.ops.object.shade_smooth()

from mathutils import Color
bpy.data.objects['Ë∫´‰Ωì'].select_set(True)
bpy.context.view_layer.objects.active = bpy.data.objects['Ë∫´‰Ωì']
mat = bpy.data.materials.new('mat_eye')
color = (0.013,0.718,0.290,1)
mat.diffuse_color = color
bpy.context.object.data.materials.append(mat)

from mathutils import Color
bpy.data.objects['Â∑¶ÁúºÁè†'].select_set(True)
bpy.context.view_layer.objects.active = bpy.data.objects['Â∑¶ÁúºÁè†']
mat = bpy.data.materials.new('mat_eye')
color = (0, 0, 0, 1)
mat.diffuse_color = color
bpy.context.object.data.materials.append(mat)

from mathutils import Color
bpy.data.objects['Âè≥ÁúºÁè†'].select_set(True)
bpy.context.view_layer.objects.active = bpy.data.objects['Âè≥ÁúºÁè†']
mat = bpy.data.materials.new('mat_eye')
color = (0, 0, 0, 1)
mat.diffuse_color = color
bpy.context.object.data.materials.append(mat)

from mathutils import Color
bpy.data.objects['Âò¥'].select_set(True)
bpy.context.view_layer.objects.active = bpy.data.objects['Âò¥']
mat = bpy.data.materials.new('mat_eye')
color = (0.801,0.034,0.060,1)
mat.diffuse_color = color
bpy.context.object.data.materials.append(mat)

from mathutils import Color
bpy.data.objects['Â∑¶ËÉ≥ËÜä'].select_set(True)
bpy.context.view_layer.objects.active = bpy.data.objects['Â∑¶ËÉ≥ËÜä']
mat = bpy.data.materials.new('mat_eye')
color = (1,0.894,0,1)
mat.diffuse_color = color
bpy.context.object.data.materials.append(mat)

from mathutils import Color
bpy.data.objects['Âè≥ËÉ≥ËÜä'].select_set(True)
bpy.context.view_layer.objects.active = bpy.data.objects['Âè≥ËÉ≥ËÜä']
mat = bpy.data.materials.new('mat_eye')
color = (1,0.894,0,1)
mat.diffuse_color = color
bpy.context.object.data.materials.append(mat)

from mathutils import Color
bpy.data.objects['Â∑¶ËÖø'].select_set(True)
bpy.context.view_layer.objects.active = bpy.data.objects['Â∑¶ËÖø']
mat = bpy.data.materials.new('mat_eye')
color = (1,0.912,0.522,1)
mat.diffuse_color = color
bpy.context.object.data.materials.append(mat)

from mathutils import Color
bpy.data.objects['Âè≥ËÖø'].select_set(True)
bpy.context.view_layer.objects.active = bpy.data.objects['Âè≥ËÖø']
mat = bpy.data.materials.new('mat_eye')
color = (1,0.912,0.522,1)
mat.diffuse_color = color
bpy.context.object.data.materials.append(mat)

from mathutils import Color
bpy.data.objects['Â∑¶ËÑö'].select_set(True)
bpy.context.view_layer.objects.active = bpy.data.objects['Â∑¶ËÑö']
mat = bpy.data.materials.new('mat_eye')
color = (0,0.045,0.707,1)
mat.diffuse_color = color
bpy.context.object.data.materials.append(mat)

from mathutils import Color
bpy.data.objects['Âè≥ËÑö'].select_set(True)
bpy.context.view_layer.objects.active = bpy.data.objects['Âè≥ËÑö']
mat = bpy.data.materials.new('mat_eye')
color = (0,0.045,0.707,1)
mat.diffuse_color = color
bpy.context.object.data.materials.append(mat)

camera = bpy.data.cameras.new('MyCamera')
camera_obj = bpy.data.objects.new('CameraObj', camera)
bpy.context.scene.collection.objects.link(camera_obj)
camera.lens = 50  
camera.sensor_width = 36  
camera.sensor_height = 24  
camera_obj.location = (1, -25, 7.5)  
camera_obj.rotation_euler = (-5, 0, 0)


bpy.ops.object.light_add(type='SPOT', radius=1)
bpy.context.object.data.energy = 10000
bpy.context.object.location = (18, -15, 10)
bpy.context.object.rotation_euler = (1.172,0,0.907)
bpy.context.scene.render.resolution_x = 640
bpy.context.scene.render.resolution_y = 480
bpy.context.scene.render.resolution_percentage = 50
#Ê∏≤ÊüìÔºü
bpy.context.scene.camera = camera_obj

# Set the render engine (e.g., CYCLES, BLENDER_EEVEE)
bpy.context.scene.render.engine = 'CYCLES'
# Set the output file path
bpy.context.scene.render.filepath = '/tmp/render2.png'
# Render the current view
bpy.ops.render.render(write_still=True)

```

### ‰∫∫Áâ©

![ÂõæÁâáÊèèËø∞](https://doc.shiyanlou.com/courses/uid1190679-20240612-1718148683687)

```
import bpy

bpy.ops.object.select_all(action="SELECT") 
bpy.ops.object.delete() 
bpy.ops.mesh.primitive_uv_sphere_add()
head = bpy.context.object
bpy.context.object.name  = "head"
head.location = (0,0,4)
head.scale = (1,1,1)
mat6 = bpy.data.materials.new('mat_head')
color6 = (1, 2, 1, 2)
mat6.diffuse_color = color6
bpy.context.object.data.materials.append(mat6)

r_eye = bpy.ops.mesh.primitive_uv_sphere_add()
bpy.context.object.name = "r_eye"
bpy.context.object.location = (0.7, 0.5, 0.3)
bpy.context.object.scale = (0.2, 0.2, 0.2)
mat1 = bpy.data.materials.new('mat_eye')
color1 = (0, 0, 0, 1)
mat1.diffuse_color = color1
bpy.context.object.data.materials.append(mat1)
bpy.context.object.parent = head

l_eye = bpy.ops.mesh.primitive_uv_sphere_add()
bpy.context.object.name = "l_eye"
bpy.context.object.location = (0.7, -0.5, 0.3)
bpy.context.object.scale = (0.2, 0.2, 0.2)
bpy.context.object.data.materials.append(mat1)
bpy.context.object.parent = head

r_ear = bpy.ops.mesh.primitive_uv_sphere_add()
r_ear = bpy.context.object
r_ear.name = "r_ear"
r_ear.location = (0.3,0.8,0.1)
r_ear.scale = (0.2,0.2,0.3)
mat2 = bpy.data.materials.new('mat_ear')
color2 = (2, 1, 1, 1)
mat2.diffuse_color = color2
bpy.context.object.data.materials.append(mat2)
bpy.context.object.parent = head

l_ear = bpy.ops.mesh.primitive_uv_sphere_add()
l_ear = bpy.context.object
l_ear.name = "r_ear"
l_ear.location = (0.3,-0.8,0.1)
l_ear.scale = (0.2,0.2,0.3)
bpy.context.object.data.materials.append(mat2)
bpy.context.object.parent = head

nose = bpy.ops.mesh.primitive_cone_add()
nose = bpy.context.object
nose.name = "nose"
nose.location = (1,0,0.1)
nose.scale = (0.1,0.1,0.2)
mat3 = bpy.data.materials.new('mat_nose')
color3 = (1, 0, 0, 3)
mat3.diffuse_color = color3
bpy.context.object.data.materials.append(mat3)
bpy.context.object.parent = head

body = bpy.ops.mesh.primitive_cylinder_add()
body = bpy.context.object
body.name = "body"
body.location = (0,0,2)
body.scale = (1,1,1)
mat = bpy.data.materials.new('mat_body')
color = (0, 0, 1, 2)
mat.diffuse_color = color
bpy.context.object.data.materials.append(mat)

l_arm = bpy.ops.mesh.primitive_cylinder_add()
l_arm = bpy.context.object
l_arm.name = "l_arm"
l_arm.location = (0,-1,0)
l_arm.scale = (0.2,0.2,1)
mat4 = bpy.data.materials.new('mat_arm')
color4 = (1, 2, 0, 3)
mat4.diffuse_color = color4
bpy.context.object.data.materials.append(mat4)
bpy.context.object.parent = body

r_arm = bpy.ops.mesh.primitive_cylinder_add()
r_arm = bpy.context.object
r_arm.name = "r_arm"
r_arm.location = (0,1,0)
r_arm.scale = (0.2,0.2,1)
bpy.context.object.data.materials.append(mat4)
bpy.context.object.parent = body

l_leg = bpy.ops.mesh.primitive_cylinder_add()
l_leg = bpy.context.object
l_leg.name = "l_leg"
l_leg.location = (0,-0.6,-2)
l_leg.scale = (0.2,0.2,1)
mat5 = bpy.data.materials.new('mat_leg')
color5 = (5, 1, 0, 2)
mat5.diffuse_color = color5
bpy.context.object.data.materials.append(mat5)
bpy.context.object.parent = body

r_leg = bpy.ops.mesh.primitive_cylinder_add()
r_leg = bpy.context.object
r_leg.name = "r_leg"
r_leg.location = (0,0.6,-2)
r_leg.scale = (0.2,0.2,1)
bpy.context.object.data.materials.append(mat5)
bpy.context.object.parent = body

character = bpy.data.objects.new("character", None)
bpy.data.collections["Collection"].objects.link(character)
head.parent = character
body.parent = character
bpy.ops.mesh.primitive_plane_add(size=20)
bpy.context.object.location = (0,0,-3)

camera = bpy.data.cameras.new('Camera')
camera_obj = bpy.data.objects.new('Camera', camera)
bpy.data.collections["Collection"].objects.link(camera_obj)
camera.lens = 50  # Focal length in millimeters
camera.sensor_width = 36  # Sensor width in millimeters
camera.sensor_height = 24  # Sensor height in millimeters
camera_obj.location = (8, 2.236, 9.95)  # X, Y, Z coordinates
camera_obj.rotation_euler = (-2.285,3.14,-1.165)
bpy.context.scene.camera = camera_obj
bpy.ops.object.light_add(type='SPOT', radius=1)
bpy.context.object.data.energy = 3000
bpy.context.object.location = (6.27,-3.4,5.62)
bpy.context.object.rotation_euler = (1.172,0,0.907)
bpy.context.scene.render.resolution_x = 640
bpy.context.scene.render.resolution_y = 480
bpy.context.scene.render.resolution_percentage = 50

bpy.context.scene.render.engine = 'CYCLES'
bpy.context.scene.render.filepath = '/tmp/render2.png'
bpy.ops.render.render(write_still=True)
```

### ÊÄßÊ†ºÂ°ëÈÄ†

![ÂõæÁâáÊèèËø∞](https://doc.shiyanlou.com/courses/3584/labs/2731665/uid1190679-20250212-1739340031797)

```
import bpy

def clear_scene():
    bpy.ops.object.select_all(action="SELECT")
    bpy.ops.object.delete()

def create_man():
    bpy.ops.mesh.primitive_uv_sphere_add()
    head = bpy.context.object
    bpy.context.object.name  = "head"
    mat_head = bpy.data.materials.new('mat_head')
    color_head = (0.8, 0.6, 0.4, 1)
    mat_head.diffuse_color = color_head
    bpy.context.object.data.materials.append(mat_head)


    r_eye = bpy.ops.mesh.primitive_uv_sphere_add()
    bpy.context.object.name = "r_eye"
    bpy.context.object.location = (0.8, 0.5, 0)
    bpy.context.object.scale = (0.1, 0.3, 0.3)
    mat = bpy.data.materials.new('mat_eye')
    color = (1, 1, 1, 1)
    mat.diffuse_color = color
    bpy.context.object.data.materials.append(mat)
    bpy.context.object.parent = head

    bpy.ops.mesh.primitive_uv_sphere_add()
    r_pupil = bpy.context.object
    r_pupil.name = "r_pupil"
    r_pupil.location = (0.9, 0.6, 0)
    r_pupil.scale = (0.1, 0.2, 0.15)  
    mat_pupil = bpy.data.materials.new('mat_pupil')
    pupil_color = (0, 0, 0, 1) 
    mat_pupil.diffuse_color = pupil_color
    r_pupil.data.materials.append(mat_pupil)
    r_pupil.parent = head


    l_eye = bpy.ops.mesh.primitive_uv_sphere_add()
    bpy.context.object.name = "l_eye"
    bpy.context.object.location = (0.8, -0.5, 0.1)
    bpy.context.object.scale = (0.1, 0.3, 0.3)
    bpy.context.object.data.materials.append(mat)
    bpy.context.object.parent = head

    bpy.ops.mesh.primitive_uv_sphere_add()
    l_pupil = bpy.context.object
    l_pupil.name = "l_pupil"
    l_pupil.location = (0.9, -0.6, 0.1)
    l_pupil.scale = (0.1, 0.2, 0.15)
    l_pupil.data.materials.append(mat_pupil) 
    l_pupil.parent = head


    bpy.ops.mesh.primitive_cube_add()
    body = bpy.context.object
    body.name  = "body"
    body.location = (0,0,-2.5)
    body.scale = (0.5, 0.7, 1.3)
    mat_body = bpy.data.materials.new('mat_body')
    color_body = (0, 0, 0, 1)
    mat_body.diffuse_color = color_body
    bpy.context.object.data.materials.append(mat_body)
    bpy.context.object.parent = head


    bpy.ops.mesh.primitive_cylinder_add()
    neck = bpy.context.object
    neck.name  = "neck"
    neck.location = (0,0,-1)
    neck.scale = (0.3, 0.3, 1)
    mat_neck = bpy.data.materials.new('mat_neck')
    color_neck = (0.8, 0.6, 0.4, 1)
    mat_neck.diffuse_color = color_neck
    bpy.context.object.data.materials.append(mat_neck)
    bpy.context.object.parent = head


    bpy.ops.mesh.primitive_cylinder_add()
    right_arm = bpy.context.object
    right_arm.name = "right_arm"
    right_arm.location = (0.5, 1.2, 0.1)
    right_arm.scale = (0.3, 0.3, 0.9)
    mat_arm = bpy.data.materials.new('mat_arm')
    arm_color = (0.8, 0.6, 0.4, 1) 
    mat_arm.diffuse_color = arm_color
    right_arm.data.materials.append(mat_arm)
    right_arm.parent = body


    bpy.ops.mesh.primitive_cylinder_add()
    left_arm = bpy.context.object
    left_arm.name = "left_arm"
    left_arm.location = (-0.5, -1.2, 0.1)
    left_arm.scale = (0.3, 0.3, 0.9)
    left_arm.data.materials.append(mat_arm)
    left_arm.parent = body


    bpy.ops.mesh.primitive_cylinder_add()
    right_leg = bpy.context.object
    right_leg.name = "right_leg"
    right_leg.location = (0.2, 0.5, -1.5)
    right_leg.scale = (0.3, 0.3, 1.6)
    right_leg.data.materials.append(mat_arm)
    right_leg.parent = body


    bpy.ops.mesh.primitive_cylinder_add()
    left_leg = bpy.context.object
    left_leg.name = "left_leg"
    left_leg.location = (-0.2, -0.5, -1.5)
    left_leg.scale = (0.3, 0.3, 1.6)
    left_leg.data.materials.append(mat_arm)
    left_leg.parent = body


    bpy.ops.mesh.primitive_cube_add()
    right_eyebrow = bpy.context.object
    right_eyebrow.name = "right_eyebrow"
    right_eyebrow.location = (0.6, 0.5, 0.6) 
    right_eyebrow.scale = (0.1, 0.2, 0.1)  
    mat_eyebrow = bpy.data.materials.new('mat_eyebrow')
    eyebrow_color = (0.0, 0.0, 0.0, 0.9)  
    mat_eyebrow.diffuse_color = eyebrow_color
    right_eyebrow.data.materials.append(mat_eyebrow)  
    right_eyebrow.parent = head


    bpy.ops.mesh.primitive_cube_add()
    left_eyebrow = bpy.context.object
    left_eyebrow.name = "left_eyebrow"
    left_eyebrow.location = (0.6, -0.5, 0.5) 
    left_eyebrow.scale = (0.1, 0.2, 0.1)  
    left_eyebrow.data.materials.append(mat_eyebrow) 
    left_eyebrow.parent = head


    bpy.ops.mesh.primitive_cube_add()
    mouth = bpy.context.object
    mouth.name = "mouth"
    mouth.location = (0.8, 0, -0.3)  
    mouth.scale = (0.2, 0.3, 0.1) 
    mat_mouth = bpy.data.materials.new('mat_mouth')
    mouth_color = (0.8, 0.0, 0.0, 1) 
    mat_mouth.diffuse_color = mouth_color
    mouth.data.materials.append(mat_mouth)
    mouth.parent = head  


    bpy.ops.mesh.primitive_cube_add()
    saliva = bpy.context.object
    saliva.name = "saliva"
    saliva.location = (0.9, 0.2, -0.8)  
    saliva.scale = (0.02, 0.06, 0.5) 
    mat_saliva = bpy.data.materials.new('mat_saliva')
    saliva_color = (0.0, 0.23, 0.6, 0.6) 
    mat_saliva.diffuse_color = saliva_color
    saliva.data.materials.append(mat_saliva)
    saliva.parent = head

    bpy.ops.mesh.primitive_cube_add()
    mohawk = bpy.context.object
    mohawk.name = "mohawk"
    mohawk.location = (-0.2, 0, 0.8)
    mohawk.scale = (0.6, 0.3, 0.6)  
    mat_hair = bpy.data.materials.new('mat_hair')
    hair_color = (0.3, 0.2, 0.1, 1) 
    mat_hair.diffuse_color = hair_color
    mohawk.data.materials.append(mat_hair)
    mohawk.parent = head    


    bpy.ops.mesh.primitive_cube_add()
    right_shoe = bpy.context.object
    right_shoe.name = "right_shoe"
    right_shoe.location = (1, 0.2, -1)  
    right_shoe.scale = (3, 1, 0.07)  
    mat_shoe = bpy.data.materials.new('mat_shoe')
    shoe_color = (0.8, 5, 0.01, 1)  
    mat_shoe.diffuse_color = shoe_color
    right_shoe.data.materials.append(mat_shoe)
    right_shoe.parent = right_leg  


    bpy.ops.mesh.primitive_cube_add()
    left_shoe = bpy.context.object
    left_shoe.name = "left_shoe"
    left_shoe.location = (1, 0.2, -1)  
    left_shoe.scale = (3, 1, 0.07)
    left_shoe.data.materials.append(mat_shoe) 
    left_shoe.parent = left_leg  

    bpy.ops.mesh.primitive_cube_add()
    collar = bpy.context.object
    collar.name = "collar"
    collar.location = (0.001, 0.001, 0.8) 
    collar.scale = (1, 0.6, 0.2)
    mat_collar = bpy.data.materials.new('mat_collar')
    collar_color = (0.8, 0.6, 0.4, 1)  
    mat_collar.diffuse_color = collar_color
    collar.data.materials.append(mat_collar)
    collar.parent = body

    bpy.ops.mesh.primitive_cube_add()
    shorts = bpy.context.object
    shorts.name = "shorts"
    shorts.location = (0, 0, -1) 
    shorts.scale = (0.8, 0.9, 0.5)  
    mat_shorts = bpy.data.materials.new('mat_shorts')
    shorts_color = (0.5, 0.0, 0.0, 1)  
    mat_shorts.diffuse_color = shorts_color
    shorts.data.materials.append(mat_shorts)
    shorts.parent = body  

    character = bpy.data.objects.new("character", None)
    bpy.data.collections["Collection"].objects.link(character)
    head.parent = character
    body.parent = character

clear_scene()
create_man()
```


### ÈöèÊú∫È¢úËâ≤ÁöÑÂ∞è‰∫∫

![ÂõæÁâáÊèèËø∞](https://doc.shiyanlou.com/courses/uid1190679-20240619-1718804351705)

```
import bpy
import random

# Ê∏ÖÈô§Áé∞ÊúâÂØπË±°
bpy.ops.object.select_all(action='SELECT')
bpy.ops.object.delete()

# ÂàõÂª∫ pop_Mart ÂØπË±°
pop_Mart = bpy.data.objects.new("pop_Mart", None)
bpy.data.collections["Collection"].objects.link(pop_Mart)

# ÂàõÂª∫Â§¥ÈÉ®
bpy.ops.mesh.primitive_uv_sphere_add(radius=1.0, location=(0, 0, 1.5))
head = bpy.context.object
head.parent = pop_Mart
head.name = "Head"

# ÂàõÂª∫Ë∫´‰Ωì
bpy.ops.mesh.primitive_cylinder_add(radius=0.75, depth=1.5, location=(0, 0, 0.5))
body = bpy.context.object
body.parent = pop_Mart
body.name = "Body"

# ÂàõÂª∫Â∑¶Áúº
bpy.ops.mesh.primitive_uv_sphere_add(radius=0.15, location=(-0.35, 0.9, 1.75))
left_eye = bpy.context.object
left_eye.parent = pop_Mart
left_eye.name = "left_eye"

# ÂàõÂª∫Âè≥Áúº
bpy.ops.mesh.primitive_uv_sphere_add(radius=0.15, location=(0.35, 0.9, 1.75))
right_eye = bpy.context.object
right_eye.parent = pop_Mart
right_eye.name = "right_eye"

# ÂàõÂª∫Â∑¶ËáÇ
bpy.ops.mesh.primitive_cylinder_add(radius=0.15, depth=1.0, location=(-1.0, 0, 0.75))
left_arm = bpy.context.object
left_arm.parent = pop_Mart
left_arm.name = "left_arm"

# ÂàõÂª∫Âè≥ËáÇ
bpy.ops.mesh.primitive_cylinder_add(radius=0.15, depth=1.0, location=(1.0, 0, 0.75))
right_arm = bpy.context.object
right_arm.parent = pop_Mart
right_arm.name = "right_arm"

# ÂàõÂª∫Â∑¶ËÖø
bpy.ops.mesh.primitive_cylinder_add(radius=0.2, depth=1.0, location=(-0.4, 0, -0.5))
left_leg = bpy.context.object
left_leg.parent = pop_Mart
left_leg.name = "left_leg"

# ÂàõÂª∫Âè≥ËÖø
bpy.ops.mesh.primitive_cylinder_add(radius=0.2, depth=1.0, location=(0.4, 0, -0.5))
right_leg = bpy.context.object
right_leg.parent = pop_Mart
right_leg.name = "right_leg"

# ÂáΩÊï∞Ôºö‰∏∫ÂØπË±°ÂàõÂª∫ÊùêË¥®Âπ∂Â∫îÁî®ÈöèÊú∫È¢úËâ≤
def create_random_material(obj):
    mat = bpy.data.materials.new(name=obj.name + "_Material")
    red = random.random()
    green = random.random()
    blue = random.random()
    alpha = 1.0
    mat.diffuse_color = (red, green, blue, alpha)
    obj.data.materials.append(mat)

# Â∫îÁî®ÈöèÊú∫ÊùêË¥®ÂíåÈ¢úËâ≤
create_random_material(head)
create_random_material(body)
create_random_material(left_eye)
create_random_material(right_eye)
create_random_material(left_arm)
create_random_material(right_arm)
create_random_material(left_leg)
create_random_material(right_leg)

# ÂàõÂª∫ÂíåËÆæÁΩÆÊëÑÂΩ±Êú∫
camera = bpy.data.cameras.new('Camera')
camera_obj = bpy.data.objects.new('Camera', camera)
bpy.data.collections["Collection"].objects.link(camera_obj)
camera.lens = 50  # Focal length in millimeters
camera.sensor_width = 36  # Sensor width in millimeters
camera.sensor_height = 24  # Sensor height in millimeters
camera_obj.location = (0, 10, 3)  # ÊëÑÂΩ±Êú∫ÊîæÁΩÆÂú®Ê®°ÂûãÁöÑÊ≠£ÂâçÊñπ
camera_obj.rotation_euler = (1.36, 0, 3.14)  # Ë∞ÉÊï¥ËßíÂ∫¶Ê≠£ÂØπÊ®°Âûã
bpy.context.scene.camera = camera_obj

# ÂàõÂª∫ÂíåËÆæÁΩÆÁÅØÂÖâ
light_data = bpy.data.lights.new(name="Light", type='POINT')
light = bpy.data.objects.new(name="Light", object_data=light_data)
bpy.context.collection.objects.link(light)
light.location = (5, 5, 5)
light.data.energy = 1000  # Ë∞ÉÊï¥ÁÅØÂÖâÂº∫Â∫¶

# Ê∑ªÂä†Âú∞Èù¢
bpy.ops.mesh.primitive_plane_add(size=20)
bpy.context.object.location = (0, 0, -1)

# ËÆæÁΩÆÊ∏≤ÊüìÂèÇÊï∞
bpy.context.scene.render.resolution_x = 640
bpy.context.scene.render.resolution_y = 480
bpy.context.scene.render.resolution_percentage = 100
bpy.context.scene.render.engine = 'CYCLES'  # ‰ΩøÁî® Cycles Ê∏≤ÊüìÂºïÊìé
bpy.context.scene.render.filepath = "/tmp/r.png"  # ËæìÂá∫Êñá‰ª∂Ë∑ØÂæÑ

# Ê∏≤ÊüìÂΩìÂâçËßÜÂõæ
bpy.ops.render.render(write_still=True)
```


### ÁõõË£ÖÊñπËÑ∏

![ÂõæÁâáÊèèËø∞](https://doc.shiyanlou.com/courses/uid1190679-20240614-1718329995439)

```
import bpy
from math import pi
bpy.ops.object.select_all(action="SELECT")
bpy.ops.object.delete()
collection = bpy.data.collections["Collection"]
robot = bpy.data.objects.new("robot", None)
collection.objects.link(robot)

bpy.ops.mesh.primitive_cube_add(size=1.5, location=(0, 0, 5))
bpy.context.object.parent = robot
bpy.context.object.name = "head"
skin_material = bpy.data.materials.new('SkinMaterial')
color = (1, 0.7, 0.7, 1)
skin_material.diffuse_color = color
bpy.context.object.data.materials.append(skin_material)

bpy.ops.mesh.primitive_cone_add(scale = (0.8,0.8,2),location = (0,0,7.8))
bpy.context.object.parent = robot
bpy.context.object.name = "hat1"   
hat1_material = bpy.data.materials.new('Hat1Material')    
color = (1, 0.7, 0.2, 1)
hat1_material.diffuse_color = color
bpy.context.object.data.materials.append(hat1_material)

bpy.ops.mesh.primitive_torus_add(location=(0,0,6))
bpy.context.object.parent = robot
bpy.context.object.name = "hat2"   

bpy.ops.mesh.primitive_uv_sphere_add(scale = (0.5,0.5,0.5),location = (0,0,7.5))
bpy.context.object.parent = robot
bpy.context.object.name = "hat3"
hat3_material = bpy.data.materials.new('Hat3Material')    
color = (0.5, 0, 0.2, 1)
hat3_material.diffuse_color = color
bpy.context.object.data.materials.append(hat3_material)

bpy.ops.mesh.primitive_uv_sphere_add(scale = (0.5,0.5,0.5),location = (0,0,9.5))
bpy.context.object.parent = robot
bpy.context.object.name = "hat4"
hat4_material = bpy.data.materials.new('Hat4Material')    
color = (0.5, 0, 0.2, 1)
hat4_material.diffuse_color = color
bpy.context.object.data.materials.append(hat4_material)

bpy.ops.mesh.primitive_cone_add(scale = (2,2,2),location = (0,0,3.5))
bpy.context.object.parent = robot
bpy.context.object.name = "body"
pink_material = bpy.data.materials.new('PinkMaterial')
color = (1, 0.5, 1, 1)
pink_material.diffuse_color = color
bpy.context.object.data.materials.append(pink_material)

bpy.ops.mesh.primitive_torus_add(location=(0,0,3))
bpy.context.object.parent = robot
bpy.context.object.name = "decorate1"  
dec1_material = bpy.data.materials.new('Dec1Material')
color = (0, 0.2, 1, 1)
dec1_material.diffuse_color = color
bpy.context.object.data.materials.append(dec1_material)
bpy.ops.mesh.primitive_uv_sphere_add(scale = (0.35,0.35,0.35),location = (-1,1,2.5))
bpy.context.object.parent = robot
bpy.context.object.name = "decorate2"
dec2_material = bpy.data.materials.new('Dec2Material')
color = (0.2, 0, 0.7, 1)
dec2_material.diffuse_color = color
bpy.context.object.data.materials.append(dec2_material)
bpy.ops.mesh.primitive_uv_sphere_add(scale = (0.35,0.35,0.35),location = (1,1,2.5))
bpy.context.object.parent = robot
bpy.context.object.name = "decorate3"
dec3_material = bpy.data.materials.new('Dec3Material')
color = (0, 1, 0.5, 1)
dec3_material.diffuse_color = color
bpy.context.object.data.materials.append(dec3_material)

bpy.ops.mesh.primitive_cylinder_add(radius=0.3, depth=1.5, location=(-1.35, 0, 3.5))
bpy.context.object.rotation_euler[1] = pi / 6
bpy.context.object.parent = robot
bpy.context.object.name = "left_arm"
larm_material = bpy.data.materials.new('LarmMaterial')
color = (1, 0.3, 0.2, 1) 
larm_material.diffuse_color = color
bpy.context.object.data.materials.append(larm_material)
bpy.ops.mesh.primitive_uv_sphere_add(scale=(0.35,0.35,0.35), location=(-1.35, 0, 3.5))
bpy.context.object.parent = robot

bpy.ops.mesh.primitive_cylinder_add(radius=0.3, depth=1.5, location=(1.75, 0, 3.75))
bpy.context.object.rotation_euler[1] = pi / 2
bpy.context.object.parent = robot
bpy.context.object.name = "right_arm"
rarm_material = bpy.data.materials.new('RarmMaterial')
color = (1, 0.3, 0.2, 1) 
rarm_material.diffuse_color = color
bpy.context.object.data.materials.append(rarm_material)
bpy.ops.mesh.primitive_uv_sphere_add(scale=(0.35,0.35,0.35), location=(1.75, 0, 3.75))
bpy.context.object.parent = robot

bpy.ops.mesh.primitive_cylinder_add(radius=0.4, depth=2, location=(-0.5, 0, 1.5))
bpy.context.object.parent = robot
bpy.context.object.name = "left_leg"
yellow_material = bpy.data.materials.new('YellowMaterial')
color = (1, 0.5, 0.2, 1) 
yellow_material.diffuse_color = color
bpy.context.object.data.materials.append(yellow_material)
bpy.ops.mesh.primitive_uv_sphere_add(scale=(0.45,0.45,0.45), location=(-0.5, 0, 0.5))
bpy.context.object.parent = robot

bpy.ops.mesh.primitive_cylinder_add(radius=0.4, depth=2, location=(0.5, 0, 1.5))
bpy.context.object.parent = robot
bpy.context.object.name = "right_leg"
yellow_material = bpy.data.materials.new('YellowMaterial')
color = (1, 1, 0, 1)
yellow_material.diffuse_color = color
bpy.context.object.data.materials.append(yellow_material)
bpy.ops.mesh.primitive_uv_sphere_add(scale=(0.45,0.45,0.45), location=(0.5, 0, 0.5))
bpy.context.object.parent = robot

bpy.ops.mesh.primitive_uv_sphere_add(radius=0.2, location=(-0.5, 0.75, 5.25))
bpy.context.object.parent = robot
bpy.context.object.name = "left_eye"
black_material = bpy.data.materials.new('BlackMaterial')
color = (0, 0, 0, 1)
black_material.diffuse_color = color
bpy.context.object.data.materials.append(black_material)

bpy.ops.mesh.primitive_uv_sphere_add(radius=0.2, location=(0.5, 0.75, 5.25))
bpy.context.object.parent = robot
bpy.context.object.name = "right_eye"
black_material = bpy.data.materials.new('BlackMaterial')
color = (0, 0, 0, 1) 
black_material.diffuse_color = color
bpy.context.object.data.materials.append(black_material)

camera = bpy.data.cameras.new('MyCamera')
camera_obj = bpy.data.objects.new('CameraObj', camera)
bpy.context.scene.collection.objects.link(camera_obj)
camera_obj.location = (-12.36, 15.48, 12.76)
camera_obj.rotation_euler = (69 * pi / 180, 0, -133 * pi / 180)
bpy.ops.mesh.primitive_plane_add(size=50, location=(0, 0, 0))
bpy.context.scene.camera = camera_obj
bpy.context.scene.render.filepath = '/tmp/rendered_robot.png'
bpy.context.scene.render.image_settings.file_format = 'PNG'
bpy.ops.object.light_add(type='SPOT', radius=10, location=(-16.02, 10, 10))
spot_light = bpy.context.object
spot_light.data.energy = 8000
spot_light.data.spot_size = pi / 4 
spot_light.data.spot_blend = 0.5  
spot_light.rotation_euler = (-5*pi / 180, -58*pi / 180, -27*pi / 180)
bpy.context.scene.render.resolution_x = 640
bpy.context.scene.render.resolution_y = 480
bpy.context.scene.render.resolution_percentage = 50
bpy.context.scene.render.engine = 'CYCLES'
bpy.context.scene.render.filepath = '/tmp/1.png'
bpy.ops.render.render(write_still=True)

```


### Èõ™‰∫∫ÁöÑËøõÂåñ

![ÂõæÁâáÊèèËø∞](https://doc.shiyanlou.com/courses/uid1190679-20240613-1718247007999)

```
import bpy
bpy.ops.object.select_all(action="SELECT")
bpy.ops.object .delete ()
body = bpy.ops.mesh .primitive_uv_sphere_add()
body = bpy.context .object
bpy .context .object .name = "body"
mat = bpy.data.materials.new( 'mat_body')
color = (0, 1, 1, 1)
mat .diffuse_color = color
bpy.context.object.data.materials.append(mat)

r_hand = bpy.ops.mesh.primitive_cone_add ()
bpy .context .object .name = "r hand"
bpy. context.object. location = (0,0.9,0.65)
bpy.context.object. rotation_euler = (-0.5,0.4,0.6)
bpy. context.object.scale = (0.3,0.3,0.3)
mat = bpy. data.materials.new('mat_hand')
color = (0, 0, 0, 1)
mat .diffuse_color = color
bpy.context.object.data.materials.append(mat)
bpy.context.object.parent = body

l_hand =bpy.ops.mesh.primitive_cone_add()
bpy .context .object.name = "l_hand"
bpy.context.object. location = (0, -0.9,0.65)
bpy.context.object.rotation_euler = (0.5, -0.4,0.6)
bpy.context.object.scale = (0.3,0.3,0.3)
mat = bpy. data.materials.new ( 'mat_hand')
color = (0, 0, 0, 1)
mat. diffuse_color = color
bpy.context.object.data.materials.append(mat)
bpy.context.object.parent = body

head = bpy.ops.mesh.primitive_uv_sphere_add()
head = bpy. context.object
bpy. context .object .name = "head"
bpy. context .object. location = (0, 0, 1.5)
bpy. context.object.scale = (0.7, 0.7, 0.7)
mat = bpy.data.materials.new( 'mat head')
color = (0, 1, 1, 1)
mat.diffuse_color = color
bpy.context.object.data.materials.append(mat)

r_eye = bpy.ops. mesh.primitive_uv_sphere_add()
bpy.context .object.name = "r_eye"
bpy. context. object. location = (1, 0.4, 0.2)
bpy. context. object. scale = (0.2, 0.2, 0.2)
mat = bpy.data.materials.new('mat_eye')
color = (0, 0, 0, 1)
mat.diffuse_color = color
bpy.context.object.data.materials.append(mat)
bpy.context.object.parent = head

l_eye = bpy.ops.mesh.primitive_uv_sphere_add()
bpy.context.object.name = "l_eye"
bpy.context.object.location = (1, -0.4, 0.2)
bpy. context. object. scale = (0.2, 0.2, 0.2)
mat = bpy. data.materials.new( 'mat_eye')
color = (0, 0, 0, 1)
mat .diffuse_color = color
bpy.context.object.data.materials.append(mat)
bpy.context .object.parent = head

bpy.ops.mesh.primitive_cone_add ()
hat = bpy.context.object
hat .name = "nose"
hat. location = (1,0,0)
hat. scale = (0.3,0.3,0.3)
hat. rotation_euler=(1,1,1)

mat = bpy .data.materials .new( 'mat nose')
color = (0, 0, 0, 1)
mat.diffuse_color = color
bpy.context.object.data.materials.append(mat)
bpy.context.object.parent = head

bpy.ops .mesh.primitive_cone_add()
hat = bpy.context. object
hat .name = "hat"
hat. location = (0,0,2.5)
hat. scale = (0.5,0.5,0.5)
mat = bpy. data.materials.new( 'mat _hat')
color = (1, 0, 0, 1)
mat.diffuse_color = color
bpy.context.object.data.materials.append(mat)

character = bpy. data. objects .new("character", None)
bpy. data.collections ["Collection"].objects. link(character)
head.parent = character
body.parent = character
hat .parent = character

bpy.ops.mesh.primitive_plane_add(size=20)
bpy.context.object. location = (0,0,-1)

camera = bpy. data. cameras.new('Camera')
camera_obj = bpy.data.objects.new ('Camera',camera)
bpy.data.collections["Collection"].objects.link(camera_obj)
camera. lens = 50
camera_obj. location = (13.6, 5,10.5)

bpy.ops.object.light_add(type='SPOT', radius=1)
bpy.context.object.data.energy = 1000
bpy.context.object.location = (6.27,-3.4,2.83)
bpy.context.object.rotation_euler = (1.172,0,0.907)

camera_obj.rotation_euler = (-2.233,3.14, -1.047)
bpy. context. scene. camera = camera_obj
bpy.context. scene. render. resolution_x = 640
bpy.context.scene. render. resolution_y = 480
bpy. context. scene. render. resolution_percentage = 50
bpy. context.scene. render. engine = 'CYCLES'
bpy. context. scene. render. filepath = '/tmp/render2.png'
bpy.ops.render.render(write_still=True)

```

### Èõ™‰∫∫ÂÜçËøõÂåñ

![ÂõæÁâáÊèèËø∞](https://doc.shiyanlou.com/courses/3584/labs/2731665/uid1190679-20250212-1739348308638)

```
import bpy
from math import pi

def create_material(name, color):
    mat = bpy.data.materials.new(name)
    mat.diffuse_color = color
    return mat

def create_snowman():
    # Clear scene
    bpy.ops.object.select_all(action='SELECT')
    bpy.ops.object.delete()
    
    # Create materials
    materials = {
        'eye': create_material('mat_eye', (0, 0, 0, 1)),
        'hat': create_material('pink_hat', (1, 0.4, 0.5, 1)),
        'nose': create_material('orange_nose', (0.9, 0.3, 0, 1))
    }
    
    # Create head
    bpy.ops.mesh.primitive_uv_sphere_add(location=(0, 0, 2))
    head = bpy.context.object
    head.name = "head"
    
    # Create eyes
    eyes_data = [
        ("r_eye", (0.8, 0.5, 0)),
        ("l_eye", (0.8, -0.5, 0))
    ]
    
    for name, loc in eyes_data:
        bpy.ops.mesh.primitive_uv_sphere_add()
        eye = bpy.context.object
        eye.name = name
        eye.location = loc
        eye.scale = (0.1, 0.1, 0.1)
        eye.data.materials.append(materials['eye'])
        eye.parent = head
    
    # Create body
    bpy.ops.mesh.primitive_uv_sphere_add()
    body = bpy.context.object
    body.name = "body"
    body.scale = (1.5, 1.5, 1.5)
    
    # Create hat
    hat_data = [
        ("hat1", (0, 0, 3), (0.7, 0.7, 0.5)),
        ("hat2", (0, 0, 2.8), (1, 1, 0.1))
    ]
    
    for name, loc, scale in hat_data:
        bpy.ops.mesh.primitive_cylinder_add()
        hat = bpy.context.object
        hat.name = name
        hat.location = loc
        hat.scale = scale
        hat.data.materials.append(materials['hat'])
    
    # Create nose
    bpy.ops.mesh.primitive_cone_add()
    nose = bpy.context.object
    nose.name = "nose"
    nose.location = (0.8, 0, -0.1)
    nose.scale = (0.5, 0.5, 0.8)
    nose.rotation_euler[1] = pi/2
    nose.data.materials.append(materials['nose'])
    nose.parent = head
    
    # Create buttons (kozi)
    kozi_data = [
        ("kozi1", (1, 0, 1)),
        ("kozi2", (1.3, 0, 0.6))
    ]
    
    for name, loc in kozi_data:
        bpy.ops.mesh.primitive_uv_sphere_add()
        kozi = bpy.context.object
        kozi.name = name
        kozi.location = loc
        kozi.scale = (0.2, 0.2, 0.2)
        kozi.data.materials.append(materials['hat'])
    
    # Create arms and fingers
    arms_data = [
        ("l_arm", (0, -1.5, 0.6), pi/3),
        ("r_arm", (0, 1.5, 0.6), -pi/3)
    ]
    
    for name, loc, rot in arms_data:
        bpy.ops.mesh.primitive_cylinder_add()
        arm = bpy.context.object
        arm.name = name
        arm.location = loc
        arm.scale = (0.1, 0.1, 1)
        arm.data.materials.append(materials['eye'])
        arm.rotation_euler[0] = rot
    
    # Create fingers
    fingers_data = [
        ((0, 2, 0.6), -pi/2),
        ((0, -2, 0.6), pi/2)
    ]
    
    for loc, rot in fingers_data:
        bpy.ops.mesh.primitive_cylinder_add()
        finger = bpy.context.object
        finger.name = "finger"
        finger.location = loc
        finger.scale = (0.1, 0.1, 0.3)
        finger.data.materials.append(materials['eye'])
        finger.rotation_euler[0] = rot
    
    return head

if __name__ == "__main__":
    create_snowman()
```

### Èõ™‰∫∫‰∏éÂ•≥Âèã

![ÂõæÁâáÊèèËø∞](https://doc.shiyanlou.com/courses/uid1190679-20240611-1718093974975)

- Èõ™‰∫∫Ëé∑Âæó‰∫ÜÂ•≥ÊúãÂèã

```
import bpy

bpy.ops.object.select_all(action="SELECT")
bpy.ops.object.delete()

def create_snow_man():
    bpy.ops.mesh.primitive_uv_sphere_add()
    head = bpy.context.object
    bpy.context.object.name  = "head"
    mat = bpy.data.materials.new('mat_head')
    color = (1, 0.7, 0.6, 1)
    mat.diffuse_color = color
    bpy.context.object.data.materials.append(mat)

    r_eye = bpy.ops.mesh.primitive_uv_sphere_add()
    bpy.context.object.name = "r_eye"
    bpy.context.object.location = (0.7, 0.5, -0.3)
    bpy.context.object.scale = (0.3, 0.1, 0.3)
    mat = bpy.data.materials.new('mat_eye')
    color = (0, 0, 0, 1)
    mat.diffuse_color = color
    bpy.context.object.data.materials.append(mat)
    bpy.context.object.parent = head

    l_eye = bpy.ops.mesh.primitive_uv_sphere_add()
    bpy.context.object.name = "l_eye"
    bpy.context.object.location = (0.7, -0.5, -0.3)
    bpy.context.object.scale = (0.3, 0.1, 0.3)
    mat = bpy.data.materials.new('mat_l_eye')
    color = (0, 0, 0, 1)
    mat.diffuse_color = color
    bpy.context.object.data.materials.append(mat)
    bpy.context.object.parent = head

    bpy.ops.mesh.primitive_cone_add()
    body = bpy.context.object
    body.name  = "body"
    body.location = (0,0,-2.4)
    body.scale = (2,2,2)
    mat = bpy.data.materials.new('mat_body')
    color = (0.005, 0.06, 0.003, 1)
    mat.diffuse_color = color
    bpy.context.object.data.materials.append(mat)
    character = bpy.data.objects.new("character", None)
    bpy.data.collections["Collection"].objects.link(character)
    head.parent = character
    body.parent = character
    bpy.ops.mesh.primitive_plane_add(size=20)
    bpy.context.object.location = (0,0,-7.6)

def create_girl():
    girl = bpy.data.objects.new("girl", None)
    bpy.data.collections["Collection"].objects.link(girl)

    bpy.ops.mesh.primitive_cone_add()
    hat = bpy.context.object
    hat.name  = "hat"
    hat.location = (-1.1,0,2)
    hat.scale = (1,1,2)
    bpy.context.object.rotation_euler[1] = 3.14 / -6
    mat = bpy.data.materials.new('mat_hat')
    color = (1, 0, 0, 1)
    mat.diffuse_color = color
    bpy.context.object.data.materials.append(mat)
    bpy.context.object.parent = girl

    bpy.ops.mesh.primitive_torus_add()
    bpy.context.object.name = "hat2"
    bpy.context.object.location = (-0.2,0,0.4)
    bpy.context.object.scale = (1, 1, 1)
    bpy.context.object.rotation_euler[1] = 3.14 / -6
    bpy.context.object.parent = girl

    bpy.ops.mesh.primitive_uv_sphere_add()
    bpy.context.object.name = "hat3"
    bpy.context.object.location = (-2,0,3.5)
    bpy.context.object.scale = (0.5,0.5,0.5)
    bpy.context.object.parent = girl

    bpy.ops.mesh.primitive_cylinder_add()
    bpy.context.object.name = "l_leg"
    bpy.context.object.location = (0,-0.5,-6)
    bpy.context.object.scale = (0.3,0.3,1.5)
    mat = bpy.data.materials.new('mat_l_leg')
    color = (0.03, 0.01, 0, 1)
    mat.diffuse_color = color
    bpy.context.object.data.materials.append(mat)
    bpy.context.object.parent = girl

    bpy.ops.mesh.primitive_cylinder_add()
    bpy.context.object.name = "r_leg"
    bpy.context.object.location = (0,0.5,-6)
    bpy.context.object.scale = (0.3,0.3,1.5)
    mat = bpy.data.materials.new('mat_r_leg')
    color = (0.03, 0.01, 0, 1)
    mat.diffuse_color = color
    bpy.context.object.data.materials.append(mat)
    bpy.context.object.parent = girl

    bpy.ops.mesh.primitive_torus_add()
    bpy.context.object.name = "scarf"
    bpy.context.object.location = (0,0,-1.2)
    bpy.context.object.scale = (0.7, 0.7, 1)
    bpy.context.object.parent = girl

    bpy.ops.mesh.primitive_torus_add()
    bpy.context.object.name = "body2"
    bpy.context.object.location = (0,0,-4.3)
    bpy.context.object.scale = (1.8, 1.8, 1.5)
    mat = bpy.data.materials.new('mat_body2')
    color = (1, 0, 0, 1)
    mat.diffuse_color = color
    bpy.context.object.data.materials.append(mat)
    bpy.context.object.parent = girl

    bpy.ops.mesh.primitive_uv_sphere_add()
    bpy.context.object.name = "body3"
    bpy.context.object.location = (0.4,0,-2)
    bpy.context.object.scale = (0.5,0.5,0.5)
    mat = bpy.data.materials.new('mat_body3')
    color = (1, 0, 0, 1)
    mat.diffuse_color = color
    bpy.context.object.data.materials.append(mat)
    bpy.context.object.parent = girl


    bpy.ops.mesh.primitive_uv_sphere_add()
    bpy.context.object.name = "l ear"
    bpy.context.object.location = (0.2,-1,-0.08)
    bpy.context.object.scale = (0.5,0.5,0.5)
    mat = bpy.data.materials.new('mat_l ear')
    color = (0.005, 0.06, 0.003, 1)
    mat.diffuse_color = color
    bpy.context.object.data.materials.append(mat)
    bpy.context.object.parent = girl

    bpy.ops.mesh.primitive_uv_sphere_add()
    bpy.context.object.name = "r ear"
    bpy.context.object.location = (-0.2,1,-0.08)
    bpy.context.object.scale = (0.5,0.5,0.5)
    mat = bpy.data.materials.new('mat_r ear')
    color = (0.005, 0.06, 0.003, 1)
    mat.diffuse_color = color
    bpy.context.object.data.materials.append(mat)
    bpy.context.object.parent = girl

    bpy.ops.mesh.primitive_uv_sphere_add()
    bpy.context.object.name = "body4"
    bpy.context.object.location = (0.8,1,-3.2)
    bpy.context.object.scale = (0.4,0.5,0.5)
    bpy.context.object.parent = girl

    bpy.ops.mesh.primitive_uv_sphere_add()
    bpy.context.object.name = "body5"
    bpy.context.object.location = (0.8,-1,-3.2)
    bpy.context.object.scale = (0.4,0.5,0.5)
    bpy.context.object.parent = girl

    bpy.ops.mesh.primitive_uv_sphere_add()
    bpy.context.object.name = "snow"
    bpy.context.object.location = (-2,5.6,-4.5)
    bpy.context.object.scale = (3,3,3)
    bpy.context.object.parent = girl

    bpy.ops.mesh.primitive_uv_sphere_add()
    bpy.context.object.name = "snow2"
    bpy.context.object.location = (-2,5.6,-0.3)
    bpy.context.object.scale = (2,2,2)
    bpy.context.object.parent = girl

    bpy.ops.mesh.primitive_uv_sphere_add()
    bpy.context.object.name = "snow3"
    bpy.context.object.location = (-0.9,4.3,-0.36)
    bpy.context.object.scale = (0.5,0.5,0.5)
    mat = bpy.data.materials.new('mat_snow3')
    color = (0.03, 0.01, 0, 1)
    mat.diffuse_color = color
    bpy.context.object.data.materials.append(mat)
    bpy.context.object.parent = girl

    bpy.ops.mesh.primitive_uv_sphere_add()
    bpy.context.object.name = "snow4"
    bpy.context.object.location = (-0.289,5.5,-0.33)
    bpy.context.object.scale = (0.5,0.5,0.5)
    mat = bpy.data.materials.new('mat_snow4')
    color = (0.03, 0.01, 0, 1)
    mat.diffuse_color = color
    bpy.context.object.data.materials.append(mat)
    bpy.context.object.parent = girl

def init_camera():
    camera = bpy.data.cameras.new('Camera')
    camera_obj = bpy.data.objects.new('Camera', camera)
    bpy.data.collections["Collection"].objects.link(camera_obj)
    camera.lens = 50  # Focal length in millimeters
    camera.sensor_width = 36  # Sensor width in millimeters
    camera.sensor_height = 24  # Sensor height in millimeters
    camera_obj.location = (23.3,5.9, 8.1)  # X, Y, Z coordinates
    camera_obj.rotation_euler = (1.172,0,1.8)
    bpy.context.scene.camera = camera_obj

def init_light():
    bpy.ops.object.light_add(type='SPOT', radius=3)
    bpy.context.object.data.energy = 12000
    bpy.context.object.location = (11.77,11.81,24.43)
    bpy.context.object.rotation_euler = (36.3/180*3.14,0,124.3/180*3.14)
    bpy.context.scene.render.resolution_x = 640
    bpy.context.scene.render.resolution_y = 480
    bpy.context.scene.render.resolution_percentage = 50

def render():
    bpy.context.scene.render.engine = 'CYCLES'
    bpy.context.scene.render.filepath = '/tmp/render2.png'
    bpy.ops.render.render(write_still=True)

create_snow_man()
create_girl()
init_camera()
init_light()
render()
```

###  ÊùëÊ∞ë 

![ÂõæÁâáÊèèËø∞](https://doc.shiyanlou.com/courses/3584/labs/2731665/uid1190679-20250211-1739242415364) 

- Â∑ßÂ¶ôÂà©Áî®ÂØπÁß∞

```
import bpy

def clear_scene():
    bpy.ops.object.select_all(action='SELECT')
    bpy.ops.object.delete()

def create_material(name, color):
    mat = bpy.data.materials.new(name=name)
    mat.diffuse_color = color
    return mat

def create_cube(name, location, scale, color, rotation=(0,0,0)):
    bpy.ops.mesh.primitive_cube_add(size=1, location=location)
    cube = bpy.context.active_object
    cube.name = name
    cube.scale = scale
    cube.rotation_euler = rotation
    mat = create_material(f"{name}Material", color)
    cube.data.materials.append(mat)
    return cube

def create_character():
    # ÂÆö‰πâÈ¢úËâ≤
    colors = {
        'skin': (0.9, 0.7, 0.6, 1),
        'green': (0.2, 0.8, 0.2, 1),
        'brown': (0.6, 0.3, 0.1, 1),
        'black': (0, 0, 0, 1),
        'white': (1, 1, 1, 1)
    }
    
    # ÂàõÂª∫Â§¥ÈÉ®ÂíåÈù¢ÈÉ®ÁâπÂæÅ
    head = create_cube("Head", (0,0,2), (0.8,0.8,0.8), colors['skin'])
    
    # ÂàõÂª∫ÁúºÁùõ
    for x in [-0.2, 0.2]:
        eye = create_cube(f"Eye_{x}", (x,0.4,2.1), (1,1,1), colors['white'])
        eye.scale = (0.15,0.15,0.15)
        eye_green = create_cube(f"EyeGreen_{x}", (x*1.1875,0.5,2.1), (0.5,1,1), colors['green'])
        eye_green.scale = (0.075,0.075,0.075)
        eyebrow = create_cube(f"Eyebrow_{x}", (x,0.4,2.3), (0.3,0.1,0.1), colors['black'])
    
    # ÂàõÂª∫ÈºªÂ≠ê
    nose = create_cube("Nose", (0,0.5,2), (0.2,0.2,0.3), colors['brown'])
    
    # ÂàõÂª∫Ë∫´‰Ωì
    upper_body = create_cube("UpperBody", (0,0,1.5), (0.6,0.4,0.5), colors['green'])
    lower_body = create_cube("LowerBody", (0,0,1), (0.6,0.4,0.5), colors['brown'])
    
    # ÂàõÂª∫ÊâãËáÇ
    for x in [-0.3, 0.3]:
        arm = create_cube(f"Arm_{x}", (x*0.6,0.1,1.5), (0.2,0.2,0.8), colors['green'],
                         rotation=(0,0,-1.2 if x > 0 else 1.2))
    
    # ÂàõÂª∫ËÖøÈÉ®
    for x in [-0.2, 0.2]:
        leg = create_cube(f"Leg_{x}", (x,0,0.5), (0.2,0.2,0.8), colors['brown'])

if __name__ == "__main__":
    clear_scene()
    create_villager()
```


### ÂΩªÂ∫ïÁ´ãÊñπÂåñ

 ![ÂõæÁâáÊèèËø∞](https://doc.shiyanlou.com/courses/3584/labs/2731665/uid1190679-20250211-1739264329723) 

```
import bpy
import math

# ÂÆö‰πâ‰∏Ä‰∏™ÂáΩÊï∞Êù•ÂàõÂª∫Á´ãÊñπ‰ΩìÂπ∂ËÆæÁΩÆÂÖ∂Â±ûÊÄß
def create_cube(location, rotation, scale, material_name, diffuse_color):
    # ÂàõÂª∫‰∏Ä‰∏™Á´ãÊñπ‰Ωì
    bpy.ops.mesh.primitive_cube_add(size=2, enter_editmode=False, align='WORLD', location=location)
    
    # Ëé∑ÂèñÂΩìÂâçÁ´ãÊñπ‰ΩìÂØπË±°
    cube = bpy.context.active_object
    
    # ËÆæÁΩÆ‰ΩçÁΩÆ
    cube.location = location
    
    # ËÆæÁΩÆÊóãËΩ¨ÔºàÂ∞ÜËßíÂ∫¶ËΩ¨Êç¢‰∏∫ÂºßÂ∫¶Ôºâ
    cube.rotation_euler = (math.radians(rotation[0]), math.radians(rotation[1]), math.radians(rotation[2]))
    
    # ËÆæÁΩÆÁº©Êîæ
    cube.scale = scale
    
    # ËÆæÁΩÆÂèòÊç¢Ê®°Âºè‰∏∫ XYZ Ê¨ßÊãâ
    cube.rotation_mode = 'XYZ'
    
    # ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÊùêË¥®
    material = bpy.data.materials.new(name=material_name)
    
    # ËÆæÁΩÆÊùêË¥®ÁöÑÈ¢úËâ≤
    material.diffuse_color = diffuse_color  # ‰ΩøÁî®‰º†ÂÖ•ÁöÑÈ¢úËâ≤
    
    # Â∞ÜÊùêË¥®Â∫îÁî®Âà∞Á´ãÊñπ‰Ωì
    cube.data.materials.append(material)

# ÂÆö‰πâÊØè‰∏™Á´ãÊñπ‰ΩìÁöÑÂèÇÊï∞ÔºåÂåÖÊã¨È¢úËâ≤
cubes = [
    {"location": (0, 0, 6.0531), "rotation": (0, 0, 0), "scale": (0.908, 0.633, 1.889), "material_name": "GreyMaterial1", "diffuse_color": (0.5, 0.8, 0.9, 1)},
    {"location": (0, 0, 8.9505), "rotation": (0, 0, 0), "scale": (1.000, 1.000, 1.000), "material_name": "GreyMaterial2", "diffuse_color": (0.8, 0.6, 0.5, 1)},
    {"location": (1.2175, 1.2552, 5.4779), "rotation": (-90, 125.47, -90), "scale": (1.716, 0.375, 0.377), "material_name": "GreyMaterial3", "diffuse_color": (0.8, 0.6, 0.5, 1)},
    {"location": (1.2175, 0.019304, 7.2122), "rotation": (-90, 125.47, -90), "scale": (0.399, 0.375, 0.377), "material_name": "GreyMaterial4", "diffuse_color": (0.5, 0.8, 0.9, 1)},
    {"location": (-1.2735, -1.6849, 5.9744), "rotation": (90, 143.48, 90), "scale": (1.716, 0.375, 0.377), "material_name": "GreyMaterial5", "diffuse_color": (0.8, 0.6, 0.5, 1)},
    {"location": (-1.2735, -0.038982, 7.1932), "rotation": (90, 143.48, 90), "scale": (0.349, 0.375, 0.377), "material_name": "GreyMaterial6", "diffuse_color": (0.5, 0.8, 0.9, 1)},
    {"location": (-1.2459, -2.9336, 5.9344), "rotation": (33.062, 0, 0), "scale": (0.133, -0.126, 1.000), "material_name": "GreyMaterial7", "diffuse_color": (0.8, 0.8, 0.8, 1)},
    {"location": (0.45889, -0.470097, 2.4756), "rotation": (-12.125, 0, 0), "scale": (0.396, 0.407, 1.889), "material_name": "GreyMaterial8", "diffuse_color": (0.5, 0.8, 0.9, 1)},
    {"location": (-0.44446, 0.32416, 2.4645), "rotation": (14.287, 0, 0), "scale": (0.396, 0.407, 1.889), "material_name": "GreyMaterial9", "diffuse_color": (0.5, 0.8, 0.9, 1)},
    {"location": (-0.44446, 0.86122, 0.35558), "rotation": (14.287, 0, 0), "scale": (0.396, 0.407, 0.305), "material_name": "GreyMaterial10", "diffuse_color": (0.647, 0.165, 0.165, 1)},
    {"location": (-1.2459, -2.9336, 5.9344), "rotation": (33.062, 0, 0), "scale": (0.133, -0.126, 1.000), "material_name": "GreyMaterial11", "diffuse_color": (0.647, 0.165, 0.165, 1)},
    {"location": (-1.2459, -3.5799, 6.9272), "rotation": (33.062, 0, 0), "scale": (0.133, -0.126, 0.125), "material_name": "YellowMaterial", "diffuse_color": (1.0, 1.0, 0.0, 1)},
    {"location": (0.45889, -0.9244, 0.36097), "rotation": (-12.125, 0, 0), "scale": (0.396, 0.407, 0.324), "material_name": "BrownMaterial", "diffuse_color": (0.647, 0.165, 0.165, 1)}  # Êñ∞Â¢ûÁöÑÊ£ïËâ≤Á´ãÊñπ‰Ωì
]

# ÂàõÂª∫ÊØè‰∏™Á´ãÊñπ‰Ωì
for cube_data in cubes:
    create_cube(cube_data["location"], cube_data["rotation"], cube_data["scale"], cube_data["material_name"], cube_data["diffuse_color"])

# Êõ¥Êñ∞Âú∫ÊôØ
bpy.context.view_layer.update()
```

### ÊÄªÁªì ü§î

- Êàë‰ª¨‰∏ãÊ¨°ÂÜçËØ¥ÔºÅüëã