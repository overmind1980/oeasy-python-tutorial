---
show: step
version: 1.0
enable_checker: true
---

# è¯­æ³• html å±æ€§ attrib

## å›å¿†

- äº†è§£äº† html ä¸­çš„ dom æ ‘
- æ ‘æ˜¯ç”±èŠ‚ç‚¹å…ƒç´ ç»„æˆçš„
  - èŠ‚ç‚¹å…ƒç´ å¯ä»¥ç”¨ etree.Element()å¾—åˆ°
  - æœ€æ ¹æºçš„å…ƒç´ æ˜¯æ ¹å…ƒç´ 
  - html æ ‘çš„æ ¹å°±æ˜¯ html å…ƒç´ 
  - æˆ–è€…è¯´ dom-tree çš„æ ¹å°±æ˜¯ html
- html é‡Œé¢åŒ…æ‹¬å­èŠ‚å…ƒç´ ç‚¹
  - head
  - body
    - ul
- é‡å¤ç±»å‹çš„å…ƒç´ æ€ä¹ˆè¿½åŠ å‘¢ï¼ŸğŸ¤”

### ç»§ç»­

- ç›´æ¥æ·»åŠ åˆ—è¡¨
- å¤±è´¥äº†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630458028665)

- çœ‹æ¥ etree.Element()å…ƒç´ çš„å­èŠ‚ç‚¹
  - ä¸èƒ½æ˜¯åˆ—è¡¨ list å¯¹è±¡
- etreeå…ƒç´  æ˜¯é€’å½’çš„
	- etreeå…ƒç´  ä¸‹é¢åªèƒ½æ˜¯ etreeå…ƒç´ 
- èªæ˜åè¢«èªæ˜è¯¯
	- è¿˜æ˜¯è€è€å®å®æ¥é€ä¸ªæ·»åŠ (append)

### é€ä¸ªæ·»åŠ (append)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630459987697)

- è¿™æ¬¡ä»¿ä½›æˆåŠŸäº†

### ç´¢å¼•(index)æ–¹å¼é€‰æ‹©å…ƒç´ etree èŠ‚ç‚¹

- etreeå…ƒç´  ä¹Ÿå¯ä»¥ç”¨ç´¢å¼•æ–¹å¼é€‰æ‹© å­etreeå…ƒç´ 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630460162190)


- å¯ä»¥ç”¨ç´¢å¼•æ‰¾åˆ°ä¸‹çº§å…ƒç´ 
	- è¿™ä¸€ç‚¹æœ‰ç‚¹åƒåˆ—è¡¨
	- etreeå…ƒç´  ä¸æ˜¯åˆ—è¡¨ 

### åˆ‡ç‰‡(slice)æ–¹å¼é€‰æ‹©å…ƒç´ 

- etreeå…ƒç´  ä¹Ÿå¯ä»¥ç”¨ç´¢å¼•æ–¹å¼é€‰æ‹©å­èŠ‚ç‚¹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630460277972)

- åˆ‡ç‰‡é€‰æ‹©çš„ç»“æœç±»å‹æ˜¯åˆ—è¡¨
	- åˆ—è¡¨ä¸­çš„åˆ—è¡¨é¡¹æ˜¯ etreeå…ƒç´ 

### åˆ¤æ–­æ˜¯å¦æ˜¯å…ƒç´ 

- åˆ¤æ–­æ˜¯å¦æ˜¯å…ƒç´ 
- å¦‚æœæ˜¯å…ƒç´ 
  - æœ‰å‡ ä¸ªå­å…ƒç´ 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630460368714)

- å¯ä»¥ç”¨ len å¾—åˆ°å…ƒç´ çš„å­å…ƒç´ æ•°é‡

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630460447051)

- æ˜¯å¦å¯ä»¥éå†etreeä¸­çš„æ‰€æœ‰å­å…ƒç´ å‘¢ï¼Ÿ


### éå†å…ƒç´ 

- å‚ç…§ä¾‹å­

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630460561706)

- éå†htmlå…ƒç´ 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630460569619)

- bodyä¸‹é¢è¿˜æœ‰å…ƒç´ å‘¢ï¼Ÿ
- æˆ‘è¿˜æƒ³å¾€ä¸‹éå†

### ç»§ç»­éå†

- å¾ªç¯éå†bodyå…ƒç´ 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220711-1657535747386)

- bodyé‡Œé¢æœ‰ä¸ªulå…ƒç´ 
- æˆ‘å¸Œæœ›bodyé‡Œé¢æœ‰ä¸¤ä¸ªå…ƒç´ h1å’Œul
- è€Œä¸”h1æ˜¯å“¥å“¥ï¼Œulæ˜¯å¼Ÿå¼Ÿ
- å¯èƒ½ä¹ˆï¼Ÿ

### æ€è€ƒ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220711-1657535798685)

- ç›®å‰çš„ç»“æ„æ˜¯è¿™æ ·çš„
- å¦‚æœ`et_html.append(et_h1)`ä¼šå¯¼è‡´h1ä¼šè¢«è¿½åŠ append
- h1ä¸€å®šæ˜¯å¼Ÿå¼Ÿ
- é™¤äº†appendè¿˜æœ‰å…¶ä»–å‡½æ•°ä¹ˆï¼Ÿ

### insert

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220711-1657535912265)

- é‚£æ€ä¹ˆæŸ¥åˆ°ç›¸å…³çš„å¸®åŠ©å‘¢ï¼Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220711-1657535977679)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220711-1657535983720)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220711-1657536026555)

- è¿™ä¸ªå…ƒç´ å’Œåˆ—è¡¨ä¸ºä»€ä¹ˆé‚£ä¹ˆç›¸åƒï¼Ÿ
	- å‡½æ•°åã€éå†æ–¹æ³•ã€ç´¢å¼•åˆ‡ç‰‡
	- éƒ½å¤ªåƒäº†


### å…ƒç´ èµ‹å€¼

- åŸæ¥ Element å…ƒç´ è¿™ä¸ªç±»æœ€æ—©æ˜¯ä» list åˆ—è¡¨ç±»æ´¾ç”Ÿå‡ºæ¥çš„
- æ‰€ä»¥ç»§æ‰¿äº†å¾ˆå¤šåˆ—è¡¨çš„ç‰¹æ€§
- Element çš„ tag å±æ€§å¯¹åº”æ ‡ç­¾çš„åå­—

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630460612269)

- ä¸è¿‡æœ‰äº›åœ°æ–¹å’Œåˆ—è¡¨ä¸åŒ
  - èµ‹å€¼çš„æ—¶å€™
  - è¢«æ›¿æ¢å…ƒç´ ä¼šæŠŠåŸæ¥ä½ç½®çš„å­å…ƒç´ æ›¿æ¢æ‰
  - è¢«æ›¿æ¢å…ƒç´ ä»åŸæ¥çš„ä½ç½®è¢«åˆ é™¤
- çœ‹å®Œä¾‹å­
- æˆ‘ä»¬å»éªŒè¯ä¸€ä¸‹

### tag

- éªŒè¯ä¸€ä¸‹ Element å…ƒç´ çš„ tag å±æ€§

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20211106-1636192693875)

- å†éªŒè¯ä¸€ä¸‹å­å…ƒç´ çš„æ›¿æ¢

### å­å…ƒç´ æ›¿æ¢

- æŠŠä¸€ä¸ªå­å…ƒç´ æ°åˆ°åˆ«çš„åœ°æ–¹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20211106-1636192792753)

- å…ƒç´ æ›¿æ¢ä¹‹å
	- æ—§çš„å°±æ²¡æœ‰äº†

### æ·±æ‹·è´

- å¦‚æœæƒ³è¦æ–°å»ºä¸€ä¸ªç±»ä¼¼çš„ etree èŠ‚ç‚¹
- å¯ä»¥è€ƒè™‘æ·±æ‹·è´

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630460822360)

- æˆ‘ä»¬è‡ªå·±æ„å»ºä¸€ä¸ªä¾‹å­

### æ„å»º

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220711-1657536298907)

- ç„¶åå°è¯•æ·»åŠ å…ƒç´ 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220912-1662974840012)

- ç¬¬ä¸€ä¸ªå­å…ƒç´ å’Œæœ€åä¸€ä¸ªå­å…ƒç´ çœŸçš„ä¸åŒä¹ˆï¼Ÿ

### æ·»åŠ å…ƒç´ 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220711-1657536340606)

- ç¬¬3ä¸ªå…ƒç´ æ ‡ç­¾æ˜¯child1
- ä½†æ˜¯å¹¶ä¸æ˜¯root[0]å…ƒç´ çš„é‚£ä¸ªchild1æ ‡ç­¾å…ƒç´ 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220912-1662974911994)

- æ˜¯æ–°å¤åˆ¶å‡ºæ¥çš„child1
- ä¸¤ä¸ªå…ƒç´ åœ°å€ä¸åŒ 

### çˆ¶å­å…„å¼Ÿ

- åˆ¤è¯»æ˜¯å¦æ˜¯çˆ¶äº²

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630460949130)

- åˆ¤æ–­æ˜¯å¦æ˜¯å“¥å“¥æˆ–å¼Ÿå¼Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630460957729)

### åŠ¨æ‰‹å°è¯•

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630460965035)

- é€šè¿‡èŠ‚ç‚¹å¾—åˆ°
  - çˆ¶äº²
  - å“¥å“¥
  - å¼Ÿå¼Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630453123602)

- ä¼¦ç†æ¸…æ™°

### å±æ€§

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630461037878)

- etree å…ƒç´ çš„å±æ€§å¾ˆåƒåƒä¸€ä¸ªå­—å…¸ dict
- æˆ‘ä»¬æ¥è¯•è¯•

### å±æ€§å­—å…¸

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630461635127)

- å¯ä»¥ä¸ºå…ƒç´ è®¾ç½®å±æ€§å’Œå±æ€§å€¼

### éå†å±æ€§

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630461726672)

- è¿™çœŸçš„å¾ˆåƒä¸€ä¸ªå­—å…¸
- è¿™å°±æ˜¯ä¸€ä¸ªå­—å…¸

### å±æ€§å¯¹è±¡

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630461979008)

- attrib æ˜¯èŠ‚ç‚¹å…ƒç´ çš„å±æ€§ç»„
  - å±æ€§ç»„æ˜¯èŠ‚ç‚¹å…ƒç´ çš„æˆå‘˜å˜é‡
  - å±æ€§ç»„çš„ç±»å‹æ˜¯ä¸€ä¸ªå­—å…¸
- å¯ä»¥ç”¨ get å’Œç´¢å¼•çš„æ–¹å¼å¾—åˆ°å±æ€§çš„å€¼

### å±æ€§æ“ä½œ

- ç´¢å¼•æ–¹å¼æœ‰æŠ¥é”™é£é™©

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630462069699)

- ä½¿ç”¨ get çš„æ“ä½œç›¸å¯¹æ›´å®‰å…¨
	- ç´¢å¼•å¯èƒ½ä¼šçˆ†å‡º key ä¸å­˜åœ¨çš„ KeyError
	- ä¸è¿‡ä¹Ÿå¯èƒ½å‘¢æ‰¾ä¸åˆ°bug

## æ€»ç»“

- äº†è§£ etree ä¸­çš„å…ƒç´ å…³ç³»
  - çˆ¶å­
  - å…„å¼Ÿ
- äº†è§£å…ƒç´ çš„æ ‡ç­¾æˆå‘˜
  - tag
- äº†è§£å…ƒç´ ä¸­çš„å±æ€§ç»„æˆå‘˜
  - attrib
  - å±æ€§å¯¹è±¡æœ¬è´¨æ˜¯ä¸€ä¸ªå­—å…¸
  - å¯ä»¥ç”¨ get å’Œç´¢å¼•çš„æ–¹å¼å¾—åˆ°å…·ä½“çš„å€¼
  - ä½¿ç”¨ get çš„æ–¹å¼æ›´å®‰å…¨
- é™¤äº†æ ‡ç­¾å’Œå±æ€§ç»„æˆå‘˜ä¹‹å¤–
  - å…ƒç´ ç±»è¿˜æœ‰æ–‡æœ¬æˆå‘˜
  - è¿™æ–‡æœ¬æˆå‘˜æ€ä¹ˆç†è§£ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´
