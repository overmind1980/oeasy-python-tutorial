---
show: step
version: 1.0
enable_checker: true
---

# opencv

## å›å¿†

- ä¸Šæ¬¡ç ”ç©¶äº† ä¸¤ä¸ªçŸ©é˜µçš„åŠ æ³•

| è¿ç®—æ³• | æº¢å‡ºå¤„ç† |
|---|---|
|ç›´æ¥+æ³• | æº¢å‡ºå å–æ¨¡ |
|addåŠ æ³•| æº¢å‡ºå ç­‰äº255|

- BGR ä¸‰ä¸ªé€šé“æ··åˆçš„æ—¶å€™
	- ç”¨çš„å°±æ˜¯ åŠ è‰²æ··è‰²æ³•
- é™¤äº† åŠ å‡è¿ç®—ä¹‹å¤–
	- å›¾åƒ è¿˜æœ‰ä»€ä¹ˆ è¿ç®—æ–¹å¼å—ï¼ŸğŸ¤”

### æŒ‰ä½ä¸æ“ä½œ
```
import numpy as np                                                            
import cv2    
img = cv2.imread("/mnt/cgshare/kun1.png")
print(img.shape)              
mask = np.zeros((305,483,3),np.uint8)
mask[75:118,:,:] = 255
mask[:,214:255,:] = 255
final = cv2.bitwise_and(img,mask)
cv2.imshow("img",img) 
cv2.imshow("mask",mask) 
cv2.imshow("final",final) 
cv2.waitKey()             
cv2.destroyAllWindows()
```

- æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240221-1708501573441)

### æŒ‰ä½æˆ–æ“ä½œ
```
import numpy as np    
import cv2            
                      
img = cv2.imread("/mnt/cgshare/kun1.png")
print(img.shape)      
mask = np.zeros((305,483,3),np.uint8)
mask[75:118,:,:] = 255
mask[:,214:255,:] = 255
final = cv2.bitwise_or(img,mask)                                              
cv2.imshow("img",img) 
cv2.imshow("mask",mask)
cv2.imshow("final",final)
cv2.waitKey()         
cv2.destroyAllWindows()
```

- æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240221-1708501662335)

### æŒ‰ä½å¼‚æˆ–æ“ä½œ
```
import numpy as np                                                          
import cv2    
 
img = cv2.imread("kun1.png")
print(img.shape)              
mask = np.zeros((305,483,3),np.uint8)        
mask[75:118,:,:] = 255
mask[:,214:255,:] = 255
final = cv2.bitwise_xor(img,mask)
cv2.imshow("img",img) 
cv2.imshow("mask",mask) 
cv2.imshow("final",final) 
cv2.waitKey()             
cv2.destroyAllWindows()
```

- æŒ‰ä½ å¼‚æˆ–
	- ä¸é»‘è‰²å¼‚æˆ–å¾—åˆ°æœ¬èº«
	- ä¸ç™½è‰²å¼‚æˆ–å¾—åˆ°åç›¸åº•ç‰‡

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240221-1708501803579)

### æ¢ä¸€ä¸ªè’™ç‰ˆ

```
#coding:utf-8
import cv2
import numpy as np

#è¯»å–å›¾ç‰‡
img = cv2.imread("lena.png", cv2.IMREAD_GRAYSCALE)

#è·å–å›¾åƒå®½å’Œé«˜
rows, cols = img.shape[:2]
print(rows, cols)

#ç”»åœ†å½¢
circle = np.zeros((rows, cols), dtype="uint8")
cv2.circle(circle, (int(rows/2), int(cols/2)), 80, 255, -1)
print(circle.shape)
print(img.size, circle.size)

#OpenCVå›¾åƒå¼‚æˆ–è¿ç®—
result = cv2.bitwise_xor(img, circle)

#æ˜¾ç¤ºå›¾åƒ
cv2.imshow("original", img)
cv2.imshow("circle", circle)
cv2.imshow("result", result)

#ç­‰å¾…æ˜¾ç¤º
cv2.waitKey(0)
cv2.destroyAllWindows()
```

- æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240221-1708502265441)

- è¿˜æœ‰ä»€ä¹ˆè¿ç®—ç¬¦å—ï¼Ÿ

### æŒ‰ä½å–åæ“ä½œ

```
import numpy as np
import cv2
 
img = cv2.imread("kun1.png")
print(img.shape)
mask = np.zeros((305,483,3),np.uint8)
final = cv2.bitwise_not(img)
cv2.imshow("img",img)
cv2.imshow("final",final)                                                     
cv2.waitKey()
cv2.destroyAllWindows()
```

- åç›¸æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240221-1708501732426)



### æ€»ç»“ ğŸ¤”
- è¿™æ¬¡ç ”ç©¶äº† ä¸¤ä¸ªçŸ©é˜µçš„åŠ æ³•

| è¿ç®—æ³• | æº¢å‡ºå¤„ç† |
|---|---|
|ç›´æ¥+æ³• | æº¢å‡ºå å–æ¨¡ |
|addåŠ æ³•| æº¢å‡ºå ç­‰äº255|

- BGR ä¸‰ä¸ªé€šé“æ··åˆçš„æ—¶å€™
	- ç”¨çš„å°±æ˜¯ åŠ è‰²æ··è‰²æ³•
- é™¤äº† åŠ å‡è¿ç®—ä¹‹å¤–
	- å›¾åƒ è¿˜æœ‰ä»€ä¹ˆ è¿ç®—æ–¹å¼å—ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ğŸ‘‹
