---
show: step
version: 1.0
enable_checker: true
---

# è°ƒè¯•å¤šä¸ªæ–‡ä»¶

## å›å¿†ä¸Šæ¬¡å†…å®¹

- ä¸Šæ¬¡äº†è§£äº† try çš„å®Œå…¨ä½“
  - try
	- å°è¯•è¿è¡Œ
  - except
	- å‘ç°å¼‚å¸¸æ—¶è¿è¡Œçš„ä»£ç å—
  - else
	- æ²¡æœ‰å‘ç°å¼‚å¸¸æ—¶è¿è¡Œçš„ä»£ç å—
  - finally
	- æ— è®ºæ˜¯å¦å‘ç°å¼‚å¸¸æœ€ç»ˆéƒ½è¦è¿è¡Œçš„ä»£ç å—

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221230-1672366714550)

- è¿™å‡ ä¸ªpyæ–‡ä»¶å¯ä»¥è¿›è¡Œè°ƒè¯•å—ï¼Ÿ

### è§‚å¯Ÿç»“æ„

```
cd fruits
```

- é¦–å…ˆè¿›å…¥fruitsç›®å½•

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231126-1701005841041)

### å°†è¾“å…¥æ‹†åˆ†æˆä¸¤å—

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231126-1701006614442)

- ä»£ç å¦‚ä¸‹

```
a = input("How many apples do you have?\n")
try:
    a = int(a)
    print("You got " + str(a) + " apples!")
except ValueError:
    print("\33[41meerror\33[0m ", a, "NaN")
    quit()
b = input("How many bananas do you have?\n")
try:
    b = int(b)
    print("You got " + str(b) + " bananas!")
except ValueError:
    print("\33[41meerrpr\33[0m ", b, "NaN")
    quit()
```

### ä¿®æ”¹æ–‡ä»¶

- é¦–å…ˆ
	- åœ¨å˜é‡åä¸Šæƒ³åŠæ³•
- åå­—
	- æœ¬èº«å°±æœ‰æŸäº›å«ä¹‰
	- å…·æœ‰æŸäº›å¯è¯»æ€§
- å¯ä»¥æŠŠ
  - a æ¢æˆ apple
    - `:1,6s/a/apple/gc`
    - è¿‡ç¨‹ä¸­éœ€è¦ç”¨Y/nè¿›è¡Œç¡®è®¤

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231126-1701006774419)

- å®Œæˆæ›¿æ¢

### å†æ›¿æ¢

- b æ¢æˆ banana	
	- `:8,$s/b/banana/gc`

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240313-1710323424562)

- å˜é‡å å˜é•¿
	- å¹¶ä¸ä¼šè®© ç¨‹åºå˜æ…¢
- åªæ˜¯ æ¢ä¸ª æŒ‡å‘åŒä¸€ç›’å­ç©ºé—´çš„åå­— è€Œå·²
- processä¸­çš„aå’Œbä¹Ÿè¦è¿›è¡Œä¿®æ”¹

### æ–‡ä»¶

- main.py

```python
import get_fruits
import process
import output
```

- get_fruits.py

```python
apple = input("How many apples do you have?\n")
try:
    apple = int(apple)
    print("You got " + str(apple) + " apples!")
except ValeError:
    print("\33meerror\33[0m ", apple, "NaN")
    quit()
banana = input("How many bananas do you have?\n")
try:
    banana = int(banana)
    print("You got " + str(banana) + " bananas!")
except ValueError:
    print("\33[41meerrpr\33[0m ", banana, "NaN")
    quit()
```

- process.py

```python
try:
    from get_fruits import apple,banana
    total = apple + banana
except:
    print("\33[41merror\33[0m",end="")
    print("your input is invalid!")
    quit()
```

- output.py

```python
try:
    from process import total
    print("You got " + str(total) + " fruits!")
except:
    print("\33[41merror\33[0m",end="")
    print("your input is invalid!")
    quit()
```

### å¼€å§‹è°ƒè¯•

- åœ¨ä¸»æ§å‡½æ•°ä¸­
	- ä¸€è·¯next
		- å°±ä¼šç›´æ¥è·³è¿‡è°ƒè¯•å­æ¨¡å—çš„è¿‡ç¨‹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231126-1701007233843)

- å¯ä»¥åœ¨å­æ¨¡å—æ–‡ä»¶ä¸­è®¾ç½®æ–­ç‚¹å—ï¼Ÿ

### è§‚å¯Ÿå¸®åŠ©

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230603-1685795178546)

- å¯ä»¥è¯•è¯•

### è®¾ç½®æ–­ç‚¹

- åœ¨get_fruits.pyç¬¬ä¸€è¡Œè®¾ç½®æ–­ç‚¹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231126-1701007392654)

- ç¡®å®å¯ä»¥è·³è½¬åˆ°å­æ¨¡å—ä¸­
- å¯ä»¥è®¾ç½®åˆ°processä¸­å—ï¼Ÿ

### åœ¨processä¸­è®¾ç½®æ–­ç‚¹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231126-1701007434139)

## æ€»ç»“

- æˆ‘ä»¬è¿™æ¬¡å°è¯•ç€è°ƒè¯•äº†å¤šä¸ªæ–‡ä»¶
	- å¯ä»¥åœ¨æŒ‡å®šæ–‡ä»¶ä½ç½®è®¾ç½®æ–­ç‚¹
		- ç„¶åå†ç”¨continueç›´æ¥è·³è¿‡å»

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230603-1685796171450)

- å‘ç°å¯¼å…¥éƒ¨åˆ†
  - å¯ä»¥å†åˆ†ä¸ºä¸¤ä¸ªå­æ¨¡å—
  - ä¸€ä¸ªè¾“å…¥ a
  - ä¸€ä¸ªè¾“å…¥ b
- å¯ä»¥å†æ‹†åˆ†ä¹ˆï¼ŸğŸ¤”
- æˆ‘ä»¬ä¸‹æ¬¡å†è¯´ï¼ğŸ‘‹
