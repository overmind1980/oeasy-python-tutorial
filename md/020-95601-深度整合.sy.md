---
show: step
version: 1.0
enable_checker: true
---

# å›åˆ°å¼€å¤´

## å›å¿†ä¸Šæ¬¡å†…å®¹

- ç”¨`\r`å¯ä»¥è®©è¾“å‡ºä½ç½®å›åˆ°æœ€å¼€å¤´çš„åœ°æ–¹
  - é‡æ–°è¾“å‡ºæ—¶é—´
  - æˆ‘ä»¬å¯ä»¥è®©æ—¶é—´åœ¨å›ºå®šä½ç½®åˆ·æ–°äº†
- æˆ‘æƒ³è¦çš„æ˜¯å¤§å­—ç¬¦
  - åº”è¯¥æ˜¯ figlet
  - ä½†åŒæ—¶è¿˜èƒ½åˆ·æ–°
- è¿™å¯èƒ½å—ï¼ŸğŸ¤”

### å»ºç«‹è„šæœ¬

- æˆ‘ä»¬å…ˆç†Ÿæ‚‰ä¸€ä¸‹`shell`
- å†æ–°å»ºä¸€ä¸ªtest.sh
	- vi test.sh

```shell
python3 sleep.py
python3 sleep.py
python3 sleep.py
```
- çœ‹èµ·æ¥å°±æ˜¯æŠŠè¿™ä¸ªå†…å®¹è¾“å‡ºäº† 3 æ¬¡

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220211-1644546980126)


- å¯ä»¥æ‰§è¡Œä¹ˆï¼Ÿ

### å°è¯•æ‰§è¡Œ
- åœ¨vimçš„æ­£å¸¸çŠ¶æ€ç”¨`:w|!sh %`æ‰§è¡Œ
	- `:w` ä¿å­˜
	- `|` å¹¶ä¸”æ‰§è¡Œ
	- `!sh %` ç”¨å¤–éƒ¨å‘½ä»¤`sh`æ‰§è¡Œè¿™ä¸ª`test.sh`
		- shå°±åƒpython3 æ˜¯å¤–éƒ¨å‘½ä»¤å
		- % ä»£æŒ‡test.sh ,å°±åƒsleep.py ,æ˜¯æ–‡ä»¶å

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220211-1644581821265)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220211-1644581841117)

- ç¡®å®è¾“å‡ºäº†ä¸‰æ¬¡æ—¶é—´
- ä½†æˆ‘è¿˜æƒ³æŠŠå­—å˜å¤§æ€ä¹ˆåŠå‘¢ï¼Ÿ

### figletå˜å¤§

- `sleep.py` çš„è¾“å‡ºå­—ç¬¦ä¸²ç›´æ¥é€šè¿‡`ç®¡é“|`ç»™åˆ°`figlet`
- å…¶ä¸­
	- pythonç¨‹åº å°±åªè´Ÿè´£è¾“å‡ºæ—¶é—´
	- è¾“å‡ºçš„ç»“æœ é€šè¿‡`ç®¡é“|`ç»™ `figlet`
	- figletè´Ÿè´£å˜å¤§

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220211-1644581971033)

- å¦‚æœæƒ³è¦è¾“å‡ºä¸‰ä¸ªå˜å¤§ä¹‹åçš„æ—¶é—´
- åº”è¯¥å¦‚ä½•å‘¢ï¼Ÿ


### ä¸‰æ¬¡è¾“å‡º

- ä¿®æ”¹test.sh
	- vi test.sh
	- ç¼–å†™ä»¥ä¸‹æ–‡ä»¶

```shell
python3 sleep.py|figlet
python3 sleep.py|figlet
python3 sleep.py|figlet
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220211-1644582131616)

- ç„¶åè¿è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220211-1644582162517)

- ç¡®å®å˜å¤§äº†
	- è€Œä¸”è¾“å‡ºäº†ä¸‰æ¬¡
- ä½†æˆ‘æƒ³è¦ä¸åªæ˜¯ä¸‰æ¬¡
	- è€Œæ˜¯æ— é™å¤šæ¬¡ä¸æ–­åˆ·æ–°
	- åº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ

### å°è¯•å¾ªç¯

- æ— é™å¤šæ¬¡è‚¯å®šéœ€è¦å¾ªç¯ï¼
	- è€Œä¸”è¦åœ¨shellé‡Œé¢è¿›è¡Œå¾ªç¯
- åŸæ¥æ”¾åœ¨ `pythonæ–‡ä»¶` ä¸­çš„çš„å¾ªç¯å’Œå®šæ—¶åŠŸèƒ½
	- ç°åœ¨éƒ½éœ€è¦æ”¾åœ¨ `shè„šæœ¬` æ–‡ä»¶é‡Œ
	- ç”±shellæ¥æ§åˆ¶æ•´ä½“çš„èŠ‚å¥
- é‚£é—®é¢˜æ¥äº†
	- `shè„šæœ¬æ–‡ä»¶` å¦‚ä½•è¿›è¡Œå¾ªç¯ï¼Ÿ

### æœç´¢ä¸€ä¸‹ï¼

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614993080980)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220211-1644582835237)

- å°è¯•æ ¹æ®è¿™ä¸ªä¿®æ”¹

### shellå¾ªç¯

- åœ¨shellä¸­
- æ–°ç¼–è¾‘ä¸€ä¸ª`loop.sh`
	- `vi loop.sh`
- è¾“å…¥ä»¥ä¸‹å†…å®¹

```bash
for a in {1..10}
do
	echo $a
done
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220211-1644547239326)

### ä¿å­˜å¹¶è¿è¡Œ

- `:w` ä¿å­˜å½“å‰æ–‡æ¡£
- `:!sh %`è¿è¡Œå½“å‰`shell`
- `:w|!sh %`ä¿å­˜å¹¶è¿è¡Œå½“å‰`shell`
- æ‰§è¡Œçš„ç»“æœå¦‚ä¸‹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220211-1644582900899)

- æˆåŠŸå¾ªç¯äº†èµ·æ¥
- åˆ·æ–°æ—¶é—´çš„è¯
	- ä¸ä½†è¦å¾ªç¯
	- è€Œä¸”è¿˜éœ€è¦å»¶è¿Ÿ
- æ€ä¹ˆåŠï¼Ÿ

### æœç´¢å»¶è¿Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614993141917)

```bash
for a in {1..10}
do
	echo $a
	sleep 1s
done
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614993196629)

- `:w|!sh %`ä¿å­˜å¹¶è¿è¡Œå½“å‰`shell`
- å»¶è¿ŸæˆåŠŸ
- æ¥ä¸‹æ¥éœ€è¦è¾“å‡ºæ—¶é—´äº† 
	- è€Œä¸”æ˜¯é€šè¿‡figletä¹‹åçš„æ—¶é—´

### æ•´åˆ python

- æŠŠåŸæ¥æ•°å­—çš„éƒ¨åˆ†æ¢æˆæ‰§è¡Œå‘½ä»¤
	- `python3 sleep.py|figlet`

```bash
for a in {1..10}
do
	python3 sleep.py|figlet
	sleep 1s
done
```

- è¾“å‡ºæˆåŠŸ
- ä½†æ˜¯ä¸€å±å¹•ä¸Šæœ‰ä¸¤ä¸ªæ—¶é—´
- å¾ˆä¹±ï¼

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614993460194)

- æˆ‘æƒ³åªè¦ä¸€ä¸ªï¼
	- å°‘åˆ™å¾—å¤šåˆ™æƒ‘ï¼
- å¯ä»¥æ¸…ä¸€ä¸‹å±å¹•ä¹ˆï¼Ÿ

### å°è¯•æ¸…å±

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614993562436)

```bash
for a in {1..10}
do
	clear
	python3 sleep.py|figlet
	sleep 1s
done
```

- è¿˜èƒ½æ•´ç‚¹ä»€ä¹ˆå‘¢ï¼Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220211-1644585817010)

- æƒ³è¦è®©ç®¡é“å†æµåˆ°cowsay

### cowsay

- é¦–å…ˆè¦å®‰è£… cowsay

```bash
sudo apt install cowsay
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614993917284)

- è£…å®Œä¹‹å
	- cow å°±å¯ä»¥ say äº†
	- æ€ä¹ˆsayå‘¢ï¼Ÿ

### åˆ©ç”¨ç®¡é“

- åˆ©ç”¨ç®¡é“say

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614993957714)

### ç®¡é“åŸç†

![Image text](https://labfile.oss.aliyuncs.com/courses/2712/pipe.png)

### æŠŠ cowsay æ•´åˆè¿›æ¥

```bash
for a in {1..10}
do
	clear
	python3 sleep.py | figlet ï½œcowsay -f moose -n
	sleep 1s
done
```

- æŠŠfigletçš„è¾“å‡ºç»“æœå†é€åˆ°cowsay -f moose -n
	- çœ‹èµ·æ¥æœ‰ç‚¹å¤æ‚
	- ä½†å…¶å®å°±æ˜¯ä¸€æ­¥æ­¥é€šè¿‡ç®¡é“æµæ·Œçš„è¿‡ç¨‹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614994076733)

- å¯ä»¥æ›´å¥½ç©ä¸€ç‚¹å—ï¼Ÿ

### å½©è‰²æ•ˆæœ

```bash
#å®‰è£…å½©è‰²ç¨‹åº
sudo apt install lolcat
#å®éªŒ
echo oeasy | lolcat
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210812-1628752380278)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210812-1628752388506)

- æœ‰çš„æ—¶å€™ä¼šå› ä¸ºå®½åº¦é—®é¢˜
- æ„Ÿè§‰å¾ˆä¹±
- æˆ‘æƒ³æŠŠæ—¶é—´ç®€åŒ–ä¸ºæ—¶åˆ†ç§’

### æ•´åˆæ—¶é—´

- è¾“å‡ºæ—¶é—´å¤ªé•¿
- å…¶å®æˆ‘åªæƒ³è¾“å‡ºæ—¶åˆ†ç§’

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614994224934)

- è¿™ä¸ªå°±å¾—ä¿®æ”¹æœ€åˆçš„ç”Ÿæˆæ—¶é—´çš„æºå¤´
- ä¿®æ”¹ sleep.py æ–‡ä»¶

### sleep.py

```python
#!/usr/bin/python3
import time
localtime = time.strftime(' %H:%M:%S',time.localtime())
print(localtime,end="")
```

- è¿™ä¸ªä¸œè¥¿åº”è¯¥å¦‚ä½•ç†è§£å‘¢ï¼Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220331-1648711364409)

### å…·ä½“ç†è§£

- strftime å‡½æ•°
  - str æ˜¯å­—ç¬¦ä¸² string çš„æ„æ€
  - f æ˜¯ format
  - ä»–æŠŠä¸€ä¸ª time.localtime() æ ¼å¼åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²
  - ä¹Ÿå¯ä»¥æŠŠå½“å‰æ—¶é—´å½“åšç¼ºçœå‚æ•°

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220331-1648711485748)


```python
#!/usr/bin/python3
import time
print(time.strftime('%H:%M:%S',end="")
```

- æ ¼å¼å¦‚ä½•ç†è§£å‘¢ï¼Ÿ

### ç†è§£æ ¼å¼

- æ ¼å¼åŒ–æˆä»€ä¹ˆæ ¼å¼å‘¢ï¼Ÿ
	- æ ¼å¼åŒ–æˆ ` %H:%M:%S` è¿™ä¸ªæ ¼å¼
	- è¿™ä¸ªæ ¼å¼é€‰å–äº†ä¸‰ä¸ªæ—¶é—´å…ƒç»„é¡¹
		- %Hæ˜¯å°æ—¶
		- %Mæ˜¯åˆ†é’Ÿ
		- %Sæ˜¯ç§’é’Ÿ
		- ä¸­é—´ç”¨:åˆ†å‰²

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220331-1648711587529)

- è¯•éªŒèµ°èµ·æ¥

### ç›´æ¥è¿è¡Œ sh

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220408-1649377873706)

- è¿™ä¸¤ä¸ªæ­é…èµ·æ¥ç¡®å®å¯ä»¥è¿è¡Œäº†ï¼
- æ•ˆæœè¿˜è¡Œ

### æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210812-1628752817259)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220408-1649378017159)
- å“ˆå“ˆ ç«é¸¡turkeyä¹Ÿèƒ½è¯´è¯
- ä½†æ˜¯æˆ‘æƒ³ç›´æ¥è¿è¡Œ loop.sh å¯ä»¥ä¹ˆï¼Ÿ
	- è€Œä¸æ˜¯`sh loop.sh`å¯ä»¥ä¹ˆï¼Ÿ

### ç›´æ¥è¿è¡Œ

- ç›´æ¥è¿è¡Œçš„è¯
- `loop.sh`æ²¡æœ‰æ‰§è¡Œæƒé™
- ç»™ä»–ææƒ
  - chmod æ”¹å˜æ¨¡å¼
  - u+x ç»™å½“å‰ç”¨æˆ·å¢åŠ æ‰§è¡Œæƒé™

```shell
chmod u+x loop.sh
./loop.sh
```

- ç„¶åå†è¿è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220211-1644585241380)

- ç»¿è‰²è¯´æ˜å¯ä»¥è¿è¡Œäº†
- ä¸è¿‡å‰é¢è¿˜æ˜¯éœ€è¦å½“å‰è·¯å¾„`./`
- å¦‚æœå°±æƒ³è¦`loop.sh` ä¸è¦å½“å‰è·¯å¾„`./` å°±ç›´æ¥è¿è¡Œå‘¢ï¼Ÿ

### è®¾ç½®è·¯å¾„

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220211-1644586410528)

- è¿™æ ·å°±å¯ä»¥ç›´æ¥è¿è¡Œäº†
- ä¸è¿‡å¦‚æœå…³äº†å½“å‰çš„shell
- è¿˜æ˜¯ä¸èƒ½ç›´æ¥è¿è¡Œ
- æ€ä¹ˆåŠæ¥ç€ï¼Ÿ

### ~/.zshrc

- ç¼–è¾‘å½“å‰zshçš„é…ç½®æ–‡ä»¶ ~/.zshrc
- æ¯æ¬¡è¿›å…¥zshéƒ½ä¼šæ‰§è¡Œè¿™ä¸ªé…ç½®æ–‡ä»¶çš„

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220211-1644586721011)

- è¿™æ ·é‡å¼€ä¸€ä¸ªshell
- è¿˜æ˜¯å¯ä»¥ç›´æ¥è¿è¡Œloop.sh
- è·³å‡ºå¾ªç¯å¯ä»¥ç”¨<kbd>ctrl</kbd>+<kbd>c</kbd>
- æŠŠå¾ªç¯æ”¾åˆ°åå°ç”¨<kbd>ctrl</kbd>+<kbd>z</kbd>

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220211-1644586816899)

- è¿™å°±æ˜¯æˆ‘ä»¬ä¹‹å‰éƒ½æ¥è§¦è¿‡çš„å†…å®¹äº†ï¼
- å•Š~ç»ˆäºå®Œæˆäº†
- ä¸å®¹æ˜“ï¼ï¼ï¼
- æ¥æ€»ç»“å§ï¼

## æ€»ç»“

- æˆ‘ä»¬ç‹‚é£™äº†ä¸€è·¯
  - ä»ç”¨ shell ç›´æ¥æ‰§è¡Œ python ç¨‹åº
  - åˆ°ç”¨ shell å¾ªç¯æ‰§è¡Œ python ç¨‹åº
- å¾ªç¯ä½“ä¸­
  - æŠŠ python çš„è¾“å‡ºç»“æœç”¨ç®¡é“äº¤ç»™äº† figlet ç¨‹åº
  - æŠŠ figlet è¾“å‡ºçš„ç»“æœç”¨ç®¡é“ç»™äº† cowsay
  - æŠŠ cowsay çš„ç»“æœç»™äº† lolcat
- æœ€åæ˜¯ææƒç›´æ¥è¿è¡Œç¨‹åº
- è¿™ä¸€è·¯çœŸçš„å¥½è¿œå•Š
	- python3 æ˜¯è„šæœ¬è§£é‡Šå™¨
	- shell ä¹Ÿæ˜¯è„šæœ¬è§£é‡Šå™¨
	- å…¶å®æˆ‘ä»¬æ˜¯åœ¨ shell ä¸­åˆ©ç”¨ python3 çš„è¾“å‡ºç»“æœ
		- ç”¨ shell æŠŠ python çš„ç²˜äº†èµ·æ¥ 
		- åˆ†æ—¶è¾“å‡ºçš„ 
	- ä¸è¿‡è¿™ä¸€è·¯çœŸçš„å¥½ç»•
		- å¦‚æœèƒ½ç”¨ python ç›´æ¥è°ƒç”¨ shell å°±å¥½äº†
		- é‚£ä¸ªæ—¶å€™ python å°±æˆäº†èƒ¶æ°´çš„ä¸»ä½“
		- å®Œæˆç²˜åˆçš„å·¥ä½œ
	- ä¹Ÿè®¸æœ‰ä¸€å¤©å¯ä»¥åšåˆ°
- æˆ‘ä»¬å›å¿†ä¸€ä¸‹æˆ‘ä»¬æœ€å¼€å§‹æ—¶
- å›åˆ°æœ¬è¡Œæœ€åˆçš„æ–¹æ³•
  - print("\r"+localtime)
  - `\r` ä¸ `\n` ä¸åŒ
- ä»å«ä¹‰ä¸Šæ¥çœ‹
  - `\n` - LF - LineFeed - æ¢è¡Œ
  - `\r` - CR - CarriageReturn - å›è½¦
- æ¢è¡Œå’Œå›è½¦æœ‰ä»€ä¹ˆä¸åŒå—ï¼ŸğŸ¤”
- æˆ‘ä»¬ä¸‹æ¬¡å†è¯´ç¨‹åºï¼ğŸ‘‹
