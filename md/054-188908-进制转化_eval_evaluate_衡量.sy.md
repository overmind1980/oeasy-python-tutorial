---
show: step
version: 1.0
enable_checker: true
---

# 进制转化

## 回忆上次内容

- 上次了解的是整型数字类变量
	- 这类变量和字符串不同
	- 数字变量是直接存储二进制形式的
	- 可以用 int()函数把 2 进制转化为 10 进制
- `int()`
	- 接受一个字符串
	- 明确字符串使用的进制
- 二进制和十进制之间可以互相转化
  - bin(41) 把 10 进制 转化为 2 进制
  - int("101001",2) 把 2 进制 转化为 10 进制
- 除了 二进制、 十进制
- 还有什么样的进制来着
- 怎么转化呢？🤔
- 下次再说👋🏻

### 更多进制

- bin - binary - 前缀 0b
- oct - octal - 前缀 0o
- hex - hexadecimal - 前缀 0x

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210817-1629187853033)

### 数字本质

- 不论用什么形式表述的数字
- 他们的本质都一样

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210820-1629426071097)

- 都是整型数字
- 都是 int 类型的

### 八进制 十进制

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210817-1629204649127)

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210817-1629189796885)

### 十六进制 十进制 转化

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210817-1629204714578)

- hex 来自于 six

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210817-1629189791366)

### 进制总结

- bin - binary - 0b
- oct - octal - 0o
- int - decimal
- hex - hexadecimal - 0x

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210817-1629187853033)

### 二进制 八进制 转化

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210817-1629204967901)

- 每一爻都分为阴爻阳爻
	- 三爻构成八卦
- 河图中三八为木数
	- 同属东方青龙木
	- 属生发之相
	- 今天也用三八、八卦来形容普遍联系性
	- 毕竟三生万物

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210817-1629205286996)

- `1` 位 `8` 进制数 对应 `3` 位 `2` 进制数
- `2` 位 `8` 进制数 对应 `6` 位 `2` 进制数

### 二进制 十六进制 转化

- `1` 位 `8` 进制数 对应 `3` 位 `2` 进制数
- `1` 位 `16` 进制数 对应 `4` 位 `2` 进制数

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210817-1629205636189)

- 为什么有16进制数
	- `2` 位 `16` 进制数 对应 `8` 位 `2` 进制数
	- 正好一个字节
- 数字在内存里面就存这一个字节么？

### 转化为字节

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210817-1629189809584)

- length 是转化为几个字节
  - 2 个字节可以容纳 0-65535 个数字
  - 41 在这个范围内
- byteorder 字节顺序
  - big 从左到右
  - little 从右到左

### 数字形态

- 整型数字变量 i_age
- 在存储在两个字节里面什么样呢？
	- 字节状态是`b\x00)`
		- `b\x00` 是 一个字节全是0
		- `b\')'` 是多少呢?	

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221030-1667136740637)

- 可以查询`)`对应的序号(ord)
	- 然后转化为16进制的字节形态(hex)
	- 得到了 `0x29`
	- 也就是说 `)` 字符对应字节状态为 `0x29`
- 两个字节的int型变量
	- 字节序列 `b\x00\x29`
	- 也就是`b\x00)`
- 反过来说
	- `b\x00\x29` 也就对应两字节的 41
	- (29)<sub>16</sub> 就是 (41)<sub>10</sub> 

### 字符串形态

- 那字符串形态的变量`"41"`
	- 是什么样子来着
- 字符串
	- 就是字符的串
	- 这个串只有两个字符
	- 好像一个大腰子

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210817-1629207493191)

- 可以用int函数将bytes转化为整数吗?

### int函数 

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221015-1665799522814)

- 尝试转化

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221015-1665799538155)

- 怎么理解这种转化呢？

### 直接转化

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221030-1667136889138)

- 注意这种转化是
	- 将字节中的16进制数生生地变成了10进制数
	- 转化的是ascii字面意义上的数字

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221015-1665799898046)

- 如果出现非数字的字符

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221030-1667136952851)

### 具体形态

- "41"是一个字符串
	- 里面有两个字符
	- 每一个字符对应一个字节

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221030-1667137047430)

- 第一个字符是 4
  - 对应十六进制数 0x34
- 第二个字符是 1
  - 对应十六进制数 0x31

### 具体字符

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20211105-1636104780483)

- 内存里面就是这两个字节
   - b"\x34\x31"
   - b 的意思是 bytes(字节序列)

### ascii中观察

- "x34" 是第一个字节
	- x指的是十六进制hexidecimal
	- (34)<sub>16</sub>对应着字符`4`
- "x31" 是第二个字节
	- x指的是十六进制hexidecimal
	- (31)<sub>16</sub>对应着字符`1`

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220217-1645100144707)

### 整型数字和字符串

- `i_age` 和 `s_age` 对比

| `i_age`    | `s_age`     |
| -------- | -------- |
| 41       | "41"     |
| 整型数字 | 字符串   |
| \x00\x29 | \x34\x31 |

- 他们之间可以相 互转化吗？

### 整型数字和字符串的 转化

- 字符串转化为整型数字

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210817-1629208136808)

- 整型数字转化为字符串

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210817-1629208271476)

- 这些都练了无数次了
- 其实还有个通用公式

### 通用办法

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210817-1629208404527)

- 不论什么形式的字符串
- 都可以用 eval()函数衡量出来
- evaluate 衡量
  - 0b 前缀 二进制
  - 0o 前缀 八进制
  - 0x 前缀 十六进制

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20210817-1629208414258)

- 不光如此
	- eval 还可以计算

### eval

- eval 可以计算表达式的值

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20211105-1636103427109)

- 甚至表达式里面有函数或者变量也可以进行计算

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20211105-1636103452239)

- 这能解决
	- 字符串"3.3"不能扮演(cast)整型数字的问题吗？

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221227-1672113315526)

### cast 

- cast原意是投掷
	- cast a shadow 投上一层阴影

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221227-1672112629702)

- 扮演成
	- 手经过 cast 成为鹿
	- 人扮演成其他的角色

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20221227-1672113471314)

- 直接去不行
	- 先衡量(evaluate)出字符串的值(浮点型)
	- 再让浮点型的数字扮演(cast)一个整数(int)

### 总结

- 这次总结了四种进制的转化函数

- 数字 41 和字符串"41"的不同

| 函数名     | 前缀     | 目标字符串所用进制 |
| -------- | -------- | ----- |
| bin |   0b | 二进制 |
|  oct|   0o |八进制 |
| hex |  0x | 十六进制
|eval | 以上都有可能 |十进制|



- 字符串"41"
  - 两个字符
  - 字符转化为 ascii 序号
  - `\x34\x31`

- 数字 41
  - 转化为 二进制 0b101001
  - 两个字节前面补零
  - `\x00\x29`
  - 这就两个字节
- 但是这两个字节谁先谁后呢？🤔
- 下次再说👋
