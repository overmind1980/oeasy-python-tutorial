---
show: step
version: 1.0
enable_checker: true
---

# å‰ç«¯å’Œåç«¯
## æˆ‘ä»¬æ¥å›é¡¾ä¸€ä¸‹ ğŸ˜Œ

- å‰ç«¯ å¯ä»¥è®¡ç®—
- åç«¯ ä¹Ÿå¯ä»¥è®¡ç®—

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20211114-1636898021424)

- é‚£è®¡ç®— æ”¾åœ¨ `å“ªç«¯` å¥½å‘¢ï¼Ÿ

### é«˜æ–¯

- ä¹‹å‰ æˆ‘ä»¬ç®—è¿‡
	- 1åŠ åˆ°100çš„å’Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/853588/uid1190679-20250624-1750765670967/wm) 

- è¿™æ¬¡è¯•è¯•
	- æŠŠ100 å˜æˆ 
	- æ›´é€šç”¨çš„n ï¼ŸğŸ¤”

### ä»é›¶å¼€å§‹

- è¿™æ¬¡ç®—åŠ æ³•
	- æ„å»ºå·¥ç¨‹æ–‡ä»¶å¤¹
	- sum_pro

```
cd ~
mkdir sum_pro
cd sum_pro
vi app.py
```

- å»ºç«‹ webappçš„æ ¹ç›®å½•
	- è¿›å…¥ æ ¹ç›®å½•
	- æ–°å»ºapp.py

```
from flask import Flask

app = Flask(__name__)

@app.route('/')
def index():
    return str("hello")

if __name__ == "__main__":
    app.run(debug=True,host="0.0.0.0",port=8080)
```

### è¿è¡Œåº”ç”¨

- åå°è¿è¡Œ webæœåŠ¡å™¨

```
nohup python3 app.py >> f.log 2>&1 &
firefox http://localhost:8080 &
```

- å›è½¦åˆ‡å›å‘½ä»¤è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/853588/uid1190679-20250624-1750770210905) 

- å‡†å¤‡è®¡ç®—

### å‰ç«¯è®¡ç®—

- åœ¨staticä¸­å»ºç«‹cal.html
	- å°è¯• çº¯å‰ç«¯è®¡ç®—

```
mkdir static
vi static/cal.html
```

- åœ¨staticä¸‹é¢å»ºç«‹ç½‘é¡µ

```html
<html lang="zh">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<script type="text/javascript">
			function calculate(){
				var result = 0;
				var num = document.getElementById("num").value
				for(var i=1;i<=num;i++){
					result += i;
				}
				result_div = document.getElementById("result")
				result_div.innerHTML = result+"";
			}
		</script>
	</head>
	<body>
		<input type="text" id="num">
		<input type="button" onclick="calculate()" value="go"/>
		<div id="result">
	</body>
</html>
```

- å†™å¥½äº†ç›´æ¥ä¿å­˜

### è®¿é—®ç»“æœ

```
firefox http://localhost:8080/static/cal.html &
```

- å¯ä»¥è®¡ç®—

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230220-1676858220808)

### è¿ç®—è¿‡ç¨‹

- æœ¬åœ°æµè§ˆå™¨
	- å‰ç«¯jsä»£ç é‡Œé¢

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/853588/uid1190679-20250624-1750770612078) 

- å†™å¾—æ˜æ˜ç™½ç™½
	- çœ‹å¾—æ¸…æ¸…æ¥šæ¥š

### ä¼ è¾“è¿‡ç¨‹

- ç½‘é¡µ ä» æœåŠ¡å™¨ 
	- ä¼ è¾“åˆ° æœ¬åœ°æµè§ˆå™¨ ä¹‹å
	- å°±å¯ä»¥è®¡ç®—äº† 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/853588/uid1190679-20250624-1750770664932) 

- æ¯æ¬¡ çš„ æ–°è®¡ç®— 
	- éƒ½åœ¨æœ¬åœ°
	- ç½‘ç»œä¸­ æ²¡ æ–°è¯·æ±‚/å“åº”

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/853588/uid1190679-20250624-1750770744389) 

### å‰ç«¯è®¡ç®—

- æŠŠ è®¡ç®— æ”¾åˆ°å‰ç«¯
	- åå° æ°¸è¿œå¾—ä¸åˆ°

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230220-1676858232912)

- è®¡ç®— å¯ä»¥ æ”¾`åç«¯` å—ï¼Ÿ

### åç«¯è®¡ç®—

```
vi static/preCalculate.html 
```

- é¦–å…ˆå»ºç«‹æäº¤é¡µé¢

```
<html lang="zh">
	<head>
        <title>preCalculate</title>
	</head>
	<body>
        <form method="GET" id="preCal" action="../cal">
            <input type="text" id="num" name="num">
            <input type="submit" value="go"/>
        </form>
	</body>
</html>
```

- åŠ è½½é¡µé¢

```
firefox http://localhost:8080/static/preCalculate.html &
```

- å¯ä»¥è®¿é—®åˆ°

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230220-1676858663933)

- å¡«å†™ æ•°å­—å æäº¤

### è®¿é—®

- è§‚å¯Ÿurl
	- å¯ä»¥çœ‹åˆ°
		- æäº¤ä½ç½®
		- å‚æ•°

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/853588/uid1190679-20250624-1750775467458) 

- ç¡®å®å‘å‡ºäº†è¯·æ±‚
	- ä½†æ˜¯æ²¡æœ‰å¾—åˆ° æ­£ç¡®çš„å“åº”
- çŠ¶æ€ç  404
	- å› ä¸ºè·¯ç”±æ²¡æœ‰ä¸“é—¨çš„å¤„ç†å‡½æ•°

### å¤„ç†æ€è·¯

- æ ¹æ®ä¹‹å‰çš„è·¯ç”±å¤„ç†ç»éªŒ
	- è¿™æ¬¡å¤„ç†çš„è·¯ç”±æ˜¯ http://localhost:8080/cal?num=123
	- å¯ä»¥ åˆ†æcal?num=123 è¿™ä¸ªå­—ç¬¦ä¸²
	- ç„¶å æå–å‡º 123 è¿™ä¸ªå€¼
	- å†åšè®¡ç®— 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/853588/uid1190679-20250624-1750775579994)

- æœ‰å…¶ä»–æ–¹æ³•å—ï¼Ÿ

### è¯¢é—®ai

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/853588/uid1190679-20250624-1750775645731) 

- çœ‹èµ·æ¥æœ‰ ä¸“é—¨çš„æ–¹æ³•

### å¤„ç†è·¯ç”±

```
vi app.py
```

- é‡å†™app.py

```
from flask import request
from flask import Flask

app = Flask(__name__)

@app.route('/', methods=['POST', 'GET'])
def hello():
    return "hello"

@app.route('/cal', methods=['POST', 'GET'])
def cal():
    num = request.args.get("num")
    if num == "" or num == None:
        return 0
    else:
        result = 0
        num = int(num)
        for i in range(num+1):
            result += i
        return str(result)

if __name__ == "__main__":
    app.run(debug=True)
```

- ä¿®æ”¹app.py
	- åç«¯ è‡ªåŠ¨åŠ è½½

### æœ€ç»ˆæ•ˆæœ

- å‰ç«¯æµè§ˆå™¨ åˆ·æ–°

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230220-1676860468052)

- æŸ¥çœ‹æºç 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230220-1676860485708)

- åç«¯ å®Œæˆè®¡ç®—
	- æŠŠç»“æœ äº¤ç»™ å‰ç«¯

### å†ç®—ä¸€æ¬¡

- æ‰“å¼€ æ£€æŸ¥å™¨ 
	- åˆ‡æ¢åˆ° ç½‘ç»œ æ¨¡å¼

```
firefox http://localhost:8080/static/preCalculate.html &
```

- å†åˆ·æ–° é¡µé¢
	- æ¯æ¬¡ ç‚¹å‡»æŒ‰é’®çš„ ç¬é—´
	- éƒ½ä¼š æ–°å‘ä¸ª httpè¯·æ±‚ åˆ°æœåŠ¡å™¨

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/853588/uid1190679-20250624-1750771332961) 

- æœåŠ¡å™¨ å¤„ç†ä¹‹å 
	- æŠŠç»“æœ äº¤ç»™æµè§ˆå™¨

- æƒ³æŠŠ ç´¯åŠ  ä¿®æ”¹ä¸º ç´¯ä¹˜ 
	- å¯ä»¥å—ï¼Ÿ

### æ€»ç»“ ğŸ¤¨

- è¿™æ¬¡ 
	- é€šè¿‡ æ–‡æœ¬æ¡† å½•å…¥æœ€å¤§å€¼
	- è®¡ç®—äº† ä»1å¼€å§‹çš„ç´¯åŠ 
	- æœ‰ä¸¤ç§æ–¹å¼
		- å‰ç«¯ js
		- åç«¯ python
- åç«¯çš„è®¡ç®— éœ€è¦
	- å‰ç«¯å‘è¯·æ±‚
	- åç«¯åšå“åº”

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220505-1651727871909)

- å¯æ˜¯ç©¶ç«Ÿ
	- ä»€ä¹ˆæ˜¯è¯·æ±‚
	- ä»€ä¹ˆåˆæ˜¯å“åº”å‘¢ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ï¼ğŸ‘‹