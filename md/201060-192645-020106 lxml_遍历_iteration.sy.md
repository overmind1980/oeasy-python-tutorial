---
show: step
version: 1.0
enable_checker: true
---

# è¯­æ³• html éå†
## å›å¿†

- äº†è§£etreeä¸­çš„å…ƒç´ çš„æ–‡æœ¬æˆå‘˜å˜é‡
	- text
	- tail
- å¯ä»¥è®¾ç½®etreeå…ƒç´ çš„æˆå‘˜å˜é‡text
	- textå˜é‡çš„ç±»å‹æ˜¯å­—ç¬¦ä¸²
	- tailå˜é‡çš„ç±»å‹ä¹Ÿæ˜¯å­—ç¬¦ä¸²
- tostringå‡½æ•°æœ‰ä¸€äº›å‚æ•°å¯ä»¥æ§åˆ¶è¾“å‡º
	- method = "text" å¯ä»¥æ§åˆ¶è¾“å‡ºç»“æœåªåŒ…å«textå’Œtail
	- with_tail = False å¯ä»¥æ§åˆ¶è¾“å‡ºç»“æœä¸åŒ…å«tail
	- pretty_print = True å¯ä»¥æ§åˆ¶è¾“å‡ºç»“æœåŒ…å«ç¼©è¿›ä¿¡æ¯
- æˆ‘ä»¬å·²ç»åœ¨å†…å­˜æ„å»ºäº†ä¸€æ£µæ ‘äº†
- ä½†æ˜¯æ€ä¹ˆçˆ¬åˆ°æŒ‡å®šçš„æ ‘æä½ç½®å‘¢ï¼ŸğŸ¤”

### xpath

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630463341760)

- å¯ä»¥å¾—åˆ°æ ¹èŠ‚ç‚¹çš„æ–‡æœ¬
- æˆ–è€…æ–‡æœ¬åˆ—è¡¨

### å¾—åˆ°æ–‡æœ¬
![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630463370460)

### éå†èŠ‚ç‚¹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630463450183)

- etree.Elementç±»æ˜¯ä»listç±»æ´¾ç”Ÿçš„
- æ‰€ä»¥è‚¯å®šå®ç°äº†__iter()__çš„æ–¹æ³•
- æ‰€ä»¥etree.Elementç±»æ˜¯iterableçš„ç±»å‹
- æ‰€ä»¥ä»–çš„å¯¹è±¡å¯ä»¥ç”¨forè¯­è¨€æ¥éå†

### éå†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630463551258)

- é€’å½’åœ°éå†äº†ä¸€éå„ä¸ªå…ƒç´ èŠ‚ç‚¹
	- è¾“å‡ºæ ‡ç­¾å
	- è¾“å‡ºæ–‡æœ¬

### éå†å­å…ƒç´ 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630463660607)

- root.iter("child")
	- å¾—åˆ°rootå…ƒç´ æ‰€æœ‰çš„childå­å…ƒç´ 
	- è™½ç„¶ä¸çŸ¥é“è¿™ä¸ªä¸œè¥¿ç©¶ç«Ÿæ˜¯ä»€ä¹ˆç±»å‹çš„
	- ä¸è¿‡å¯ä»¥æ„ŸçŸ¥åˆ°è¿™ä¸ªç±»å‹æ˜¯iterableçš„
- root.iter("child","another")
	- å¾—åˆ°rootå…ƒç´ æ‰€æœ‰çš„childå­å…ƒç´ å’Œanotherå­å…ƒç´ 
	- æŠŠå¾—åˆ°çš„ä¸œè¥¿æ”¾åœ¨ä¸€ä¸ªå¯iterableçš„å˜é‡ä¸­
	- ç„¶åéå†
- ä½ èƒ½å¤Ÿæƒ³è±¡å‡ºiteræ–¹æ³•çš„å®ç°çš„å…·ä½“ä»£ç å—ï¼Ÿ

### åŠ¨æ‰‹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630463683785)

### å®ä½“å’Œæ³¨é‡Š

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630463857945)

- ä¸ºrootå…ƒç´ å¢åŠ äº†ä¸¤ç±»å¯¹è±¡
	- etree.Entity("#234")  å®ä½“
	- etree.Comment("some comment") æ³¨é‡Š
- Entityå’ŒCommentä¸¤ç±»å¯¹è±¡
	- ç®—æ˜¯rootå…ƒç´ çš„å­å…ƒç´ 
		- å¯ä»¥éå†
	- ä½†ä¸å±äºetree.Elementå…ƒç´ 
- Entityå…ƒç´ æœ¬èº«åªåŒ…å«
	- textæˆå‘˜
- Commentå…ƒç´ åŒ…å«
	- å¤´å°¾çš„æ³¨é‡Šæ ‡è®°
	- å…·ä½“çš„æ³¨é‡Šå†…å®¹

### æ·»åŠ å®ä½“

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630463996964)

### éå†å…ƒç´ å’Œå®ä½“

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630464157409)

- æˆ‘ä»¬å¯ä»¥é€šè¿‡tag=etree.Entityç­›é€‰å‡ºEntityå®ä½“å¯¹è±¡
- ä¹Ÿå¯ä»¥é€šè¿‡tag=etree.Elementç­›é€‰å‡ºElementå…ƒç´ å¯¹è±¡
- è¿˜å¯ä»¥é€šè¿‡tag=etree.Commentç­›é€‰å‡ºCommentæ³¨é‡Šå¯¹è±¡
- æˆ‘ä»¬å¯¹äºetreeæ„æˆçš„å…ƒç´ æ ‘æœ‰äº†ä¸€å®šçš„äº†è§£
- é‚£æˆ‘æ€ä¹ˆé€šè¿‡çˆ¬åˆ°çš„htmlæ–‡ä»¶å¾—åˆ°etreeå‘¢ï¼Ÿ

## æ€»ç»“

- å·²ç»åœ¨å†…å­˜æ„å»ºäº†ä¸€æ£µetreeæ ‘äº†
- æ ‘æ˜¯ç”±èŠ‚ç‚¹æ„æˆçš„
- èŠ‚ç‚¹åŒ…æ‹¬
	- Entity
	- Comment
	- Element
- Elementå…ƒç´ æœ€é‡è¦ï¼Œä»–çš„æˆå‘˜æœ‰:
	- attrib å±æ€§å­—å…¸
	- text å…·ä½“æ–‡æœ¬
	- tail åè·Ÿæ–‡æœ¬
- è€Œä¸”å¯ä»¥ç”¨foréå†etree.Element
- ä½†æ˜¯æˆ‘ä»¬çš„ç´ ææ˜¯ç½‘ä¸Šçˆ¬åˆ°çš„ç½‘é¡µæºæ–‡ä»¶æ˜¯çº¯æ–‡æœ¬
- å¦‚ä½•é€šè¿‡é€šè¿‡çº¯æ–‡æœ¬å¾—åˆ°ä¸€æ£µetreeæ ‘å‘¢ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´
