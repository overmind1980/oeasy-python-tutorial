---
show: step
version: 1.0
enable_checker: true
---

# psycopg3

## å›å¿†

- ä¸Šæ¬¡ä½¿ç”¨äº†æ¸¸æ ‡
-	é€šè¿‡æ¸¸æ ‡
	- å¯ä»¥å¾—åˆ°selectæŸ¥è¯¢çš„ç»“æœé›†
- è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥
	- é€šè¿‡pythonè¯­è¨€
		- ç›´æ¥æ“ä½œpostgresäº†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221229-1672323440515)

- psycopgè¿˜æœ‰ä»€ä¹ˆå¥½ç©çš„å—ğŸ¤”

### å•å¥æ‰§è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221230-1672364540137)

- å¯ä»¥å»è¯•è¯•

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230406-1680775251916)

- ä»£ç å¦‚ä¸‹

```
import psycopg

conninfo = "postgres://postgres:oeasypg@localhost:5432/oeasydb"
print(psycopg.connect(conninfo).execute("SELECT now()").fetchone()[0])
```

### è¿è¡Œç»“æœ

- æœ€å¼€å§‹çš„æ—¶å€™ä¼šæŠ¥é”™
	- å› ä¸ºåå°è¿˜æ²¡æœ‰å°†pgå¯åŠ¨èµ·æ¥

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221230-1672366298024)

- ç¨å¾®ç­‰å¾…
	- ç­‰pg æœåŠ¡å¯åŠ¨èµ·æ¥ä¹‹å
		- å°±å¯ä»¥ é€šè¿‡è¿™ç§ä¸€å¥çš„æ–¹å¼ 
			- è¿›è¡Œè¿æ¥äº†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230406-1680775302016)

- å¯ä»¥ä»æ•°æ®åº“é‡Œé¢æŸ¥è¯¢åˆ°æ•°æ®å—ï¼Ÿ

### æŸ¥è¯¢æ•°æ®

```
import psycopg

conninfo = "postgres://postgres:oeasypg@localhost:5432/oeasydb"
print(psycopg.connect(conninfo).execute("SELECT * FROM test").fetchall())
```

- è¿è¡Œç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230406-1680775384855)

- ç¡®å®ä¸€å¥è¯å°±èƒ½æŸ¥è¯¢æ•°æ®åº“ä¸­çš„è®°å½•

### æ€»ç»“

- è¿™æ¬¡ä½¿ç”¨äº†psycopg3çš„ä¸€å¥è¯æ¨¡å¼


```
import psycopg

conninfo = "postgres://postgres:oeasypg@localhost:5432/oeasydb"
print(psycopg.connect(conninfo).execute("SELECT * FROM test").fetchall())
```

- å¯ä»¥å¿«é€Ÿåœ°æ‰§è¡Œsqlè¯­å¥
- psycopgæ¨èæ€æ ·çš„ç¼–ç¨‹æ–¹å¼å‘¢ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ï¼ğŸ‘‹