---
show: step

version: 1.0
enable_checker: true
---

# å›åˆ°å¼€å¤´

## å›å¿†ä¸Šæ¬¡å†…å®¹

- ç”¨`\r`å¯ä»¥è®©è¾“å‡ºä½ç½®å›åˆ°æœ€å¼€å¤´çš„åœ°æ–¹
	- é‡æ–°è¾“å‡ºæ—¶é—´
	- æˆ‘ä»¬å¯ä»¥è®©æ—¶é—´åœ¨å›ºå®šä½ç½®åˆ·æ–°äº†
- æˆ‘æƒ³è¦çš„æ˜¯å¤§å­—ç¬¦
	- åº”è¯¥æ˜¯figlet
	- ä½†æ˜¯åŒæ—¶è¿˜èƒ½åˆ·æ–°
- å¯èƒ½å—ï¼ŸğŸ¤”

### å»ºç«‹è„šæœ¬
- æˆ‘ä»¬å…ˆç†Ÿæ‚‰ä¸€ä¸‹`shell`
- vi test.sh

```shell
python3 sleep.py
python3 sleep.py
python3 sleep.py
```
- çœ‹èµ·æ¥å°±æ˜¯æŠŠè¿™ä¸ªå†…å®¹è¾“å‡ºäº†3æ¬¡
- å¯ä»¥æ‰§è¡Œä¹ˆï¼Ÿ

### è‡ªåŠ¨
- `python`çš„è¾“å‡ºå­—ç¬¦ä¸²ç›´æ¥é€šè¿‡`ç®¡é“|`ç»™åˆ°`figlet`
	- æ‰€ä»¥`python`å°±åªè´Ÿè´£è¾“å‡ºæ—¶é—´

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614991827796)

- ç„¶åå’Œfigletæ•´åˆèµ·æ¥

### figlet

- vi go.sh
- ç¼–å†™ä»¥ä¸‹æ–‡ä»¶

```shell
python3 sleep.py|figlet
python3 sleep.py|figlet
python3 sleep.py|figlet
```
- ç„¶åè¿è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614992254420)

- è¾“å‡ºæˆåŠŸ
- ç„¶åå‘¢ï¼Ÿ

### å°è¯•å¾ªç¯ 

- åŸæ¥æ”¾åœ¨pythonæ–‡ä»¶ä¸­çš„çš„å¾ªç¯å’Œå®šæ—¶å™¨
	- ç°åœ¨éœ€è¦æ”¾åœ¨shellçš„shè„šæœ¬æ–‡ä»¶é‡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614993080980)

- vi loop.sh
- è¾“å…¥ä»¥ä¸‹å†…å®¹

```
for a in {1..10}
do
	echo $a
done
```

### ä¿å­˜å¹¶è¿è¡Œ

- `:w` ä¿å­˜å½“å‰æ–‡æ¡£
- `:!sh %`è¿è¡Œå½“å‰`shell`
- `:w|!sh %`ä¿å­˜å¹¶è¿è¡Œå½“å‰`shell`

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210923-1632369078841)

- ä¸ä½†è¦å¾ªç¯
- ä¹Ÿéœ€è¦å»¶è¿Ÿ
- æ€ä¹ˆåŠï¼Ÿæœå‘—

### å°è¯•å»¶è¿Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614993141917)

```
for a in {1..10}
do
	echo $a
	sleep 1s
done
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614993196629)

### æ•´åˆpython


```
for a in {1..10}
do
	python3 sleep.py|figlet
	sleep 1s
done
```

- è¾“å‡ºæˆåŠŸ
- ä½†æ˜¯ä¸€å±å¹•ä¸Šæœ‰ä¸¤ä¸ªæ—¶é—´

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614993460194)

### å°è¯•æ¸…å±

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614993562436)

```
for a in {1..10}
do
	clear
	python3 sleep.py|figlet
	sleep 1s
done
```
- è¿˜èƒ½æ•´ç‚¹ä»€ä¹ˆå‘¢ï¼Ÿ

### cowsay

- é¦–å…ˆè¦å®‰è£…cowsay

```
sudo apt install cowsay
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614993917284)

- cowå°±å¯ä»¥sayäº†
- ç„¶åå‘¢ï¼Ÿ

### åˆ©ç”¨ç®¡é“

- ç„¶ååˆ©ç”¨ç®¡é“

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614993957714)

### ç®¡é“åŸç†

![Image text](https://labfile.oss.aliyuncs.com/courses/2712/pipe.png)

### æŠŠcowsayæ•´åˆè¿›æ¥
```
for a in {1..10}
do
	clear
	python3 sleep.py | figletï½œcowsay -f moose -n
	sleep 1s
done
```

- å¥½åƒæ˜¯å¯ä»¥çš„ 
- å°±æ˜¯æœ‰ç‚¹å¤æ‚

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614994076733)

- å¯ä»¥æ›´å¥½ç©ä¸€ç‚¹å—ï¼Ÿ

### å½©è‰²æ•ˆæœ

```
#å®‰è£…å½©è‰²ç¨‹åº
sudo apt install lolcat
#å®éªŒ
echo oeasy | lolcat
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210812-1628752380278)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210812-1628752388506)

- æœ‰çš„æ—¶å€™ä¼šå› ä¸ºå®½åº¦é—®é¢˜
- æ„Ÿè§‰å¾ˆä¹±
- æˆ‘æƒ³æŠŠæ—¶é—´ç®€åŒ–ä¸ºæ—¶åˆ†ç§’

### æ•´åˆæ—¶é—´
- è¾“å‡ºæ—¶é—´å¤ªé•¿
- å…¶å®æˆ‘åªæƒ³è¾“å‡ºæ—¶åˆ†ç§’

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614994224934)

- è¿™ä¸ªå°±å¾—ä¿®æ”¹æœ€åˆçš„ç”Ÿæˆæ—¶é—´çš„æºå¤´
- ä¿®æ”¹sleep.pyæ–‡ä»¶

```python
#!/usr/bin/python3
import time
localtime = time.strftime(' %H:%M:%S',time.localtime(time.time()))
print(localtime,end="")
```

- strftimeå‡½æ•°
	- stræ˜¯å­—ç¬¦ä¸²stringçš„æ„æ€
	- fæ˜¯format
	- ä»–æŠŠä¸€ä¸ªlocaltimeæ ¼å¼åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²
- è¯•éªŒæˆåŠŸ

### ç›´æ¥è¿è¡Œsh
- ä½†æ˜¯æˆ‘æƒ³ç›´æ¥è¿è¡Œgo.shå¯ä»¥ä¹ˆï¼Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210812-1628752817259)

- æˆ‘å¸Œæœ›ç›´æ¥è¿è¡Œgo.shå¯ä»¥ä¹ˆï¼Ÿ

### æœ€ç»ˆæ•´åˆ

- ç›´æ¥è¿è¡Œçš„è¯
- `go.sh`æ²¡æœ‰æ‰§è¡Œæƒé™
- ç»™ä»–ææƒ
	- chmod æ”¹å˜æ¨¡å¼
	- u+x ç»™å½“å‰ç”¨æˆ·å¢åŠ æ‰§è¡Œæƒé™

```shell
chmod u+x go.sh
go.sh
```

- ç„¶åå†è¿è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614995698937)

## æ€»ç»“

- æˆ‘ä»¬ç‹‚é£™äº†ä¸€è·¯
	- ç”¨shellæ‰§è¡Œpythonç¨‹åº
	- ç”¨shellå¾ªç¯æ‰§è¡Œpythonç¨‹åº
- å¾ªç¯ä½“ä¸­
	- æŠŠpythonçš„è¾“å‡ºç»“æœç”¨ç®¡é“äº¤ç»™äº†figletç¨‹åº
	- æŠŠfigletè¾“å‡ºçš„ç»“æœç”¨ç®¡é“ç»™äº†cowsay
	- æŠŠcowsayçš„ç»“æœç»™äº†lolcat
- æœ€åæ˜¯ææƒç›´æ¥è¿è¡Œç¨‹åº
- æˆ‘ä»¬å›å¿†ä¸€ä¸‹æˆ‘ä»¬æœ€å¼€å§‹æ—¶
- å›åˆ°æœ¬è¡Œæœ€åˆçš„æ–¹æ³•
	- print("\r"+localtime)
	- `\r` ä¸ `\n` ä¸åŒ
- ä»å«ä¹‰ä¸Šæ¥çœ‹
	- `\n` - LF - LineFeed - æ¢è¡Œ
	- `\r` - CR - CarriageReturn - å›è½¦
- æ¢è¡Œå’Œå›è½¦æœ‰ä»€ä¹ˆä¸åŒå—ï¼ŸğŸ¤”
- æˆ‘ä»¬ä¸‹æ¬¡å†è¯´ç¨‹åºï¼ğŸ‘‹