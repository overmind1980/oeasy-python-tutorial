---
show: step
version: 1.0
enable_checker: true
---

# å­—ä½“æ ·å¼

## å›å¿†ä¸Šæ¬¡å†…å®¹

- ä¸Šæ¬¡äº†è§£äº†ä¸€ä¸ªæ–°çš„è½¬ä¹‰æ¨¡å¼
	- \33 é€ƒé€¸æ§åˆ¶å­—ç¬¦ esc
- esc è®©è¾“å‡º é€€å‡ºæ ‡å‡†è¾“å‡ºæµ
	- è¿›è¡Œæ§åˆ¶ä¿¡æ¯çš„è®¾ç½®
		- å¯ä»¥æ¸…å±
		- ä¹Ÿå¯ä»¥è®¾ç½®å…‰æ ‡è¾“å‡ºçš„ä½ç½®

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230129-1674991390952)

- è¿˜èƒ½åšä»€ä¹ˆå‘¢ï¼Ÿ
	- å¯ä»¥è®¾ç½®å­—ç¬¦çš„é¢œè‰²å—ï¼Ÿï¼Ÿï¼ŸğŸ¤”

### æŸ¥çœ‹ç»†èŠ‚

- å›å¿†
	- æ§åˆ¶åºåˆ— å‰å¯¼ç¬¦`\033[`
- `\`æ˜¯è½¬ä¹‰å­—ç¬¦
	- è¦å’Œ åé¢çš„å†…å®¹
		- ä¸€èµ· æ„æˆè½¬ä¹‰åºåˆ—
- `\033` æ˜¯è½¬ä¹‰åºåˆ—
	- è½¬ä¹‰è½¬ä¹‰
	    - è½¬åŒ–å«ä¹‰
	    - è½¬ä¹‰åºåˆ—`\033`å¯¹åº”çš„ å­—ç¬¦å«ä¹‰ æ˜¯`Escape`
    	- å†æ¬¡ é€ƒé€¸ å‡ºå»
- å­—ç¬¦ä¸² é‡Œé¢å‡ºç°äº† `Escape`å
	- èƒ½é€ƒå»åˆ°å“ªé‡Œå‘¢ï¼Ÿ
- ä» è¾“å‡ºçš„å­—ç¬¦ä¸² ä¸­ `Escape` å‡ºå»
    - åé¢çš„å†…å®¹ ä¸æ˜¯çº¯æ–‡æœ¬äº†
    - è€Œæ˜¯ æ§åˆ¶åºåˆ—(Control Sequence)

### å…·ä½“æ§åˆ¶

- `\033[` æ˜¯ `CSI`
	- `CSI n m`
	- `CSI` ä¹‹åçš„æ˜¯ansiç»™çš„å…³äºå­—ä½“æ ·å¼çš„è®¾ç½®ç»†èŠ‚

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210225-1614215584015)

- ä¸Šå›¾ä¸­çš„ `CSI `
	- `Control Sequence Introducer`
	- æ§åˆ¶åºåˆ—å‰å¯¼ç¬¦
	- `CSI` å°±æ˜¯ `\033[`
- ä¸Šå›¾ä¸­çš„ `n` å¯¹åº” 
	- 0-10çš„ä¸€ä¸ªæ•°å­—
- ä¸Šå›¾ä¸­çš„m è¯´æ˜
	- è¿™æ˜¯ è¦è¿›è¡Œ å¤–è§‚è®¾ç½®
	- è¿™ä¸ª éƒ¨åˆ†å±äº 
		- SGR (Select Graphic Rendition) parameters
		- é€‰æ‹©å›¾å½¢æ¸²æŸ“ å‚æ•°
- æ­£å¦‚ä¸Šæ¬¡
	- ç”¨`H` æ§åˆ¶ä½ç½® 

- nä»1-10
	- å…·ä½“æ˜¯ è®¾ç½®äº†äº› `ä»€ä¹ˆ`å‘¢ï¼Ÿ

### å…·ä½“è®¾ç½®

- ä»1m åˆ°10m

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210314-1615719957717)

- æˆ‘ä»¬ è¯•è¯•

### 1mã€0m

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210813-1628839915490)

- ç»“æ„æ˜¯ `\033[1m`
  - `\033`æ˜¯é€ƒé€¸å­—ç¬¦
  - 1 å¯¹åº”ç€ å¢äº®æˆ–å˜ç²—
  - 0 å¯¹åº”ç€ è¿˜åŸ
  - m æ˜¯ å›ºå®šçš„æ ¼å¼è¦æ±‚
- å¥½åƒé¢œè‰² æ˜¯æœ‰ç‚¹ ä¸ä¸€æ ·

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210813-1628840043823)

- æˆ‘å¯ä»¥ æŠŠ\033 ç®€åŒ–ä¸º \e ä¹ˆï¼Ÿ
- å›åˆ°pythonæ¸¸ä¹åœº

### å°è¯•\e

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220316-1647395455469)

- å®è·µç»“è®º
	- \033 å¯ä»¥è¿›å…¥ å­—ä½“æ§åˆ¶æ¨¡å¼
	- \e ç›®å‰ åœ¨pythonä¸­ ä¸æ”¯æŒ
	- ä½†æ˜¯ åœ¨shellä¸­ å‘¢ï¼Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220316-1647395696153)

- shellä¸­ æ”¯æŒ\e
- è¿˜æ˜¯ å›åˆ°æ¸¸ä¹åœº

### 2m

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210813-1628840134160)

- 2 å’Œ 1 ç›¸å
	- 1m æ›´äº®
	- 2m æ›´æš—
	- 0m è¿˜åŸ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210813-1628840107761)

- è¿™
	- ä¸€ä¼šå„¿äº®
	- ä¸€ä¼šå„¿æš—
- å¥½åƒ æŒºå¥½ç©çš„

### ç¼–å†™ç¨‹åº

- ç¼–è¾‘ä¸€ä¸ªpyæ–‡ä»¶
	- æ³¨æ„æ–‡ä»¶å ä¸èƒ½æ˜¯time.py
	- å› ä¸ºæˆ‘ä»¬è¦å¼•å…¥çš„åŒ…å«åštime
	- time.py ä¼šè®© python3 å¼•å…¥è‡ªå·±

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230201-1675242445039)

- i%3 æ˜¯è®©iå¯¹äº3å–ä½™æ•°
	- å¾—åˆ°0ã€1ã€2ä¸‰ç§å¯èƒ½

### ä»£ç 

```
import time
for i in range(100):
    csi = "\033["
    color = str(i % 3)
    print(csi + color + "moeasy")
    time.sleep(0.2)
```

- i ä»1åˆ°100
	- coloråœ¨"0"ã€"1"ã€"2"ä¸­ å¾ªç¯
		- è®¾ç½®æ–‡å­—åœ¨"æ­£å¸¸"ã€"äº®"ã€"æš—"ä¸­ å¾ªç¯
	- å†·å´æ—¶é—´æ˜¯ 0.2s

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230201-1675242651662)

- è§„å¾‹æ€§å¾ˆå¼º
	- å…¶å® äº®å’Œæš— 
	- å¯ä»¥å¾—åˆ° æ›´å¥½ç©çš„ä¸œè¥¿

### bb

- å¯ä»¥ çœ‹çœ‹è¿™ä¸ª

```
sudo apt install bb
bb
```

- é‡Œé¢ ç”¨å­—ç¬¦ç”»é£æ ¼
	- å®ç° ä¸‰ç»´æ—‹è½¬

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220421-1650543451215)

- åº”è¯¥æ˜¯ è§†é¢‘æŒ‰å¸§ è½¬åŒ–è¿‡æ¥çš„
	- å¾ˆå¥½ç©ï¼
- äº®å’Œæš— æ²¡æœ‰é‚£ä¹ˆè§„å¾‹
	- å¼•å…¥ éšæœºä¹±åº

### å¼•å…¥éšæœº

- import random

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221024-1666617959417)

- random.random() åœ¨ [0,1) ä¹‹é—´
	- random.random()*2 åœ¨ [0,2) ä¹‹é—´
	- int(random.random()*2 ) å¾—åˆ° {0,1}
		- (0 æˆ–è€… 1)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221024-1666617885563)

### éšæœºç¿»å€

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221024-1666618565764)

- random.random() åœ¨ (0,1) ä¹‹é—´
	- random.random()*2 åœ¨ [0,2) ä¹‹é—´

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221024-1666618590830)

- int(random.random()*3 ) 
	- å¾—åˆ° {0, 1, 2} 
		- (0 æˆ– 1 æˆ– 2)

### ä¹±åº

- ç¼–è¾‘ä¸€ä¸ªpyæ–‡ä»¶
	- æ³¨æ„æ–‡ä»¶åä¸èƒ½æ˜¯
		- time.py
		- random.py

```
import time
import random
while True:
    csi= "\033["
    color = int(random.random()*3)
    num = int(random.random()*2)
    print(csi + str(color) + "m" + str(num),end="")
```

- æ•°å­—æ˜¯ 
	- 0 æˆ– 1
- é¢œè‰²æ˜¯ 
	- äº® \33[1m
	- æ­£å¸¸ \33[0m
	- æš— \33[2m

### æ•ˆæœ
 
- è¿™ä¸‹ç¡®å® ä¹±äº†èµ·æ¥ğŸ˜„

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220421-1650543552594)

- è€Œä¸”æ˜¯ 
	- æ¯«æ— è§„å¾‹åœ°
	- ä¹±äº†èµ·æ¥
- çœ‹çœ‹ åé¢
	- è¿˜æœ‰ä»€ä¹ˆå¥½ç© 

## æ€»ç»“

- m å¯ä»¥æ”¹å˜å­—ä½“æ ·å¼
  - 0-10 ä¹‹é—´è®¾ç½®çš„éƒ½æ˜¯å­—ä½“æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210314-1615719957717)

- 0 å¤åŸ
- 1 å˜äº®
- 2 å˜æš—

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221024-1666619215394)

- ä»3åˆ°10 åˆæ˜¯ä»€ä¹ˆæ•ˆæœ å‘¢ï¼Ÿï¼Ÿ
- çœŸçš„å¯ä»¥blinké—ªçƒå—ï¼ŸğŸ‘
- æˆ‘ä»¬ä¸‹æ¬¡å†è¯´ï¼ğŸ‘‹
