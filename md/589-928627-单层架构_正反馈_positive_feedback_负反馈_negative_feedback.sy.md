---
show: step
version: 1.0
enable_checker: true
---

# 单层架构

## 我们来回顾一下 😌

- 上次了解了 
	- 两种 方法完成
	- 从 1加到 100
- `前端` 用的 js
	- 让浏览器去算
	- 算法让 用户看得 明明白白

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20250614-1749869987858)

- `后端` 用的是 python
	- 服务器算完 之后 
	- 把结果 直接交给 浏览器
	- 用户 只能看到 结果

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20250614-1749870077735)

- 前后端 都能算
	- 为什么 要分出 `前后端`呢？🤔

### 单层架构(1-tier architecture)

- 如果 服务器和客户端 都在一起
	- 自己发请求
	- 自己接收响应
- 总共就一层 
	- 都在一起

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220505-1651720737181)

- 就像
	- 查询本地硬盘上的数据库
	- 访问本地的服务器
	- 玩单机游戏
- 为啥要 分出 
	- client 客户端
	- server 服务器端

### Client-Server

- 多个客户端 
	- 都要访问 同一个服务器
	- 比如说 moba类的5v5

![图片描述](https://doc.shiyanlou.com/courses/3584/labs/928627/uid1190679-20250624-1750726079150) 

- 手机上的客户端
	- 同时 连到 某个服务器

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220505-1651720923734)

- 或者 要做 保湿

### 单层

- 想要
	- 通过 湿度传感器
	- 控制 水泵
	- 从而 保湿

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220505-1651726933702)

- 为什么需要滴灌呢？

### 滴灌

- 滴灌的好处
	1. 节水
	2. 补水效果好

![图片描述](https://doc.shiyanlou.com/courses/3584/labs/928627/uid1190679-20250624-1750735595066) 

- 讲究细水长流

### 吃饭

- 吃饭 需要 
	1. 细嚼慢咽
	2. 少食多餐
- 避免 暴饮暴食

![图片描述](https://doc.shiyanlou.com/courses/3584/labs/928627/uid1190679-20250624-1750735928155) 

- 类似的还有 大脑的神经元结构

### 信息

- 大脑 
	- 吃的 是 信息
	- 修改的是 神经元节点 连接结构
- 基于 目前的 连接状态
	- 获取 新信息
	- 分析 新信息
	- 修改 连接结构

![图片描述](https://doc.shiyanlou.com/courses/3584/labs/928627/uid1190679-20250624-1750736358836) 

- 需要 
	- 小步快跑
	- 快速迭代

### 回到滴灌

- 避免 
	- 旱的旱死 
	- 涝的涝死

- 监控 湿度 
	- 精准控制

![图片描述](https://doc.shiyanlou.com/courses/3584/labs/928627/uid1190679-20250624-1750736773702) 

- 逻辑 是`负反馈`

### 负反馈

- negative feedback
	- 离着火近了 就烧伤
	- 离着火远了 就寒冷

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220509-1652103539956)

- 平衡 调整
	- 负反馈
	- 是本能
	- 符合天道

### 衣藻

- 简单的生物都会
	- 衣藻
		- Chlamydomonas
	- 寻找合适的温度

- 天之道
	- 损有余而补不足

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240409-1712651092935)

- 和 负反馈 相对的是
	- 正反馈

### 正反馈

- positive feedback

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230429-1682765199746)

- 马太效应
	- 凡有的 还要加倍给他 叫他多余
	- 没有的 连他所有的也要夺过来

### 马太效应

- 火的会更火
	- 无人关注会更无人关注

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20230429-1682765397331)

- 人之道
	- 损不足以奉有余
	- 这就是正反馈
- 与负反馈相对

### 负反馈 

- 咸了就喝水 淡了就加盐
- 饿了就吃 饱了就不吃

- 面多了 加水 
- 水多了 加面 

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220519-1652929640983)

- 这个 比较长久
	- 总处于 平衡位置
	- 不容易 失控
- 但是机器 
	- 不会这个

### 控制器

- 蒸汽机 
	- 如果压力过大
		- 蒸汽锅炉就会爆炸
	- 如果压力过小
		- 又无法驱动设备
- 必须要 一个合适的压力范围
	- 驱动用功单位 
		- 以合适的速度运行

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220509-1652104456706)

- 注意那两个小球
- 叫做离心调速器(Centrifugal Governors)
	- [ˌsentrɪˈfjuːɡl] 离心的
	- Governors 平衡控制器
	- centrifugal feedback valve(离心反馈阀门)
- 是蒸汽机的主神经中枢
- 如果速度过快
	- 小球向上推动 就会打开阀门 放气
	- 使得速度 降下来
	- 速度慢下来之后
- 阀门关闭
	- 小球向下关闭阀门
	- 使得速度提升

### 动态均衡

- 这是 控制机械 的理论
	- 控制论
	- Cybernetics
	- 也就是 今天所说的 赛博

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220509-1652105562023)

- 控制论 
	- 讲的是 `根本`
	- 佛家的`空`
	- 道家的`无`
		- 阴阳之`道`
	- 儒家的`中庸`
	- 博弈论中的`纳什均衡`

### 汽笛

- 历史的车轮 
	- 滚滚向前
	- 蒸汽机车脑门上 
	- 都带一个汽笛

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20240409-1712651441327)

- 汽笛
	- siren
	- 女海妖


![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220522-1653192198889)

- 机械时代 过渡到 电气时代
	- 也一样 需要governor

### 蒸汽朋克与蒸汽波

- 曾经先进的 蒸汽技术

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220522-1653192219867)

- 在 如今的电气时代 
	- 显得 非常复古

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220522-1653204765870)

- 反倒成为 向往的所在

### 总结

- 最初的计算
	- 都在 `一个`机器上进行
	- 对于自身状态 进行`反馈`
	- 反馈分成两种
		- 正反馈(容易失控)
		- 负反馈(稳定在平衡位置)
- 下面这个 就是1-tier架构
	- 纯纯的 模拟电路

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220505-1651726915855)

- `怎么` 控制 多个 传感器 和 水泵 呢？🤔
- 下次再说👋🏻