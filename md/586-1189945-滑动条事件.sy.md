---
show: step
version: 1.0
enable_checker: true
---

# opencv

## å›å¿†


- å¯ä»¥åœ¨ç©ºç™½é»‘åº•å›¾åƒä¸Šå†™å­—
	- å­—ä½“
	- é¢œè‰²
	- æœå‘
	- å¤§å°
	- ...éƒ½å¯ä»¥ä¿®æ”¹
- å¯ä»¥è¯•è¯•ä½¿ç”¨æ»šåŠ¨æ¡å—ï¼Ÿ

### æ»‘åŠ¨æ¡çš„ä½¿ç”¨
```python3
import cv2
import numpy as np

def callback(value):
    print(value)

cv2.namedWindow('canvas', cv2.WINDOW_NORMAL)
cv2.resizeWindow('canvas', 640, 480)
cv2.createTrackbar('T', 'canvas', 0, 100, callback)
while True:
    t = cv2.getTrackbarPos('T', 'canvas')
    canvas = np.zeros((480,640,3), np.uint8)
    cv2.putText(canvas,str(t),(30,80),cv2.FONT_HERSHEY_TRIPLEX,2,(0,255,0),5)
    cv2.imshow('canvas', canvas)

    key = cv2.waitKey(1)
    if key & 0xFF == ord('q'):
        break
cv2.destroyAllWindows()
```

- è¿è¡Œç»“æœ
	- æ»šåŠ¨æ¡æ•°å€¼åœ¨ç”»å¸ƒä¸Šæ˜¾ç¤º
	- åœ¨å›è°ƒå‡½æ•°ä¸­ å‘ç»ˆç«¯è¾“å‡ºæ•°å­—

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240106-1704513188577)

- å¯ä»¥å»é™¤æ­»å¾ªç¯å—ï¼Ÿ

### å»é™¤æ­»å¾ªç¯

```
import cv2 import numpy as np

def callback(value): print(value) t = cv2.getTrackbarPos('T', 'canvas') canvas
= np.zeros((640,480,3), np.uint8)
cv2.putText(canvas,str(t),(30,80),cv2.FONT_HERSHEY_TRIPLEX,2,(0,255,0),5)
cv2.imshow('canvas', canvas)

cv2.namedWindow('canvas', cv2.WINDOW_NORMAL) canvas = np.zeros((640,480,3),
np.uint8)
cv2.imshow('canvas', canvas)
cv2.createTrackbar('T', 'canvas', 0, 100, callback)
key = cv2.waitKey(0)
cv2.destroyAllWindows()
```

- æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240224-1708757216284)

- é™¤äº† æ§åˆ¶ ç»ˆç«¯è¾“å‡ºçš„ æ–‡æœ¬å¤–
	- å¯ä»¥ æ§åˆ¶æ–‡æœ¬çš„ è¾“å‡ºä½ç½®å—ï¼Ÿ

### æ§åˆ¶æ–‡æœ¬åæ ‡ä½ç½®

```
import cv2
import numpy as np

def callback(value):
    print(value)
    t = cv2.getTrackbarPos('T', 'canvas')
    canvas = np.zeros((640,480,3), np.uint8)
    x = t*4 + 80
    cv2.putText(canvas,str(t),(x,80),cv2.FONT_HERSHEY_TRIPLEX,2,(0,255,0),5)
    cv2.imshow('canvas', canvas)

cv2.namedWindow('canvas', cv2.WINDOW_NORMAL)
canvas = np.zeros((640,480,3), np.uint8)
cv2.imshow('canvas', canvas)
cv2.createTrackbar('T', 'canvas', 0, 100, callback)
key = cv2.waitKey(0)
cv2.destroyAllWindows()
```

- æœ€ç»ˆç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240106-1704513360965)

- ç¡®å®å¯ä»¥æ§åˆ¶
	- æ–‡æœ¬ä½ç½®
- å¯ä»¥æ§åˆ¶é¢œè‰²å—ï¼Ÿ

###  RGB

- äº‹ä»¶è§¦å‘
	- äº‹ä»¶å‘ç”Ÿçš„æ—¶å€™ æ‰è°ƒç”¨

```
import cv2
import numpy as np

cv2.namedWindow('trackbar', cv2.WINDOW_NORMAL)
cv2.resizeWindow('trackbar', 640, 480)
def callback(value):
    r = cv2.getTrackbarPos('R', 'trackbar')
    g = cv2.getTrackbarPos('G', 'trackbar')
    b = cv2.getTrackbarPos('B', 'trackbar')
    img[:] = [b, g, r]
    cv2.imshow('trackbar', img)
    print(value)

cv2.createTrackbar('R', 'trackbar', 0, 255, callback)
cv2.createTrackbar('G', 'trackbar', 0, 255, callback)
cv2.createTrackbar('B', 'trackbar', 0, 255, callback)
img = np.zeros((480,640,3), np.uint8)
cv2.imshow('trackbar', img)
if cv2.waitKey(0) == ord('q'):
    cv2.destroyAllWindows()
```

- ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240219-1708355322670)

### æ€»ç»“ 
- è¿™æ¬¡æˆ‘ä»¬ç ”ç©¶äº†æ»šåŠ¨æ¡
- å¯ä»¥æ§åˆ¶ç”»é¢ä¸åŒçš„
	- æ–‡æœ¬å†…å®¹
	- æ–‡æœ¬ä½ç½®
	- å…·ä½“é¢œè‰²
- è¿˜å¯ä»¥æœ‰ä»€ä¹ˆæ ·å…·ä½“çš„åº”ç”¨å—ï¼ŸğŸ¤”
- æˆ‘ä»¬ä¸‹æ¬¡å†è¯´	ğŸ‘‹