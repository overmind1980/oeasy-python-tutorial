---
show: step
version: 1.0 
enable_checker: true
---


# python_blender

## å¼€å§‹

- ä¸Šæ¬¡ç©äº†åŠ¨ç”»
- å¯ä»¥æŠŠåŠ¨ç”»æµç¨‹æ€»ç»“ä¸€ä¸‹å—?

### è¿˜åŸåœºæ™¯

```
import bpy

def clear_scene():
    bpy.ops.object.select_all(action="SELECT")
    bpy.ops.object.delete()

def create_man():
    mat = bpy.data.materials.new('blue')
    color = (0, 0, 1, 1)
    mat.diffuse_color = color
    man  = bpy.data.objects.new("man", None)
    bpy.data.collections["Collection"].objects.link(man)
    bpy.ops.mesh.primitive_uv_sphere_add()
    head = bpy.context.object
    head.location = (0,0,2.5)
    head.data.materials.append(mat)
    head.parent = man
    bpy.ops.mesh.primitive_cone_add()
    body = bpy.context.object
    body.location = (0,0,1)
    body.parent = man
    body.data.materials.append(mat)

def create_plane():
    bpy.ops.mesh.primitive_plane_add()
    plane = bpy.context.object
    plane.scale = (10,10,1)

def create_camera():
    bpy.ops.object.camera_add()
    camera = bpy.context.object
    camera.location = (3.059990406036377, -9.885231018066406, 12.905241966247559)
    camera.rotation_euler = (0.7260572910308838, -6.679311326251991e-09, 0.30019673705101013)
    bpy.context.scene.camera = camera

def create_spot():
    bpy.ops.object.light_add(type='SPOT')
    spot = bpy.context.object
    spot.location = (-1.2811667919158936, -3.316868543624878, 12.282358169555664)
    spot.rotation_euler = (0.34208473563194275, 1.8850268901360323e-08, -0.3071775436401367)
    spot.data.energy = 1000

def render():
    bpy.context.scene.render.resolution_x = 320
    bpy.context.scene.render.resolution_y = 240
    bpy.context.scene.render.resolution_percentage = 50
    bpy.context.scene.render.engine = 'CYCLES'
    bpy.context.scene.render.filepath = '/tmp/render2.png'
    bpy.ops.render.render(write_still=True)

clear_scene()
create_man()
create_plane()
create_camera()
create_spot()
render()
```

### è®¾ç½®åŠ¨ç”»

- ä¸ºäººç‰©å¢åŠ å…³é”®å¸§

|å¸§å·|location|
|---|---|
|1|(0,0,0)|
|10|(10,0,0)|

```
man.location = (0, 0, 0) 
man.keyframe_insert(data_path="location", frame=1)  
man.location = (10, 0, 0)
man.keyframe_insert(data_path="location", frame=10) 
```

- åœ¨layoutè§†å›¾ä¸­è§‚å¯Ÿåˆ°
	- å…³é”® 
	- äººç‰©åŠ¨ç”»

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240625-1719280807839)

- èƒ½åŠ¨äº†å—?

### è§‚å¯Ÿ

- åœ¨layoutå·¥ä½œåŒº
	- è§‚å¯Ÿmançš„æ—¶é—´è½´
	- ç¡®å®æœ‰å…³é”®å¸§

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240625-1719314761314)

- èƒ½æ¸²æŸ“å‡ºæ¥å—


### è®¾ç½®æ¸²æŸ“

- åˆ‡å›Scriptå·¥ä½œåŒº
	- è®¾ç½®æ¸²æŸ“åŠ¨ç”»

```
def render():
    bpy.context.scene.frame_end = 10
    bpy.context.scene.render.resolution_x = 200
    bpy.context.scene.render.resolution_y = 150
    bpy.context.scene.render.resolution_percentage = 50
    bpy.context.scene.render.engine = 'CYCLES'
    bpy.context.scene.render.filepath = "/home/shiyanlou/Code/o"
    bpy.ops.render.render(animation=True)
```

- ç‚¹å‡»è¿è¡ŒæŒ‰é’®
	- æ¸²æŸ“èµ·æ¥

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240625-1719314849084/wm)

### å®‰è£…åºåˆ—æŸ¥çœ‹å·¥å…·

```
feh /home/shiyanlou/Code
```

- æœ€ç»ˆæ•ˆæœ
	- äººç‰©åŠ¨äº†
	- è·‘é»‘å½±é‡Œäº†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240625-1719314893496)

- ä¸‹é¢å‡†å¤‡
	- è®©ç¯å…‰è¿½è¸ªè§’è‰²

### æ·»åŠ çº¦æŸ

- é€‰ä¸­èšå…‰ç¯spot
	- çº¦æŸè°ƒæ¿
	- æ·»åŠ å¯¹è±¡çº¦æŸ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240625-1719283000249)

### è®¾ç½®çº¦æŸ

- çº¦æŸç±»å‹ä¸º
	- Track to

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240625-1719283089110)

- å°†Track Toç›®æ ‡
	- è®¾ç½®ä¸ºman

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240625-1719283230696)

- å¹¶è®¾ç½®zè½´è´Ÿå‘
	- æŒ‡å‘man

### çº¦æŸæ•ˆæœ

- å¼€å¯å®æ—¶æ¸²æŸ“æ¨¡å¼

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240625-1719283352466)

- åœ¨layoutå·¥ä½œåŒº

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240625-1719283104094)

- å°†ä¸Šè¿°å·¥ä½œè½¬åŒ–ä¸ºä»£ç 

### ä»£ç 

```
import bpy

def clear_scene():
    bpy.ops.object.select_all(action="SELECT")
    bpy.ops.object.delete()

def create_man():
    mat = bpy.data.materials.new('blue')
    color = (0, 0, 1, 1)
    mat.diffuse_color = color
    man  = bpy.data.objects.new("man", None)
    bpy.data.collections["Collection"].objects.link(man)
    bpy.ops.mesh.primitive_uv_sphere_add()
    head = bpy.context.object
    head.location = (0,0,2.5)
    head.data.materials.append(mat)
    head.parent = man
    bpy.ops.mesh.primitive_cone_add()
    body = bpy.context.object
    body.location = (0,0,1)
    body.parent = man
    body.data.materials.append(mat)
    man.location = (0, 0, 0)
    man.keyframe_insert(data_path="location", frame=1)
    man.location = (10, 0, 0)
    man.keyframe_insert(data_path="location", frame=10)

def create_plane():
    bpy.ops.mesh.primitive_plane_add()
    plane = bpy.context.object
    plane.scale = (10,10,1)

def create_camera():
    bpy.ops.object.camera_add()
    camera = bpy.context.object
    camera.location = (3.059990406036377, -9.885231018066406, 12.905241966247559)
    camera.rotation_euler = (0.7260572910308838, -6.679311326251991e-09, 0.30019673705101013)
    bpy.context.scene.camera = camera

def create_spot():
    bpy.ops.object.light_add(type='SPOT')
    spot = bpy.context.object
    spot.location = (-1.2811667919158936, -3.316868543624878, 12.282358169555664)
    spot.rotation_euler = (0.34208473563194275, 1.8850268901360323e-08, -0.3071775436401367)
    spot.data.energy = 1000
    spot.constraints.new(type='TRACK_TO')
    spot.constraints["Track To"].track_axis = 'TRACK_NEGATIVE_Z'
    spot.constraints["Track To"].use_target_z = True
    spot.constraints["Track To"].up_axis = 'UP_X'
    spot.constraints["Track To"].target = bpy.data.objects["man"]

def render():
    bpy.context.scene.frame_end = 10
    bpy.context.scene.render.resolution_x = 200
    bpy.context.scene.render.resolution_y = 150
    bpy.context.scene.render.resolution_percentage = 50
    bpy.context.scene.render.engine = 'CYCLES'
    bpy.context.scene.render.filepath = "/home/shiyanlou/Code/o"
    bpy.ops.render.render(animation=True)

clear_scene()
create_man()
create_plane()
create_camera()
create_spot()
render()
```

### é—®é¢˜

```
feh /home/shiyanlou/Code
```

- è§‚å¯Ÿåºåˆ—æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240625-1719284584703)

- æ‘„å½±æœºæ²¡è·Ÿä¸Š

### åˆå§‹å¸§

- åœ¨layoutå·¥ä½œåŒº
	- é€‰ä¸­æ‘„å½±æœº
	- åœ¨ç¬¬1å¸§
	- è®¾ç½®rotationå±æ€§ä¸ºå…³é”®å¸§

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240625-1719285904267)

### è°ƒè¯•æ‘„å½±æœº

- å¼€å¯ 4è§†å›¾æ¨¡å¼

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240625-1719285442701)

### è°ƒæ•´è§†å›¾

- å°†æ’­æ”¾å¤´ç§»åŠ¨åˆ°ç¬¬10å¸§
	- å¹¶å°† é€è§†å›¾ è®¾ç½®ä¸º
	- æ‘„å½±æœºçœ‹åˆ°çš„ç”»é¢ 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240625-1719285479128)

### è°ƒæ•´æ—‹è½¬

- åœ¨ä¿è¯
	- æ‘„å½±æœºä½ç½®ä¸å˜çš„åŸºç¡€ä¸Š
	- è°ƒæ•´æ‘„å½±æœºçš„æ—‹è½¬è§’åº¦
		- è“è‰²è½´æ§åˆ¶zè½´æ—‹è½¬
		- çº¢ç»¿è½´æ§åˆ¶xyè½´æ—‹è½¬

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240625-1719286213605)

- è§‚å¯Ÿæœ€ç»ˆä½ç½®
	- å¹¶ä»£ç åŒ–

### ä»£ç åŒ–

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240625-1719286557339)

- ç›¸åº”ä»£ç 

```
import bpy

def clear_scene():
    bpy.ops.object.select_all(action="SELECT")
    bpy.ops.object.delete()

def create_man():
    mat = bpy.data.materials.new('blue')
    color = (0, 0, 1, 1)
    mat.diffuse_color = color
    man  = bpy.data.objects.new("man", None)
    bpy.data.collections["Collection"].objects.link(man)
    bpy.ops.mesh.primitive_uv_sphere_add()
    head = bpy.context.object
    head.location = (0,0,2.5)
    head.data.materials.append(mat)
    head.parent = man
    bpy.ops.mesh.primitive_cone_add()
    body = bpy.context.object
    body.location = (0,0,1)
    body.parent = man
    body.data.materials.append(mat)
    man.location = (0, 0, 0)
    man.keyframe_insert(data_path="location", frame=1)
    man.location = (10, 0, 0)
    man.keyframe_insert(data_path="location", frame=10)

def create_plane():
    bpy.ops.mesh.primitive_plane_add()
    plane = bpy.context.object
    plane.scale = (10,10,1)

def create_camera():
    bpy.ops.object.camera_add()
    camera = bpy.context.object
    camera.location = (3.059990406036377, -9.885231018066406, 12.905241966247559)
    camera.rotation_euler = (0.7260572910308838, -6.679311326251991e-09, 0.30019673705101013)
    bpy.context.scene.camera = camera    
    camera.keyframe_insert(data_path="rotation_euler", frame=1)
    camera.rotation_euler = (0.7763736844062805, -0.06353582441806793, -0.6263947486877441)
    camera.keyframe_insert(data_path="rotation_euler", frame=10)

def create_spot():
    bpy.ops.object.light_add(type='SPOT')
    spot = bpy.context.object
    spot.location = (-1.2811667919158936, -3.316868543624878, 12.282358169555664)
    spot.rotation_euler = (0.34208473563194275, 1.8850268901360323e-08, -0.3071775436401367)
    spot.data.energy = 1000
    spot.constraints.new(type='TRACK_TO')
    spot.constraints["Track To"].track_axis = 'TRACK_NEGATIVE_Z'
    spot.constraints["Track To"].use_target_z = True
    spot.constraints["Track To"].up_axis = 'UP_X'
    spot.constraints["Track To"].target = bpy.data.objects["man"]

def render():
    bpy.context.scene.frame_end = 10
    bpy.context.scene.render.resolution_x = 200
    bpy.context.scene.render.resolution_y = 150
    bpy.context.scene.render.resolution_percentage = 50
    bpy.context.scene.render.engine = 'CYCLES'
    bpy.context.scene.render.filepath = "/home/shiyanlou/Code/o"
    bpy.ops.render.render(animation=True)

clear_scene()
create_man()
create_plane()
create_camera()
create_spot()
render()
```

### å†è§‚å¯Ÿ

```
feh /home/shiyanlou/Code
```

- è§‚å¯Ÿåºåˆ—æ•ˆæœ
	- ç¯å…‰å’Œæ‘„å½±æœº
		- éƒ½å¼€å§‹è·Ÿç€è§’è‰²äº†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240625-1719316572098)

- å¯ä»¥ æŠŠé•œå¤´
	- æ¨ä¸Šæ¥å—?

### æ‘„å½±æœºé•œå¤´æ¨ç„¦è·

|åç§°|æ—¶é•¿|
|---|---|
|èµ·å¹…|10å¸§|
|é•œå¤´ç„¦è·æ¨|10å¸§|
|è½å¹…|10å¸§|

- å°†è§†å›¾
	- ä»4è§†å›¾
	- è¿˜åŸä¸ºå•ä¸€è§†å›¾

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240625-1719287031643)

- è§‚å¯Ÿæ‘„å½±æœºç„¦è·
	- 50mm
- å°è¯•æ¨é•œå¤´

### æ¨é•œå¤´

- å°†é•œå¤´ç„¦è·
	- è®¾ç½®ä¸º70 mm
	- è§‚å¯Ÿæ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240625-1719287097686)

- å°† æ¨é•œå¤´ ä»£ç åŒ–

### ä»£ç 

```
import bpy

def clear_scene():
    bpy.ops.object.select_all(action="SELECT")
    bpy.ops.object.delete()

def create_man():
    mat = bpy.data.materials.new('blue')
    color = (0, 0, 1, 1)
    mat.diffuse_color = color
    man  = bpy.data.objects.new("man", None)
    bpy.data.collections["Collection"].objects.link(man)
    bpy.ops.mesh.primitive_uv_sphere_add()
    head = bpy.context.object
    head.location = (0,0,2.5)
    head.data.materials.append(mat)
    head.parent = man
    bpy.ops.mesh.primitive_cone_add()
    body = bpy.context.object
    body.location = (0,0,1)
    body.parent = man
    body.data.materials.append(mat)
    man.location = (0, 0, 0)
    man.keyframe_insert(data_path="location", frame=1)
    man.location = (10, 0, 0)
    man.keyframe_insert(data_path="location", frame=10)

def create_plane():
    bpy.ops.mesh.primitive_plane_add()
    plane = bpy.context.object
    plane.scale = (10,10,1)

def create_camera():
    bpy.ops.object.camera_add()
    camera = bpy.context.object
    camera.location = (3.059990406036377, -9.885231018066406, 12.905241966247559)
    camera.rotation_euler = (0.7260572910308838, -6.679311326251991e-09, 0.30019673705101013)
    bpy.context.scene.camera = camera    
    camera.keyframe_insert(data_path="rotation_euler", frame=1)
    camera.rotation_euler = (0.7763736844062805, -0.06353582441806793, -0.6263947486877441)
    camera.keyframe_insert(data_path="rotation_euler", frame=10)
    camera.data.lens = 50
    camera.data.keyframe_insert(data_path="lens", frame=20)
    camera.data.lens = 70
    camera.data.keyframe_insert(data_path="lens", frame=30)
    camera.data.lens = 70
    camera.data.keyframe_insert(data_path="lens", frame=40)
    

def create_spot():
    bpy.ops.object.light_add(type='SPOT')
    spot = bpy.context.object
    spot.location = (-1.2811667919158936, -3.316868543624878, 12.282358169555664)
    spot.rotation_euler = (0.34208473563194275, 1.8850268901360323e-08, -0.3071775436401367)
    spot.data.energy = 1000
    spot.constraints.new(type='TRACK_TO')
    spot.constraints["Track To"].track_axis = 'TRACK_NEGATIVE_Z'
    spot.constraints["Track To"].use_target_z = True
    spot.constraints["Track To"].up_axis = 'UP_X'
    spot.constraints["Track To"].target = bpy.data.objects["man"]
    

def render():
    bpy.context.scene.frame_end = 40
    bpy.context.scene.render.resolution_x = 200
    bpy.context.scene.render.resolution_y = 150
    bpy.context.scene.render.resolution_percentage = 50
    bpy.context.scene.render.engine = 'CYCLES'
    bpy.context.scene.render.filepath = "/home/shiyanlou/Code/o"
    bpy.ops.render.render(animation=True)

clear_scene()
create_man()
create_plane()
create_camera()
create_spot()
render()
```

### è§‚å¯Ÿæœ€ç»ˆæ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240625-1719316803863)

- è¿™æ¬¡æ€»å…±éœ€è¦æ¸²æŸ“40å¸§

```
feh /home/shiyanlou/Code
```

- å¯ä»¥åœ¨æ—¶é—´è½´ä¸Šçœ‹å…³é”®å¸§å—?

### è§‚çœ‹æ•ˆæœ

- åœ¨dope sheet ä¸­è§‚å¯Ÿ
	- å…³é”®å¸§

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240625-1719288040958)

- æ‘„å½±æœºçš„æ—‹è½¬
	- 1ã€10å¸§
- æ‘„å½±æœºçš„ç„¦è·
	- 20ã€30ã€40å¸§

### æ€»ç»“ ğŸ¤”

- è¿™æ¬¡å°†åŠ¨æ€å›¾æ¸²æŸ“åšäº†æ€»ç»“
- ?ğŸ¤”
- æˆ‘ä»¬ä¸‹æ¬¡å†è¯´ï¼ğŸ‘‹
