---
show: step
version: 1.0
enable_checker: true
---

# è¯­æ³• html éå†

## å›å¿†

- ä¸Šæ¬¡å·²ç»åœ¨å†…å­˜æ„å»ºäº†ä¸€æ£µ etree æ ‘äº†
- æ ‘æ˜¯ç”±èŠ‚ç‚¹ Element æ„æˆçš„
- Element å…ƒç´ çš„æˆå‘˜æœ‰:
  - attrib å±æ€§å­—å…¸
  - text å…·ä½“æ–‡æœ¬
  - tail åè·Ÿæ–‡æœ¬
  - tag æ ‡ç­¾
  - iter() è¿­ä»£å™¨å‡½æ•°
    - iter æ˜¯æ·±åº¦ä¼˜å…ˆéå†
    - å¯ä»¥å¯¹tagè¿›è¡Œç­›é€‰
- é™¤äº†etree.Elementä¹‹å¤–
	- ç½‘é¡µä¸­è¿˜æœ‰ä»€ä¹ˆå¯¹è±¡å—ï¼ŸğŸ¤”


### å®ä½“å’Œæ³¨é‡Š

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630463857945)

- ä¸º root å…ƒç´ å¢åŠ äº†ä¸¤ç±»å¯¹è±¡
  - etree.Entity("#234") å®ä½“
  - etree.Comment("some comment") æ³¨é‡Š
  - è¿˜æœ‰åŸæ¥çš„etree.Element("h1")
- root å…ƒç´ æœ¬èº«æ˜¯ etree.Element å¯¹è±¡
- Entity å’Œ Comment æ˜¯ä¸¤ç±»å¯¹è±¡
  - ä½œä¸º root å…ƒç´ çš„å­å¯¹è±¡
    - å¯ä»¥éå†
  - ä½†æ˜¯ä¸å±äº etree.Element å…ƒç´ ç±»çš„å¯¹è±¡
- iter()å‡½æ•°ä¸­ç”¨å‚æ•° tag=etree.Element å¯ä»¥è¿›è¡Œç­›é€‰
- Entity å…ƒç´ æœ¬èº«åªåŒ…å«
  - text æˆå‘˜
- Comment å…ƒç´ åŒ…å«
  - å¤´å°¾çš„æ³¨é‡Šæ ‡è®°
  - å…·ä½“çš„æ³¨é‡Šå†…å®¹

### æ·»åŠ å®ä½“

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221126-1669457946281)

- ä¸ºbodyå…ƒç´ æ·»åŠ Entity("#234")
- è¾“å‡ºé‡å®šå‘åˆ°1.html
- ç„¶åç”¨ç«ç‹æ‰“å¼€1.html

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221126-1669458003513)

- å‡ºç°äº†Ãªè¿™ä¸ªå­—ç¬¦
- è¿™ä¸ªÃªæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ

### è§‚å¯Ÿå­—ç¬¦

- Ãªçš„åºå·æ˜¯234

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221126-1669458085251)

- å®ä½“æ˜¯ä¸€ä¸ªå­—ç¬¦
- å¯ä»¥ç”¨åºå·è¾“å‡º
- æˆ‘ä»¬è¯•è¯•

### æ±‰å­—

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221126-1669458203480)

- å¾—åˆ°åºå·

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221126-1669458215941)

- ç¡®å®è¾“å‡ºäº†æŒ‡å®šåºå·çš„æ±‰å­—

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221126-1669458223383)

- å¯ä»¥è¾“å‡ºemojiç¬¦å·å—ï¼Ÿ

### emoji

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221126-1669458325252)

- å¾—åˆ°åºå·

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221126-1669458345799)

- ç”Ÿæˆå®ä½“

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221126-1669458353714)

- Commentæ€ä¹ˆç©å‘¢ï¼Ÿ

### Comment

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221126-1669458780584)

- ç”Ÿæˆcomment
- æµè§ˆç½‘é¡µæ—¶
	- å³é”®æ£€æŸ¥æºæ–‡ä»¶

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221126-1669458819057)

- å¯ä»¥çœ‹åˆ°æºæ–‡ä»¶ä¸­çš„æ³¨é‡Š
- æ‰€è°“æ³¨é‡ŠComment
	- å°±æ˜¯ç½‘é¡µé‡Œé¢çœ‹ä¸åˆ°
	- ä½†æ˜¯æºæ–‡ä»¶é‡Œé¢å¯ä»¥çœ‹åˆ°çš„
	- å¯¹æºæ–‡ä»¶çš„è§£é‡Š
	- ç”¨`<!--` å’Œ `-->` åŒ…è£¹èµ·æ¥çš„
- etree.Commentå’Œetree.Entityå¾ˆåƒ
- æˆ‘ä»¬è¿™æ ·å°±å¯ä»¥å°†å†…å­˜ä¸­çš„etreeè¾“å‡ºåˆ°htmlæ–‡ä»¶äº†
- å¯ä»¥æ§åˆ¶è¾“å‡ºæ—¶å€™çš„ç¼©è¿›å—ï¼Ÿ

### æ§åˆ¶ç¼©è¿›

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210901-1630505528348)

- æ ¹æ®æ–‡æ¡£

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221126-1669460191258)

- è¾“å‡ºç¼©è¿›

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221126-1669460207547)

- å¯ä»¥æŠŠç¼©è¿›æ”¹ä¸º4ç©ºæ ¼å—ï¼Ÿ

### è°ƒæ•´ç¼©è¿›

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221126-1669460280148)

- å¯ä»¥è°ƒæ•´å—ï¼Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221126-1669460300493)

- ç¡®å®æ˜¯æœ‰æ•ˆçš„ 
- Entity å’Œ Comment å¯ä»¥è¢«éå†å‡ºæ¥å—ï¼Ÿ

### éå†å®ä½“å’Œæ³¨é‡Š

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221126-1669459173609)

- ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221126-1669459637978/wm)

- éå†çš„æ—¶å€™å¯ä»¥ç­›é€‰Entityå’ŒCommentå—ï¼Ÿ

### ç­›é€‰

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221126-1669459779067)

- iter()å‡½æ•°çš„å‚æ•°
  - tag=etree.Entity - ç­›é€‰å‡º Entity å®ä½“å¯¹è±¡
  - tag=etree.Element - ç­›é€‰å‡º Element å…ƒç´ å¯¹è±¡
  - tag=etree.Comment - ç­›é€‰å‡º Comment æ³¨é‡Šå¯¹è±¡

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221126-1669459724547)

- ç°åœ¨å¯ä»¥åœ¨å†…å­˜é‡Œç”Ÿæˆæ“ä½œè¿™é¢— etree æ ‘äº†
- å¯æ˜¯æ€ä¹ˆå°†å­—ç¬¦ä¸²å¿«é€Ÿè½¬åŒ–æˆ å…ƒç´ æ ‘å‘¢ï¼Ÿ

## æ€»ç»“

- å·²ç»åœ¨å†…å­˜æ„å»ºäº†ä¸€æ£µ etree æ ‘äº†
	- æ ‘æ˜¯ç”±èŠ‚ç‚¹ Element æ„æˆçš„
	- é™¤äº† etree.Element èŠ‚ç‚¹ä¹‹å¤–ï¼Œè¿˜æœ‰
	  - etree.Entity
	  - etree.Comment
- Element å…ƒç´ æœ€é‡è¦ï¼Œä»–çš„æˆå‘˜æœ‰:
  - attrib å±æ€§å­—å…¸
  - text å…·ä½“æ–‡æœ¬
  - tail åè·Ÿæ–‡æœ¬
  - tag æ ‡ç­¾
  - iter() è¿­ä»£å™¨å‡½æ•°
    - å¯ä»¥ç”¨ for éå†è¿­ä»£å™¨å‡½æ•°
    - å‚æ•° tag=etee.Element å¯ä»¥ç±»å‹è¿›è¡Œç­›é€‰
- etee.indent()å‡½æ•°å¯ä»¥æ§åˆ¶ etree.Element è¾“å‡ºçš„ç¼©è¿›
  - etree.indent(root, space="\t")
- etree.tostring()å‡½æ•°å¯ä»¥è¾“å‡ºç½‘é¡µæ–‡ä»¶
  - `etree.tostring(et_html,pretty_look=True)`
- å¦‚ä½•é€šè¿‡å­—ç¬¦ä¸²å¾—åˆ°ä¸€æ£µ etree æ ‘å‘¢ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´
