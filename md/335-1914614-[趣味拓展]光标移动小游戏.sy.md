---
show: step
version: 1.0
enable_checker: true
---

# å…‰æ ‡ä½ç½®å°æ¸¸æˆ

## å›å¿†ä¸Šæ¬¡å†…å®¹

- ä¸Šæ¬¡äº†è§£äº† ä¸€ä¸ªæ–°çš„è½¬ä¹‰æ¨¡å¼
	- \33 é€ƒé€¸æ§åˆ¶å­—ç¬¦ <kbd>esc</kbd>
- <kbd>esc</kbd> è®©è¾“å‡º 
	- é€€å‡º æ ‡å‡†è¾“å‡ºæµ
	- è¿›è¡Œ æ§åˆ¶ä¿¡æ¯çš„è®¾ç½®
		- å¯ä»¥ æ¸…å±
		- ä¹Ÿå¯ä»¥ è®¾ç½®å…‰æ ‡è¾“å‡ºçš„ä½ç½®

- æ ¹æ®è¿™ä¸ªèƒ½åšä¸ªå°æ¸¸æˆå—ï¼Ÿï¼Ÿï¼ŸğŸ¤”

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230129-1674991390952)

### å°è¯•è·å¾—é”®ç›˜å•ä¸ªè¾“å…¥

```
import tty
import sys
import termios

def get_character():
    fd = sys.stdin.fileno()
    old_settings = termios.tcgetattr(fd)
    try:
        tty.setcbreak(sys.stdin.fileno())
        character = sys.stdin.read(1)
    finally:
        termios.tcsetattr(fd, termios.TCSADRAIN, old_settings)
    return character

print("è¯·æŒ‰ä¸‹ä¸€ä¸ªå­—ç¬¦...")
character = get_character()
print("ä½ æŒ‰ä¸‹äº†é”®ç›˜ä¸Šçš„å­—ç¬¦", repr(character), "å¯¹åº”çš„ASCIIç å€¼ä¸º", ord(character))
```

- è¿™ä¸‹å­å¯ä»¥æ ¹æ®wasdæ§åˆ¶ä½ç½®äº†å—ï¼Ÿ

### æ§åˆ¶ä½ç½®

```
import os
import tty
import sys
import termios

def get_character():
    fd = sys.stdin.fileno()
    old_settings = termios.tcgetattr(fd)
    try:
        tty.setcbreak(sys.stdin.fileno())
        character = sys.stdin.read(1)
    finally:
        termios.tcsetattr(fd, termios.TCSADRAIN, old_settings)
    print("ä½ æŒ‰ä¸‹äº†é”®ç›˜ä¸Šçš„å­—ç¬¦", repr(character), "å¯¹åº”çš„ASCIIç å€¼ä¸º", ord(character))
    return character


p = (0,0)

def move():
    global p
    print("\33[" + str(p[0]) + ";" + str(p[1]) +"Ho")
    anjian = get_character()
    if anjian=='w' :
        p = (p[0]-1,p[1])
    elif anjian=='s':
        p = (p[0]+1,p[1])
    elif anjian=='a' :
        p = (p[0],p[1]-1)
    elif anjian=='d' :
        p = (p[0],p[1]+1)

def clear_screen():
    os.system('clear')

while True:
    clear_screen()
    move()
```

- å¯ä»¥é€šè¿‡å››ä¸ªæŒ‰é”®æ§åˆ¶å°oåœ¨å±å¹•ç§»åŠ¨äº†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240120-1705722990697)

### éƒ¨ç½²åœ°å›¾

```
import tty
import sys
import termios

def get_character():
    fd = sys.stdin.fileno()
    old_settings = termios.tcgetattr(fd)
    try:
        tty.setcbreak(sys.stdin.fileno())
        character = sys.stdin.read(1)
    finally:
        termios.tcsetattr(fd, termios.TCSADRAIN, old_settings)
    print("ä½ æŒ‰ä¸‹äº†é”®ç›˜ä¸Šçš„å­—ç¬¦", repr(character), "å¯¹åº”çš„ASCIIç å€¼ä¸º", ord(character))
    return character


youxiditu=[
'*************************',
'* *   *         * * * * *',
'* * * * ***** * * * * * *',
'* * *       * *   * * * *',
'*   * * *** * ***** *   *',
'* *** *   *   *     *** *',
'*     * * * *** ***   * *',
'*** *** * * *   *   *** *',
'* * *   *   * * *** * * *',
'*   * *** * * * *   * ***',
'***    *  * *** *****   *',
'* ****** **     * * * ***',
'* * *     * ***** * *   *',
'*   ******* X* *  * *** *',
'* *   *      * * ** * * *',
'*************************']

p = (2,1)

def printmap():
    for line in youxiditu:
        print(line)

def wanjiayidong():
    global p
    print("\33[30;40H",p)
    print("\33[" + str(p[0]) + ";" + str(p[1]) +"Ho")
    anjian = get_character()
    if anjian=='w' and youxiditu[p[0]-1][p[1]]!='*':
        p = (p[0]-1,p[1])
    elif anjian=='s' and youxiditu[p[0]+1][p[1]]!='*':
        p = (p[0]+1,p[1])
    elif anjian=='a' and youxiditu[p[0]][p[1]-1]!='*':
        p = (p[0],p[1]-1)
    elif anjian=='d' and youxiditu[p[0]][p[1]+1]!='*':
        p = (p[0],p[1]+1)

def clear_screen():
    os.system('clear')

while True:
    clear_screen()
    printmap()
    wanjiayidong()
```

- oå¯ä»¥ç§»åŠ¨
	- ä½†æ˜¯å¾ˆæ€ª

### åŸå› åˆ†æ

- å±å¹•åæ ‡ä»1ï¼Œ1å¼€å§‹
- ä½†æ˜¯pythonåˆ—è¡¨ä»0å¼€å§‹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240120-1705723510673)

- ä¿®æ”¹ä»£ç 

### ä»£ç 

```
import tty
import sys
import termios

def get_character():
    fd = sys.stdin.fileno()
    old_settings = termios.tcgetattr(fd)
    try:
        tty.setcbreak(sys.stdin.fileno())
        character = sys.stdin.read(1)
    finally:
        termios.tcsetattr(fd, termios.TCSADRAIN, old_settings)
    print("ä½ æŒ‰ä¸‹äº†é”®ç›˜ä¸Šçš„å­—ç¬¦", repr(character), "å¯¹åº”çš„ASCIIç å€¼ä¸º", ord(character))
    return character


youxiditu=[
'  ***********************',
'* *   *         * * * * *',
'* * * * ***** * * * * * *',
'* * *       * *   * * * *',
'*   * * *** * ***** *   *',
'* *** *   *   *     *** *',
'*     * * * *** ***   * *',
'*** *** * * *   *   *** *',
'* * *   *   * * *** * * *',
'*   * *** * * * *   * ***',
'***    *  * *** *****   *',
'* ****** **     * * * ***',
'* * *     * ***** * *   *',
'*   ******* X* *  * *** *',
'* *   *      * * ** * * *',
'*************************']

p = (0,0)

def printmap():
    for line in youxiditu:
        print(line)

def wanjiayidong():
    global p
    print("\33[10;40H",p)
    print("\33[" + str(p[0]+1) + ";" + str(p[1]+1) +"Ho")
    anjian = get_character()
    if anjian=='w' and youxiditu[p[0]-1][p[1]]!='*' and p[0]!=0:
        p = (p[0]-1,p[1])
    elif anjian=='s' and youxiditu[p[0]+1][p[1]]!='*':
        p = (p[0]+1,p[1])
    elif anjian=='a' and youxiditu[p[0]][p[1]-1]!='*' and p[1]!=0:
        p = (p[0],p[1]-1)
    elif anjian=='d' and youxiditu[p[0]][p[1]+1]!='*':
        p = (p[0],p[1]+1)

def clear_screen():
    os.system('clear')

while True:
    clear_screen()
    printmap()
    wanjiayidong()
```

- æ¸¸æˆæ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240120-1705724427067)

- è§’è‰²è¢«*ä»£è¡¨çš„å¢™æ‰€é˜»æ–­
- æœ€ç»ˆéœ€è¦ç§»åŠ¨åˆ°Xçš„ä½ç½®
- ç§»åŠ¨è¿‡å»åæœ‰ä»€ä¹ˆå¥–åŠ±å—ï¼Ÿ
- å¯ä»¥åšä¸€äº›æ›´æœ‰æ„ä¹‰çš„åœ°å›¾å—ï¼Ÿ

### æ„å»ºåœ°å›¾

- ä¸­ä¼ åœ°å›¾
	- æˆå½±
	- ä¿¡é€š
	- ç”µè§†
	- æ–°é—»

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240120-1705750242527)

- ç§»åŠ¨ è¿‡ç¨‹ä¸­ 
	- å¯»æ‰¾ç¢ç‰‡
	- è¿›è¡Œäº¤æ˜“
	- è¿›è¡Œæˆ˜æ–—
- è¿˜èƒ½åšç‚¹ä»€ä¹ˆå¥½ç©çš„å—ï¼Ÿ

## æ€»ç»“

- è¿™æ¬¡å­¦ä¹ äº†å•ä¸ªå­—ç¬¦çš„å½•å…¥æ–¹æ³•
	- å¹¶åˆ¶ä½œçš„ä¸€ä¸ªå°æ¸¸æˆ
	- å¯ä»¥è®©è¿™ä¸ªæ¸¸æˆå‡ºç°æ›´å¤šçš„é¢œè‰²å—ï¼Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240120-1705724988420)

- æˆ‘ä»¬ä¸‹æ¬¡å†è¯´ï¼ğŸ‘‹
