---
show: step
version: 1.0
enable_checker: true
---

# å¯¼å…¥requeståŒ…

## æ–°çš„å¼€å§‹

- æˆ‘ä»¬å®‰è£…äº†nginxæœåŠ¡å™¨
- ä½¿ç”¨æµè§ˆå™¨è®¿é—®äº†æœåŠ¡å™¨ä¸Šçš„ç½‘é¡µ
- ç½‘é¡µæœ‰å„ç§çŠ¶æ€
	- 200 æˆåŠŸ
	- 304 æœªæ”¹å˜
	- 404 æ‰¾ä¸åˆ°
- å¯æ˜¯è¿™ä¸ªçˆ¬è™«æ€ä¹ˆæå‘¢ï¼ŸğŸ¤£

### è¿‡ç¨‹
- æµè§ˆçš„è¿‡ç¨‹æ˜¯
	- æµè§ˆå™¨å‘å‡ºè¯·æ±‚request
	- æœåŠ¡å™¨æ¥æ”¶è¯·æ±‚è¿”å›response
	- æµè§ˆå™¨æ‰“å¼€responseå¹¶æ¸²æŸ“æˆé¡µé¢

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210831-1630412050376)

- çˆ¬è™«å…¶å®å°±æ˜¯ç”¨ä»£ç å®Œæˆè¿™æ ·ä¸€ä¸ªhttpè¿‡ç¨‹
- èƒ½è®©æµè§ˆå™¨å‘è¯·æ±‚å°±èƒ½è®©çˆ¬è™«å‘è¯·æ±‚
- åæ­£éƒ½æ˜¯0101çš„ä»£ç 

### è¯·æ±‚ requests
- å…ˆä»requestså¼€å§‹
- å¯¼å…¥è¿™ä¸ªåŒ…
- å¦‚æœæ²¡æœ‰çš„è¯è¦å…ˆä¸‹è½½
	- pip install requests

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210831-1630412431769)

### æŸ¥çœ‹å¸®åŠ©

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210831-1630404683669)

### ç…§çŒ«ç”»è™
```
import requests
response = requests.get("http://localhost/")
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210831-1630412591560)

- å¥½åƒè¿”å›äº†200çš„çŠ¶æ€ç 
- è¿™ä¸ªråˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ

### Responseå“åº”

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210831-1630412645897)

- åŸæ¥æ˜¯ä¸€ä¸ªresponseç±»çš„å¯¹è±¡
- helpä¸€ä¸‹

### Response

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210831-1630412922346)

- Responseå¯¹è±¡ åŒ…æ‹¬äº†ä¸€ä¸ª http è¯·æ±‚çš„è¿”å›ç»“æœ
- helpä»–ä¸€ä¸‹
- help(requests.models.Response)

### åªè¯»å¯¹è±¡

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210831-1630412969842)

- contentå°±æ˜¯å¯ä»¥è¯»å‡ºæ¥çš„å†…å®¹
	- è¿”å›çš„æ˜¯å­—èŠ‚åºåˆ—
	- å¦‚æœæˆ‘åªæƒ³è¦æ–‡æœ¬æ€ä¹ˆåŠå‘¢ï¼Ÿ

### æ–‡æœ¬

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20211015-1634305462282)

- æ¥çœ‹çœ‹ r.text

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20211015-1634305478003)

- ä»–ä»¬éƒ½æ˜¯ä»€ä¹ˆç±»å‹çš„å‘¢ï¼Ÿ

### å¯¹æ¯”
![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20211016-1634396395638)

- contentå’Œtext
	- content æ˜¯ å­—èŠ‚åºåˆ—
	- text æ˜¯ å­—ç¬¦ä¸²åºåˆ—

### æ˜ç¡®
![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210831-1630413092545)

- é€šè¿‡å˜é‡åçš„å‰ç¼€æ˜ç¡®è¿™ä¸¤ä¸ªå˜é‡


```
import requests
response = requests.get("http://localhost/")
b_html = response.content
s_html = response.text
```

- é‚£è¿™ä¸ªå­—èŠ‚åºåˆ—å’Œå­—ç¬¦ä¸²ä¹‹é—´å¯ä»¥ç›¸äº’è½¬åŒ–ä¹ˆï¼Ÿ

### è½¬åŒ–

- å­—èŠ‚åºåˆ—å’Œå­—ç¬¦ä¸²çš„è½¬åŒ–å°±æ˜¯ç¼–ç å’Œè§£ç 

- å­—èŠ‚åºåˆ—è§£ç decodeä¹‹åå¾—åˆ°å­—ç¬¦ä¸²

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20211016-1634396452318)

- å­—ç¬¦ä¸²encodeç¼–ç ä¹‹åå¾—åˆ°å­—èŠ‚åºåˆ—

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20211016-1634396459875)

## æ€»ç»“

- å¯¼å…¥äº†requestsæ¨¡å—
- å®Œæˆäº†http getçš„è¿‡ç¨‹
	- å‘å‡ºäº†request
	- å¾—åˆ°äº†response
	- çŠ¶æ€ç 200
- ä½†æ˜¯è¯»åˆ°çš„å†…å®¹æ˜¯
	- å­—èŠ‚åºåˆ—
	- å­—ç¬¦ä¸²åºåˆ—
- å¦‚ä½•è§£æhtmlè¯­è¨€å‘¢ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´
