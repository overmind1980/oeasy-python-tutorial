---
show: step
version: 1.0
enable_checker: true
---

# æ‰“åŒ…å’Œè§£åŒ…

## å›å¿†ä¸Šæ¬¡å†…å®¹

- ä¸Šæ¬¡è®²äº† triple çš„æ¥æº
	- tri- ä»£è¡¨ä¸‰

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230823-1692754598303)

- ä¸‰å¼•å·ä¸­
	- å¯ä»¥è®©å­—ç¬¦ä¸²åŸæ ·è¾“å‡º
	- ç»“å°¾`\` è¿˜æ˜¯éœ€è¦é€šè¿‡è½¬ä¹‰ `\\`
- é»‘æš—æ£®æ— å¿«è¢«æ‘¸æ’æ¸…äº†
	- è¿˜æœ‰å“ªä¸ª è½¬ä¹‰å­—ç¬¦
		- æ²¡ ç ”ç©¶è¿‡å—ï¼Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210224-1614173286539)

- è½¬ä¹‰å­—ç¬¦
	- å’Œå­—ç¬¦ä¸€æ · ä¹Ÿå­˜å‚¨äº å­—èŠ‚å½“ä¸­
- ç”±å­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²
	- å’Œ ç”±å­—èŠ‚ç»„æˆçš„ å­—èŠ‚åºåˆ— 
	- æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼ŸğŸ¤”
	- å¯ä»¥ç›¸äº’è½¬åŒ–å—ï¼ŸğŸ¤”

### åŒºåˆ«

- å­—èŠ‚åºåˆ— æ˜¯å­—èŠ‚çš„åºåˆ—
	- é‡Œé¢ å­˜å‚¨çš„æ˜¯ä¸€ä¸ªä¸ªå­—èŠ‚
- å­—ç¬¦ä¸² æ˜¯ å­—ç¬¦çš„åºåˆ—
	- é‡Œé¢ å­˜å‚¨çš„æ˜¯ä¸€ä¸ªä¸ªçš„å­—ç¬¦

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220522-1653185493990)

- å­—ç¬¦ ä¹Ÿå¾—
	- å­˜å‚¨åˆ° å­—èŠ‚å½“ä¸­ å•Šï¼
- asciiå­—ç¬¦å˜é‡
	- å­˜å‚¨åœ¨å­—èŠ‚ä¸­ 
		- ç©¶ç«Ÿæ˜¯ä»€ä¹ˆçŠ¶æ€å‘¢ï¼Ÿ

### struct

- ascii å­—ç¬¦çš„ åºå·èŒƒå›´æ˜¯
	- ä» 0 åˆ° 127
- å…ˆè¦è·å¾—
	- ä» 0 åˆ° 127 çš„ å­—èŠ‚çŠ¶æ€
- éœ€è¦ ä½¿ç”¨structåŒ…
	- åŒ…(module) å°±æ˜¯æ¨¡å—
		- å¯¼å…¥äº† å°±èƒ½ç”¨ æ¨¡å—ä¸­çš„åŠŸèƒ½
	- å¯¼å…¥structåŒ…
		- import struct

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230329-1680095963896)

- å¯¼å…¥ä¹‹å
	- å°±å¯ä»¥ help(struct) æŸ¥è¯¢å¸®åŠ©

### struct å¸®åŠ©æ‰‹å†Œ

- struct æ˜¯ ç»“æ„çš„æ„æ€
	- æŒ‡çš„æ˜¯ å¸¸ç”¨ç±»å‹çš„ å­˜å‚¨ç»“æ„

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221005-1664939119845)

- è¿™ä¸ªstruct 
	- æ€ä¹ˆç”¨å‘¢ï¼Ÿ

### pack

- structåŒ…ä¸­
	- æœ‰ packå‡½æ•° 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220924-1664026684316)

- æŠŠæ•°å­— å˜æˆ å­—èŠ‚çš„å½¢æ€
	- æŠŠord("a") å¯¹åº”çš„æ•°å­—0x61 
		- æˆ–è€…è¯´ 97
	- å˜æˆ å­—èŠ‚çš„å½¢æ€

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230116-1673846747998)

- é€—å·å‰çš„ "b"
	- æŒ‡çš„æ˜¯å­—èŠ‚(byte)
- é€—å·åçš„ ord("a") 
	- æŒ‡çš„æ˜¯ å­—ç¬¦açš„åºå·
	- å¦‚æœæ˜¯"s"çš„å­—èŠ‚å½¢æ€å‘¢ï¼Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230329-1680096146324)

- å­—ç¬¦sçš„å­—èŠ‚å½¢æ€
	- ä¸º b's'
- è¿™æ · å­—ç¬¦ å°±æˆäº† å­—èŠ‚äº†å—ï¼Ÿ

### å­—èŠ‚è¡¨ç¤ºæ³•

- æ³¨æ„ ç»†èŠ‚

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230116-1673846747998)

- æ³¨æ„'a'å‰é¢ è¿˜æœ‰ä¸€ä¸ªb
	- 'a'æ˜¯ å•å­— çš„ å­—ç¬¦ä¸² 
	- b'a' æ˜¯ å•å­—èŠ‚ çš„ å­—èŠ‚åºåˆ— 
- è¿™ä¸¤`ç±»å‹` å®Œå…¨ä¸åŒ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221120-1668918810324)

- å­—èŠ‚b'a' æ˜¯ ä»€ä¹ˆå‘¢ï¼Ÿ

### å­—èŠ‚å½¢æ€

- å­—èŠ‚çŠ¶æ€ å¯ä»¥ç”¨ 2ä¸ª16è¿›åˆ¶æ•° æ¥è¡¨ç¤º
	- b"a" ä¹Ÿå°±æ˜¯ b'a' 
		- ç›¸å½“äºb'\x61'
- å…¶å® ord("a") å°±æ˜¯ 97
	- ä¹Ÿå°±æ˜¯ 0x61
- 0x61 å°±æ˜¯ å­—ç¬¦a çš„ å­—èŠ‚å½¢æ€

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221013-1665649794369)

- b"a" å’Œ b"\x61" æ˜¯ `åŒæ ·`çš„
	- å°±æ˜¯å­—ç¬¦"a"çš„ å­—èŠ‚å½¢æ€

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221013-1665649899181)

- ä¸ºäº†çœ‹èµ·æ¥æ¸…æ¥šæ˜ç¡®
	- æŠŠb"\x61" è¡¨ç¤ºä¸ºb"a"
	- è¿™æ · ä¹Ÿå°±å¯ä»¥
		- ç›´æ¥çœ‹åˆ° å­—èŠ‚å¯¹åº”çš„å­—ç¬¦
		- ğŸ˜‚
- å¦‚ä½•ç†è§£struct.packå‘¢ï¼Ÿ

### å°åŒ…pack

- æŠŠä¸œè¥¿ å°è¿› è§„å®šçš„å°è£…
	- æŠŠå­—ç¬¦açš„åºå· å°è¿› å•å­—èŠ‚å½¢å¼çš„å°è£…

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221005-1664939686827)

- æŠŠæ•°å­—97 å°è¿› å­—èŠ‚å½¢å¼çš„å°è£…
	- è§‚å¯Ÿä»–çš„å­—èŠ‚çŠ¶æ€
- å…ˆé€€å‡ºpython3 æ¸¸ä¹åœº

### éå†

- å¤åˆ¶ ä¸‹é¢çš„ä»£ç 

```
import struct
for n in range(0,128):
    b = struct.pack("b",n)
    print(b,end=",")
```

- é”®å…¥vi show.py
	- "+p 
		- å°†ç³»ç»Ÿå‰ªè´´æ¿ä¸Šçš„å†…å®¹
		- ç²˜è´´ä¸Šå»

- æŠŠä»0-127çš„æ•°å­—éƒ½å°åˆ°å­—èŠ‚é‡Œé¢

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220911-1662890803376)

- æŠŠ ascii å­—ç¬¦ å¯¹åº”çš„åºå·
	- å°è£…è¿›äº† ä¸€ä¸ªä¸ªå­—èŠ‚

### éå†ç»“æœ

- å¥½å¤šå­—èŠ‚å‘€~ğŸ˜„

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220911-1662890871479)

- ä»å­—èŠ‚çŠ¶æ€å¯ä»¥çœ‹åˆ°å·²ç»æœ‰
	- æ•°å­— 0ã€1ã€2
		- è¿™é‡Œå¾ˆæ˜æ˜¾èƒ½çœ‹åˆ°0
		- è¿˜æœ‰0å‰é¢ çš„ ä¸€å †ç¬¦å·
		- é»‘æš—æ£®æ—é‡Œçš„å­—ç¬¦ è‹¥éšè‹¥ç°
	- å¤§å†™ Aã€Bã€C
	- å°å†™ aã€bã€c
	- éƒ½å¯ä»¥æœ‰
- å…ˆåŠ ä¸Š æ¢è¡Œ

### æ¢è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220911-1662891263863)

- ä»0æ•°åˆ°7
	- æ¢1è¡Œ
	- å†ä»0æ•°åˆ°7

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220911-1662891272463)

- éšçº¦çœ‹åˆ°äº† asciiç çš„ç»“æ„
	- æˆ‘ä¸æƒ³çœ‹ `å­—èŠ‚`çŠ¶æ€ å‘¢
		- æˆ‘æƒ³çœ‹ `å­—ç¬¦`çŠ¶æ€

### æ£®æ—æ·±å¤„

- åœ¨å‰é¢å‡ºç°çš„
	- \rã€\nã€\t
	- æˆ‘ä»¬éƒ½å·²ç»äº†è§£äº†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230329-1680100020871)

- b'\x1b' å¯¹åº” \e
	- ä¹Ÿå°±æ˜¯ <kbd>esc</kbd>ape
	- å¹¶æ²¡æœ‰ è¢«æ˜¾ç¤ºä¸º è½¬ä¹‰å­—ç¬¦çš„å½¢å¼

- æ£®æ— ä¾ç„¶ é»‘æš—
	- è¿™çœŸå¯æ€•ï¼ğŸ˜±

- æ•°å­— è½¬åŒ–æˆ å­—èŠ‚çŠ¶æ€ å
	- å¯ä»¥ å†æŠŠå­—èŠ‚ `è§£ç `å—ï¼Ÿ
		- æˆ–è€…è¯´`è§£åŒ…`å—ï¼Ÿ

### è§£åŒ…

- å¯¹å­—èŠ‚çŠ¶æ€è§£ç (decode)
	- æˆ–è€…è¯´æ˜¯è§£åŒ…
		- struct.unpack

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221005-1664939759175)

- å­—èŠ‚ è§£åŒ…å‡ºæ¥ 
	- æ˜¯ åºå·

### å°åŒ…å†è§£åŒ…

```
import struct
for n in range(0,127):
    b = struct.pack("b",n)
    c = struct.unpack("b",b)[0]
    print(chr(c),end="")
    if n % 16 == 0:
        print()
```

- è§£åŒ…å°åŒ…å’Œç¼–ç è§£ç æœ‰å•¥ä¸ä¸€æ ·å—ï¼Ÿ

### è§£åŒ…å°åŒ… ä¸ ç¼–è§£ç 


- è¿™åˆæ˜¯ä¸€åœˆ
	- pack
	- unpack
- å°±åƒ
	- encode
	- decode

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230331-1680226737836)

### å›å¿†ç¼–ç è§£ç 

- ä¸€ä¸ªå­—ç¬¦å¯ä»¥ç¼–ç æˆå­—èŠ‚åºåˆ—
	- å­—èŠ‚åºåˆ— ä¹Ÿå¯ä»¥è§£ç æˆ å­—ç¬¦

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230331-1680227535840)

- ä½†æ˜¯ åªèƒ½å¯¹ å­—ç¬¦ä¸²
	- è¿›è¡Œæ“ä½œ

###  å¯¹æ¯”å°åŒ…è§£åŒ…

- ä¸€ä¸ªæ•°å­—å¯ä»¥å°åŒ…åˆ°ä¸€ç§æ•°å­—æ ¼å¼
	- æ•°å­—æ ¼å¼å¯ä»¥åŒ…æ‹¬
		- å•å­—èŠ‚
		- åŒå­—èŠ‚
		- å››å­—èŠ‚
		- å…«å­—èŠ‚

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230331-1680227027610)

- å…ˆæ€»ç»“ä¸€ä¸‹

### æ€»ç»“

- structåŒ…
	- å°±æ˜¯ å°åŒ…æ ¼å¼
	- å¯ä»¥æŠŠæ•°å­— å°åŒ…åˆ° å­—èŠ‚é‡Œ
		- packå‡½æ•° è´Ÿè´£ å°åŒ…
		- unpackå‡½æ•° è´Ÿè´£ è§£åŒ…

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230801-1690883357760)

- str.encode/str.decode
	- æ˜¯é’ˆå¯¹å­—ç¬¦çš„ç¼–/è§£ç æ“ä½œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230801-1690883379374)

- struct.pack/struct.unpack 
	- æ˜¯é’ˆå¯¹ æ•°å­— çš„å°åŒ…/æ‹†åŒ…æ“ä½œ
- æ— è®ºç±»å‹æ˜¯ä»€ä¹ˆ
	-  æ•°å­—å‹
	-  å­—èŠ‚åºåˆ—å‹
	-  å­—ç¬¦ä¸²å‹ 
- éƒ½å¯ä»¥ å®šä¹‰ä¸º å˜é‡
	- å˜é‡æ˜¯ç¼–ç¨‹è¯­è¨€çš„åŸºç¡€
		- pythonæ˜¯å¦‚ä½•å£°æ˜å˜é‡çš„å‘¢ï¼Ÿï¼ŸğŸ‘Š
- ä¸‹æ¬¡å†è¯´ğŸ‘‹ğŸ»