---
show: step
version: 1.0
enable_checker: true
---

# xpath è·¯å¾„è¡¨è¾¾å¼
## å›å¿†
- è¿™æ¬¡æ·±å…¥äº†xpathä¸­å…³äºå±æ€§çš„é€‰æ‹©
- @ å°±æ˜¯â€a
- å¯¹åº”@ttribute
- å¯ä»¥æ‰¾å‡ºæ˜¯å¦æœ‰è¿™ä¸ªå±æ€§
- ä¹Ÿèƒ½æ‰¾åˆ°å…·ä½“å±æ€§çš„å€¼
- xpathå¯ä»¥@æ¥æ ¹æ®å±æ€§è¿›è¡Œç­›é€‰
	- et_target = et_html.xpath("//ul[@lid=\"ulist\"]")
- xpathçš„æ–‡æ¡£è¿˜æ²¡æœ‰åˆ·å®Œ
- è¿˜æœ‰ä»€ä¹ˆå¥½ç©çš„å‘¢ï¼ŸğŸ¤”

### å±æ€§æ¯”è¾ƒ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210902-1630566795961)

- æˆ‘ä»¬é¦–å…ˆä¿®æ­£è‡ªå·±çš„body
- ä¸ºæ¯ä¸ªé£Ÿç‰©æ·»åŠ ä¸€ä¸ªä»·æ ¼

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210902-1630567652670)

- æµè§ˆå™¨å¯ä»¥è¯†åˆ«
### æ·»åŠ æ¯”è¾ƒå±æ€§

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210902-1630568001180)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210902-1630568053897)

- et_target = et_html.xpath("//li[price>=20]")
	- æ‰¾åˆ°1æ¡li
- et_target = et_html.xpath("//li[price>=15]")
	- æ‰¾åˆ°2æ¡li
- et_target = et_html.xpath("//li[price>=10]")
	- æ‰¾åˆ°3æ¡li

### ç›¸å¯¹è·¯å¾„

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210902-1630568371007)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210902-1630568001180)

- et_target = et_html.xpath("//li[price<=10]/span")

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210902-1630568509341)

- 10å…ƒä»¥å†…çš„é£Ÿå“åç§°
- æ³¨æ„è·å–çš„æ˜¯èŠ‚ç‚¹çš„text

### é€šé…ç¬¦

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210902-1630568599049)
![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210902-1630568001180)

- et_target = et_html.xpath("*")
	- åŒ¹é…å½“å‰èŠ‚ç‚¹(html)ä¸‹çš„èŠ‚ç‚¹
	- å…±ä¸¤ä¸ªheadã€body
- et_target = et_html.xpath("//*")
	- åŒ¹é…å½“å‰èŠ‚ç‚¹(html)ä¸‹çš„å…¨éƒ¨å­å­™èŠ‚ç‚¹
	- ç›¸å½“å¤š
- et_target = et_html.xpath("//*[@*]")
	- åŒ¹é…å½“å‰èŠ‚ç‚¹(html)ä¸‹çš„å…¨éƒ¨æœ‰å±æ€§çš„å­å­™èŠ‚ç‚¹
	- æ•°é‡ç¨æœ‰å‡å°‘

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210902-1630568678960)

### è·¯å¾„å¹¶é›†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210902-1630569224426)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210902-1630568001180)

- et_target = et_html.xpath("//li|//price")
	- ç¬¦åˆå‰é¢//liæˆ–è€…ç¬¦åˆåé¢//priceéƒ½å¯ä»¥ 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210902-1630569244150)

- åŸºæœ¬ä¸Šxpathçš„ç”¨æ³•æˆ‘ä»¬å¯ä»¥äº†

### xpathçš„æºå¤´

- xpathæ˜¯è°å®šçš„ï¼Ÿ
- ä¸ºä»€ä¹ˆä¼šæœ‰xpath
- è¿™è¿˜è¦ä»å¤´è¯´èµ·

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210902-1630569551704)


- æ—©å¹´é—´æ–‡æœ¬æ²¡æœ‰ç»Ÿä¸€çš„äº¤æ¢æ ¼å¼
- ä¸ºäº†äº¤æµçš„æ–¹ä¾¿
- å›½é™…æ ‡å‡†åŒ–ç»„ç»‡isoåˆ¶å®šäº†æ ‡å‡†SGML
- SGMLæ˜¯å›½é™…ä¸Šå®šä¹‰ç”µå­æ–‡ä»¶ç»“æ„å’Œå†…å®¹æè¿°çš„æ ‡å‡†
- SGMLå…·æœ‰éå¸¸å¤æ‚çš„æ–‡æ¡£ç»“æ„
- ä¸»è¦ç”¨äºå¤§é‡é«˜åº¦ç»“æ„åŒ–æ•°æ®çš„è®¿é—®å’Œå…¶ä»–å„ç§å·¥ä¸šé¢†åŸŸ
- åœ¨åˆ†ç±»å’Œç´¢å¼•æ•°æ®ä¸­éå¸¸æœ‰ç”¨

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210902-1630569561042)

- åæ¥è¯»å†™æ–‡ä»¶å¼€å§‹ä¾èµ–äºäº’è”ç½‘æµè§ˆå™¨
- ä¸€ç§æ–°çš„äº¤æ¢æ ‡å‡†åœ¨å®è·µä¸­è¯ç”Ÿ

### html

- åœ¨å„ç§ç½‘ç»œæ•°æ®äº¤æ¢å·¥å…·çš„è¯•æ¢ä¸­
- æµè§ˆå™¨å‡ºç°äº†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210902-1630570031771)

- 1989å¹´ï¼ŒHTMLè¯ç”Ÿ
- å®ƒæŠ›å¼ƒäº†SGMLå¤æ‚åºå¤§çš„ç¼ºç‚¹
- ç»§æ‰¿äº†SGMLçš„å¾ˆå¤šä¼˜ç‚¹
- HTMLæœ€å¤§çš„ç‰¹ç‚¹æ˜¯ç®€å•æ€§å’Œè·¨å¹³å°æ€§
- æµè§ˆå™¨å„ç§å…¼å®¹å’Œè¯•æ–°çš„è¿‡ç¨‹ä¸­

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210902-1630569932502)

- ä½†æ˜¯htmlæ¯•ç«Ÿæ˜¯åŸºäºç½‘é¡µçš„æ ‡ç­¾
- ä¸æ˜¯åŸºäºæ•°æ®çš„
- éšç€æ•°æ®é‡çš„å‘å±•
- xmlå‡ºç°äº† 

### xml

- HTMLæ— æ³•æè¿°æ•°æ®ã€å¯è¯»æ€§å·®ã€æœç´¢æ—¶é—´é•¿
- äººä»¬åˆæŠŠç›®å…‰è½¬å‘SGML
- å†æ¬¡æ”¹é€ SGMLä½¿ä¹‹é€‚åº”ç°åœ¨çš„ç½‘ç»œéœ€æ±‚
- 1998å¹´2æœˆ10æ—¥ï¼ŒW3C(World Wide Web Consortiumï¼Œä¸‡ç»´ç½‘è”ç›Ÿ)å…¬å¸ƒXML 1.0æ ‡å‡†
- XMLè¯ç”Ÿäº†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210902-1630570251257)

- ä¸ºäº†è®©xmlçœ‹èµ·æ¥æ›´å¥½çœ‹
- XSLTè§„èŒƒå‡ºç°äº†
- XSLTå¯¹äºxmlå°±åƒcsså¯¹äºhtml
	- xmlã€htmlæ˜¯æ¥¼æˆ¿ç»“æ„
	- xsltã€cssæ˜¯å…·ä½“çš„æ¥¼æˆ¿è£…ä¿®é£æ ¼
- å…¶ä¸­çš„xpathæ˜¯å…³äºxmlå…ƒç´ ç­›é€‰çš„æ ‡å‡†
- xpathçš„æ„æ€ å°±æ˜¯xml path language

### xpath

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210902-1630570677195)

- https://www.w3.org/TR/2010/REC-xpath20-20101214/#context

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210902-1630570705394)

### æ€»ç»“

- è¿™æ¬¡æ·±å…¥äº†xpathä¸­çš„å…ƒç´ é€‰æ‹©
- å¯ä»¥æ ¹æ®å…ƒç´ å±‚çº§å…³ç³»é€‰æ‹©
	- ä¹Ÿå¯ä»¥æ ¹æ®å±æ€§å…·ä½“å€¼é€‰æ‹©
	- è¿˜å¯ä»¥æ ¹æ®æ–‡æœ¬çš„å€¼è¿›è¡Œé€‰æ‹©
	- ç”šè‡³å¼€å§‹ä½¿ç”¨é€šé…ç¬¦
- æˆ‘ä»¬æ¥çˆ¬å–ä¸€ä¸ªçœŸæ­£çš„ç½‘ç«™å§
	- æ¯”å¦‚oeasy.org
	- æ€ä¹ˆå¼„å‘¢ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´
