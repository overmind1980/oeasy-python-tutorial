---
show: step
version: 1.0
enable_checker: true
---

# æ”¾å…¥è·¯å¾„

## å›å¿†ä¸Šæ¬¡å†…å®¹

- ä¸Šæ¬¡æŠŠ `./sleep.py` ç›´æ¥æ‰§è¡Œäº†
  - sleep.pyæ–‡ä»¶å¤´éƒ¨ 
	- å£°æ˜äº† è‡ªèº«çš„æ‰“å¼€æ–¹å¼
		- `#!/usr/bin/python3`
			- ç”¨ `python3` æ¥è§£é‡Š `sleep.py`
- ä¿®æ”¹ `sleep.py`çš„ æƒé™
  - ç»™å½“å‰ç”¨æˆ· å¢åŠ  æ‰§è¡Œ(`execute`)æƒé™
	- chmod u+x sleep.py
- `./sleep.py`è¿è¡ŒæˆåŠŸ
	- ä½†æˆ‘ä¸æƒ³ æ€»å¸¦ç€å½“å‰è·¯å¾„`./`
- æˆ‘æƒ³è¦ åªè¾“å…¥`sleep.py`
	- å›è½¦å°±è‡ªåŠ¨è¿è¡Œ
	- è¿™å¯èƒ½ä¹ˆ?ğŸ¤ª

### è¿›è¡Œæœç´¢

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210221-1613894555384)

- ç‚¹å¼€é“¾æ¥

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230126-1674689634791)

### æŒ‰å›¾ç´¢éª¥

```bash
#æ˜¾ç¤ºå½“å‰è·¯å¾„
echo $PATH
```

- echo $PATH
  - echo : æ˜¾ç¤º
  - `$` : è¯´æ˜PATHæ˜¯ä¸€ä¸ª `ç¯å¢ƒå˜é‡`
  - `PATH` : èƒ½ç›´æ¥è¿è¡Œç¨‹åºçš„`è·¯å¾„`

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220318-1647609341731)

- $PATH é‡Œé¢æœ‰ä»€ä¹ˆï¼Ÿ
  - è¿™é‡Œé¢ æœ‰å¾ˆå¤š`è·¯å¾„`
  - è·¯å¾„ä¹‹é—´ ç”¨`:`åˆ†éš”å¼€
- è¿™äº›è·¯å¾„ä¸‹çš„ å‘½ä»¤
	- éƒ½å¯ä»¥ ç›´æ¥æ‰§è¡Œ
	- æ— éœ€ è¾“å…¥è·¯å¾„ 
		- å°±èƒ½ ç›´æ¥è¿è¡Œ
- æ¯”å¦‚ æˆ‘ä»¬æœ€ç†Ÿæ‚‰çš„ls

### æ‰§è¡Œè·¯å¾„

- å›å¿†ä¸€ä¸‹
	- æ— è®ºæˆ‘ä»¬ åœ¨å“ªä¸ªç›®å½•ä¸‹
	- éƒ½èƒ½æ‰§è¡Œ ls å‘½ä»¤

```bash
ls
#ls å‘½ä»¤åœ¨å“ª
whereis ls
# ä»è·¯å¾„ç›´æ¥æ‰§è¡Œls
/usr/bin/ls
#ls è¯¦ç»†ä¿¡æ¯
ls -lh /usr/bin/ls 
```

- ls æ˜¯ /usr/binä¸‹é¢çš„ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶
	- å¤§å°ä¸º139K

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220324-1648105545833)

- å› ä¸º `/usr/bin` åœ¨ `$PATH`çš„è·¯å¾„åˆ—è¡¨ é‡Œ
  - æ‰€ä»¥ `/usr/bin`ä¸‹ çš„ `ls` å°±èƒ½ç›´æ¥æ‰§è¡Œ
  - ä¸éœ€è¦ åœ¨å‰é¢é™„åŠ è·¯å¾„ `/usr/bin/`
  - åªç”¨æ–‡ä»¶å `ls` å°±èƒ½ ç›´æ¥æ‰§è¡Œ
- è€Œä¸”ä¸è®ºå½“å‰è·¯å¾„ åœ¨å“ªé‡Œ
  - `ls` å‘½ä»¤éƒ½èƒ½ç›´æ¥æ‰§è¡Œ
- ä½†æ˜¯
  - å¦‚æœç¯å¢ƒå˜é‡ `$PATH` ä¸­æ²¡æœ‰`/usr/bin`
  - ä¹Ÿå°±æ‰¾ä¸åˆ° `ls` äº†
- é‚£ä¹ˆ `ls` è¿˜èƒ½æ‰§è¡Œå—ï¼Ÿ

### è¿·å¤±è·¯å¾„

- å°†PATHæ¸…ç©º
	- export PATH=

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220328-1648418704798)

- æ²¡æœ‰äº†$PATH
  - çœŸçš„è¿lséƒ½æ‰¾ä¸åˆ°äº†ğŸ˜±ğŸ˜±ğŸ˜±
  - ä»€ä¹ˆéƒ½å¹²ä¸äº†äº†
  - ä½ è¯´ ç¯å¢ƒå˜é‡ é‡ä¸é‡è¦ ï¼Ÿï¼ğŸ™†ğŸ»â€â™€ï¸

### é‡å¼€ç»ˆç«¯
- åˆ°æ¡Œé¢ä¸Š 
	- æ–°å¼€ ä¸€ä¸ªæ–°çš„xfceç»ˆç«¯(terminal)
    - è·¯å¾„å°± æ¢å¤äº† 
    - å†echo ä¸€ä¸‹$PATH è§‚å¯Ÿ

- åªè¦ å‘½ä»¤æ‰€åœ¨è·¯å¾„åœ¨ `$PATH`ä¸‹é¢
	- å‘½ä»¤ å°±`å¯ä»¥`ç›´æ¥æ‰§è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221009-1665286620130)

- æ‰§è¡Œè·¯å¾„ ä¸ºä»€ä¹ˆæœ‰é‚£ä¹ˆå¤šå‘¢ï¼Ÿ

### æ‰§è¡Œè·¯å¾„ä½œç”¨

- æ¯”å¦‚ æˆ‘æœ‰ä¸¤ä¸ªä¸åŒç‰ˆæœ¬çš„mcæœåŠ¡å™¨
	- éƒ½åœ¨ æˆ‘çš„ç¡¬ç›˜é‡Œ
	- æˆ‘æ€ä¹ˆçŸ¥é“ å¯åŠ¨çš„æ˜¯å“ªä¸ªç‰ˆæœ¬å‘¢ï¼Ÿ
- ä¸¤ä¸ªå¯åŠ¨æ–‡ä»¶çš„ ä½ç½®ä¸åŒ
	- æ›´æ˜ç¡®è¯´
		- å°±æ˜¯ å¯æ‰§è¡Œæ–‡ä»¶çš„ è·¯å¾„ä¸åŒ
	- $PATHä¸­ è°é å‰ å°±æ‰§è¡Œè°ä¸‹é¢çš„å‘½ä»¤

- ç±»ä¼¼çš„éœ€æ±‚ å¾ˆå¤š
	- æ¯”å¦‚ æœ‰ä¸¤ä¸ªä¸åŒç‰ˆæœ¬çš„ tomcat 
	- æˆ–è€… ä¸¤ä¸ªä¸åŒç‰ˆæœ¬çš„ java
	- æˆ–è€… ä¸åŒç‰ˆæœ¬çš„python3
- éƒ½å„è‡ª ä½äºä¸åŒçš„ç›®å½•ç›®å½•
- æˆ‘ä»¬ç”¨çš„è¿™ä¸ª 
	- python3 åˆ°åº•åœ¨å“ªå‘¢ï¼Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220324-1648105667493)

### python3çš„ä½ç½®

- `python3` å°±åœ¨`/usr/bin/`ä¸‹é¢

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220318-1647609917569)

- `python3` å’Œ `ls` éƒ½åœ¨ `/usr/bin/`ä¸‹é¢
- `/usr/bin` çš„å«ä¹‰
	- usr 
		- unix software resources 
		- unixè½¯ä»¶èµ„æº
	- bin 
		- binary  
		- äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230115-1673752205171)

### åˆ†æè·¯å¾„

- $PATHä¸­ åŒ…å«`python3` æ‰€åœ¨çš„è·¯å¾„å—ï¼Ÿ
  - `/usr/bin`
     - è§ä¸‹å›¾çº¢æ¡†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210221-1613896706330)

- æ— è®ºå½“å‰è·¯å¾„ åœ¨ä»€ä¹ˆä½ç½®
  - åªè¦è¾“å…¥ `python3`
	- ç³»ç»Ÿå°±å» `$PATH`é‡Œé¢
		- ä»å‰ å¾€å æ‰¾
	- åœ¨ `/usr/bin` ä¸­ æ‰¾åˆ°äº†python3
		- å°±ä¸ å†å¾€åæ‰¾äº†
	- ç„¶åæ‰§è¡Œ `/usr/bin` é‡Œæ‰¾åˆ°çš„ `python3`
- åªè¦ `/usr/bin` åœ¨ `$PATH` ä¸­
	- ç³»ç»Ÿåœ¨æ‰§è¡Œ`python3` æ—¶
	- å°±ä¼šå» `/usr/bin` ç›®å½•ä¸­æ‰¾åˆ°`python3` 
- é‚£æˆ‘ä»¬æŠŠ `sleep.py` æ‹·è´åˆ° `/usr/bin` ä¸å°±èƒ½è¢«æ‰¾åˆ°äº†ä¹ˆï¼Ÿ
- é¦–å…ˆå¾—æ˜ç¡®
	- å½“å‰è¿™ä¸ª `sleep.py` åœ¨å“ªé‡Œå‘¢ï¼Ÿ

### å½“å‰ä½ç½®

- pwd
	- present working directory
	- å½“å‰å·¥ä½œè·¯å¾„

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230126-1674690790637)

- å½“å‰è·¯å¾„ä¸º `~`
	- å°±æ˜¯ å½“å‰ç”¨æˆ·shiyanlouçš„ `ç”¨æˆ·æ–‡ä»¶å¤¹`
		- å°±æ˜¯ `/home/shiyanlou`
- å½“å‰è·¯å¾„ä¸‹
	- æœ‰ä¸ªsleep.py æ˜¯ä¸Šæ¬¡ç¼–è¾‘çš„
		- å¦‚æœæ²¡æœ‰äº† 
			- éœ€è¦è¡¥ä¸Š

```python
#!/usr/bin/python3
import time
while True:
	print(time.asctime())
	time.sleep(1)
```

- ä»€ä¹ˆæ˜¯`ç”¨æˆ·æ–‡ä»¶å¤¹`å‘¢ï¼Ÿ

### ç”¨æˆ·æ–‡ä»¶å¤¹

- ç³»ç»Ÿé‡Œæœ‰å¥½å¤šç”¨æˆ·

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220324-1648115610783)

- å¥½å¤šç”¨æˆ· æ„å‘³ç€
	- å¯ä»¥æœ‰ ä¸åŒç”¨æˆ· ç™»å½•ä½¿ç”¨
	- æ¯ä¸ªç”¨æˆ· éƒ½æœ‰è‡ªå·±çš„æ¡Œé¢ã€æ–‡æ¡£ã€ä¸‹è½½ç›®å½•

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220324-1648115574111)

- windowsç”¨æˆ·ä¹Ÿæœ‰è‡ªå·±çš„æ–‡ä»¶å¤¹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220324-1648115595297)

- macç”¨æˆ·ä¹Ÿæœ‰è‡ªå·±çš„æ–‡ä»¶å¤¹

### æ”¾å…¥è·¯å¾„

```bash
#æŠŠæ–‡ä»¶æ‹·è´è¿‡å»
cp sleep.py /usr/bin
#ç”¨ç®¡ç†å‘˜æƒé™ç»™è€ƒè¿‡å»
sudo cp ./sleep.py /usr/bin
#å°è¯•æ‰§è¡Œ
sleep.py
#ä¸ºå½“å‰ç”¨æˆ·å¢åŠ å¯æ‰§è¡Œæƒé™
chmod u+x /usr/bin/sleep.py
#ä½¿ç”¨ç®¡ç†å‘˜æƒé™ææƒ
sudo chmod u+x /usr/bin/sleep.py
#å°è¯•æ‰§è¡Œ
sleep.py
#å°è¯•ç”¨ç®¡ç†å‘˜æ‰§è¡Œ
sudo sleep.py
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220324-1648116056956)

- æœ€å sleep.py æ˜¯å¯ä»¥æ‰§è¡Œçš„
- ä½†å‰æè¿˜æ˜¯éœ€è¦
	- åœ¨æœ€å‰é¢ æ‰“ä¸€ä¸ª sudo 
	- è¿›è¡Œ ææƒ
	- æ‰èƒ½ æ‰§è¡Œ
- å¦‚æœ æˆ‘æƒ³ä¸ç”¨sudo
	- å°±æƒ³ ç›´æ¥è¿è¡Œsleep.py å‘¢

### lsçš„å‚æ•°

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220310-1646910685288)

- å¦‚æœä¸æ¸…æ¥šlså‚æ•°ä½œç”¨çš„è¯
	- å¯ä»¥æŸ¥è¯¢ä¸€ä¸‹å¸®åŠ©

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220810-1660095772721)

- pythonä¹‹å¤–
	- oeasyä¹Ÿæœ‰linuxæ•™ç¨‹
	- å­¦å®Œpythonä¹‹åå¯ä»¥å»[ã€Šoeasyæ•™æ‚¨ç©è½¬linuxã€‹](https://www.lanqiao.cn/courses/2712)
	- çœ‹çœ‹ä¸€äº›shellå‘½ä»¤çš„ç»†èŠ‚

### åˆ†æ

- /usr/bin/sleep.py
	- æ‹¥æœ‰è€…(owner) æ˜¯root
	- ç”¨æˆ·ç»„(group) æ˜¯ root

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220310-1646910685288)

- å½“å‰ç”¨æˆ·shiyanlou
	- ä¸èƒ½ç›´æ¥æ‰§è¡Œ
	- åªæœ‰ root æ‰èƒ½æ‰§è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220810-1660096098201)

- å› ä¸ºrootä»£è¡¨ç€ æœ€é«˜çš„æƒé™
	- æ‰€ä»¥ å¿…é¡»è¦åŠ ä¸Š`sudo` æ‰å¯ä»¥æ‰§è¡Œ
- é‚£ä¸ºä»€ä¹ˆ åŸæ¥çš„sleep.py
	- å¯ä»¥`ç›´æ¥`æ‰§è¡Œå‘¢ï¼Ÿ

### æ‰€æœ‰è€…æ¥æº

- /home/shiyanlou/sleep.py
	- æ‰€æœ‰è€…æ˜¯ shiyanlou

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220930-1664548275255)

- é‚£ ä¸ºä»€ä¹ˆ
	- æ‹·è´åˆ°/usr/binä¸‹é¢ä¹‹å
- æ‰€æœ‰è€… 
	- å°±ä» shiyanlou
	- å˜æˆ root äº†å‘¢ï¼Ÿ

### å›å¿†æ‹·è´è¿‡ç¨‹

- å›å¿†ä¸€ä¸‹ æ‹·è´çš„è¿‡ç¨‹
	- ç›´æ¥æ‹·è´å¤±è´¥äº†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220930-1664548361978)

- åªèƒ½ ææƒè¿›è¡Œæ‹·è´
	- è¿™æ—¶å€™ cpæ‰§è¡Œç”¨æˆ·
		- å°±ä¸æ˜¯shiyanlouäº†
		- è€Œæ˜¯root

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20221009-1665287117920)

- æ­¤å sleep.py
	- å°±è¢«æ‹·è´è¿›äº†`/usr/bin`
	- å¹¶ä¸”æ‰€æœ‰è€…ä¸º root
- æ‰€ä»¥ åªèƒ½è¢« rootè°ƒç”¨
- æƒ³è®© æ™®é€šç”¨æˆ·shiyanlou
	- ä¹Ÿèƒ½ æ‰§è¡Œsleep.py
- å¯ä»¥å—ï¼Ÿ

### ææƒ

- å°è¯•å†ææƒ

```bash
#ä½¿ç”¨ç®¡ç†å‘˜æƒé™ææƒ
sudo chmod a+x /usr/bin/sleep.py
#å°è¯•æ‰§è¡Œ
sleep.py
```

- a+x æ„æ€æ˜¯
  - `a`ll users éƒ½å¢åŠ 
	  - e`x`ecute çš„æƒé™

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220324-1648106052159)

- ä¸åŒä½ç½®çš„xå«ä¹‰ä¸åŒ
	- è“è‰²å¯¹åº” æ–‡ä»¶æ‹¥æœ‰è€…(owner) - (root)
	- çº¢è‰²å¯¹åº” æ–‡ä»¶æ‹¥æœ‰è€…ç”¨æˆ·ç»„(group) - (root)
	- é»„è‰²å¯¹åº” å…¶ä»–ç”¨æˆ·ç”¨æˆ· (other) - åŒ…æ‹¬shiyanlou
- ç›®å‰æ‰€æœ‰ç”¨æˆ· éƒ½èƒ½æ‰§è¡Œsleep.pyäº†

### é—®é¢˜

- å¯æ˜¯ å¦‚æœ å„ç§å‘½ä»¤
	- éƒ½æ”¾åˆ° `/usr/bin`ä¸‹é¢

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220324-1648116508052)

- å°±åƒé¸¡è›‹ éƒ½æ”¾åœ¨ åŒä¸€ä¸ªç¯®å­ é‡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220324-1648116515379)

- ç›®å½•ä¹‹ä¸‹ éå¸¸æ‚ä¹±

### è°ƒæ•´

- `/usr/bin`ä¸‹é¢ 
	- æ–‡ä»¶å¾ˆå¤š
	- è€Œä¸”å¾ˆä¹±
	- è¿˜å¾ˆä¸å®‰å…¨
- å…ˆæŠŠ `sleep.py` ä» `/usr/bin` ä¸­åˆ é™¤æ‰

```bash
#å…ˆæŠŠ/usr/binä¸‹é¢çš„sleep.pyåˆ æ‰
rm /usr/bin/sleep.py
#ä¸è®©åˆ å°±ç”¨ç®¡ç†å‘˜æƒé™åˆ 
sudo rm /usr/bin/sleep.py
#ç¡®è®¤åˆ é™¤
ls /usr/bin/sleep.py
```

- ç¡®è®¤åˆ é™¤ä¹‹å

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220318-1647610377476)

- æˆ‘å¸Œæœ› `sleep.py `
	- è¿˜æ”¾åœ¨å½“å‰ç”¨æˆ·æ–‡ä»¶å¤¹(~)
	- ä¸åŠ¨
- æœ€ç»ˆè¿˜èƒ½åœ¨ä»»æ„è·¯å¾„ä¸‹æ‰§è¡Œ
- å¯èƒ½å®ç°å—ï¼ŸğŸ¤”

## æ€»ç»“

- æƒ³è¦åœ¨ä»»æ„è·¯å¾„ä¸‹ç›´æ¥æ‰§è¡Œ `sleep.py`
	- æŠŠ `sleep.py` æ”¾åœ¨ `/usr/bin/` ä¸‹é¢
	- æœ€ç»ˆ
		- å¯ä»¥åœ¨ ä»»æ„ä½ç½® æ‰§è¡Œç¨‹åº`sleep.py` 
- ä½†æ˜¯
	- `/usr/bin` é‡Œé¢æ”¾çš„
		- ä¸€èˆ¬éƒ½æ˜¯ äºŒè¿›åˆ¶å‘½ä»¤æ–‡ä»¶
	- è€Œä¸” å‘½ä»¤å·²ç» å¤ªå¤šå¤ªä¹±
	- ä¸æƒ³æŠŠsleep.pyæ”¾åœ¨é‚£é‡Œäº†
		- å…ˆåˆ é™¤äº†sleep.py
- æˆ‘æƒ³
	- æŠŠå®¿ä¸»ç›®å½•(~) 
		- æ·»åŠ åˆ° ç³»ç»Ÿå˜é‡`$PATH` ä¸­

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220930-1664549610079)

- è¿™æ ·æœ‰å¯èƒ½å—ï¼ŸğŸ¤”
- æˆ‘ä»¬ä¸‹æ¬¡å†è¯´ï¼ğŸ‘‹