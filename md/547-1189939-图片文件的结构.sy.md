---
show: step
version: 1.0
enable_checker: true
---

# opencv

## å›å¿†

- ä¸Šæ¬¡å®‰è£…äº†opencv
	- å¹¶ä¸”æ‰“å¼€äº†å›¾ç‰‡
	- æŸ¥çœ‹äº†å›¾ç‰‡
	- è¿˜å¦å­˜äº†å›¾ç‰‡
- å›¾ç‰‡çš„æœ¬è´¨æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ
- ä¸ºä»€ä¹ˆè¾“å‡ºçš„æ—¶å€™ä¼šè¾“å‡ºä¸€ä¸ªä¸‰ç»´æ•°ç»„å‘¢ï¼ŸğŸ¤”

### æ–°å›¾åƒ

```
firefox ~/monkey.png
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231104-1699088553714)

- è¿™æ˜¯ä¸€å‰¯æ–°çš„pngå›¾ç´ æ
- èƒ½å¦çœ‹åˆ°å›¾ç‰‡çš„å½¢çŠ¶ä¿¡æ¯å‘¢ï¼Ÿ

### é‡å¤ä¸Šæ¬¡

```python3
import cv2 
image = cv2.imread("/home/shiyanlou/monkey.png")
print(image)
```

- è¿è¡Œç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231230-1703910169806)

- èƒ½å¦çœ‹åˆ°è¿™ä¸ªä¸‰ç»´åˆ—è¡¨çš„ç»´åº¦å‘¢ï¼Ÿ

### è§‚å¯Ÿç»´åº¦

```
import cv2
image = cv2.imread("/mnt/cgshare/monkey.png")
print(image.shape)
```

- è¿è¡Œå¾—åˆ°ä¸€ä¸ªä¸‰å…ƒç»„

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231230-1703910267678)

- è¿™ä¸‰ä¸ªå˜é‡æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ

### å›¾ç‰‡ç»†èŠ‚

- å›¾ç‰‡å¤§å°æ˜¯400*356
- å›¾ç‰‡æ˜¯RGBè‰²å½©å­˜å‚¨çš„

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231230-1703910384381)

- ä¸‰å…ƒç»„å¯¹åº”ç€
	- é«˜åº¦
	- å®½åº¦
	- é€šé“æ•°

### å°†å…ƒç»„èµ‹å€¼

```
import cv2
image = cv2.imread("/mnt/cgshare/monkey.png")
height, width, channels = image.shape
print("height====",height)
print("width====",width)
print("channels====",channels)
```

- è¿è¡Œç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231230-1703910813170)

- å¯ä»¥æŠŠRGBä¸‰å…ƒç»„çš„é¢œè‰²é™ç»´æˆ
	- å•ä¸€æ•°å€¼çš„ç°åº¦å›¾å—ï¼Ÿ

### é™ç»´

- æ”¹å˜å›¾ç‰‡è‰²å½©æ¨¡å¼
	- ä»RGBè½¬åŒ–ä¸ºç°åº¦

```python3
import cv2    
rgbImg = cv2.imread("/home/shiyanlou/monkey.png")
grayImg=cv2.cvtColor(rgbImg,cv2.COLOR_BGR2GRAY)
cv2.imshow("grayImg", grayImg)
cv2.imwrite('/home/shiyanlou/gray_img.jpg', grayImg)                                          
if cv2.waitKey(0)==27:
    cv2.destroyAllWindows()
```

- å¹¶ä¸”æŒ‡å®šæŒ‰ä¸‹<kbd>esc</kbd>é”®æ—¶é€€å‡º

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231230-1703911070792)

- ç¡®å®å˜æˆç°è‰²äº†
- åˆ—è¡¨é™ç»´äº†å—ï¼Ÿ

#### æŸ¥çœ‹å›¾ç‰‡åƒç´ ä¿¡æ¯
```
import cv2
image = cv2.imread("/home/shiyanlou/gray_img.jpg")
print(image)
```

- è¿è¡Œç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231230-1703911287496)

- ç»“æœè¿˜æ˜¯ä¸‰å…ƒç»„
	- åªä¸è¿‡RGBä¸‰ä¸ªåˆ†é‡çš„æ•°å€¼éƒ½æ˜¯ç›¸ç­‰çš„
- è¡¨é¢ä¸Šæ˜¯ç°è‰²å›¾
	- æœ¬è´¨ä¸Šè¿˜æ˜¯RGBè‰²å½©æ¨¡å¼
- çœŸæ­£çš„ç°åº¦å›¾æ˜¯å¦ä¼šé™ç»´å‘¢ï¼Ÿ

### æ€»ç»“

- æˆ‘ä»¬è¿™æ¬¡ç ”ç©¶äº†å›¾åƒçš„shape
	- é«˜åº¦
	- å®½åº¦
	- é€šé“æ•°
- å¹¶ä¸”æŠŠå›¾åƒä»RGBè‰²å½©æ¨¡å¼ä¿®æ”¹ä¸ºç°åº¦è‰²å½©æ¨¡å¼
	- ç»“æœä»ç„¶æ˜¯ä¸‰ç»´åˆ—è¡¨
- çœŸæ­£çš„ç°åº¦å›¾ä¹Ÿæ˜¯ä¸‰ç»´åˆ—è¡¨å—ï¼ŸğŸ¤”
- æˆ‘ä»¬ä¸‹æ¬¡å†è¯´	ğŸ‘‹
