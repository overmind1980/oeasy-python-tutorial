---
show: step
version: 1.0
enable_checker: true
---

# 自定义命名空间(namespace)

## 回忆

- 上次研究了跨文件模块调用函数
- 使用了两个模块
	- os
	- random
- 其中random还调用了os
- os有两部分组成
	- os.py
	- 还有一些系统调用的部分
	- 是系统相关的
	- 写在c的源码中
- 我可以自己定义一些
	- 模块
	- 变量
	- 函数么？

### 运行模块

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220808-1659921903564)

- 运行模块就是运行模块文件夹下的`__main__.py`

### 编写模块

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220803-1659524087182)

- 首先进入/usr/lib/python3.8位置
- 然后尝试调用

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220803-1659524156659)

- 引用之后可以再次引用么？

### 引用

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220803-1659526900182)

- 任意一个位置都可以引用这个模块么？

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220803-1659524285826)

- 可以引用
- 这样我们就可以复用原来的代码了！！！
- 模块和文件是什么关系呢？

### 模块定义

- 一个oeasy.py文件就是一个模块(module)

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220803-1659526480959)

- 被引用的模块里面会有一个全局(global)变量
	- `__name__` 这个name里面存着模块的名字
- 我们去试试

### `__name__`

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220803-1659526657711)

- 重新编辑/usr/lib/python3.8/oeasy.py

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220803-1659527044241)

- module名就是文件名

![图片描述](https://doc.shiyanlou.com/courses/uid1190679-20220803-1659527162387)

- 可以给这个模块更多帮助信息么？

### 总结
- 进入系统类库的位置
	- /usr/lib/python3.8
- 编写我们自己的oeasy.py
	- 这个文件就是一个模块
	- 这个模块可以在游乐场和py文件中被导入(import)
	- 导入后模块执行主程序
- 也可以建立一个文件夹
	- 在文件夹中建立`__main__.py`
	- 这样文件夹就是一个模块
	- 导入的时候执行`__main__.py`
	- 那么这个文件夹可以嵌套么？
	- 做成一层层的那种嵌套软件包(package)的形式?
- 但是我们这个模块没有文档
- 可以给我们的模块做文档么？🤔
- 我们下次再说👋

