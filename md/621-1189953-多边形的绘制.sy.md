---
show: step
version: 1.0
enable_checker: true
---

# opencv

## å›å¿†

- ä¸Šæ¬¡ç ”ç©¶äº†ä¸‰è§’å‡½æ•°
	- ç”»æ­£ä½™å¼¦æ›²çº¿
	- ç”»åœ†
- è¿˜å¯ä»¥ç”»ç‚¹ä»€ä¹ˆå—ï¼ŸğŸ¤”



### å°è¯•å¤šè¾¹å½¢
```
import numpy as np
import cv2
canvas = np.zeros((300,300,3), np.uint8)
pts = np.array([[100,50],[200,50],[250,250],[50,250]],np.int32)
canvas = cv2.polylines(canvas,[pts],False,(0,0,255),5)
cv2.imshow("PolyLines",canvas)
cv2.waitKey()
cv2.destroyAllWindows()
```

- ç»˜åˆ¶ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240109-1704792250790)

- å¦‚ä½•ç†è§£ä¸å°é—­å‘¢ï¼Ÿ

### æŸ¥çœ‹å¸®åŠ©

```
import cv2
help(cv2.polylines)
```

- è§‚å¯Ÿå‚æ•°åˆ—è¡¨

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240109-1704792580293)

- å¦‚æœå°†isClosedå°é—­ä¼šå¦‚ä½•å‘¢ï¼Ÿ

### ä¿®æ”¹ä»£ç 

```
import numpy as np
import cv2
canvas = np.zeros((300,300,3), np.uint8)
pts = np.array([[100,50],[200,50],[250,250],[50,250]],np.int32)
canvas = cv2.polylines(canvas,[pts],True,(0,0,255),5)
cv2.imshow("PolyLines",canvas)
cv2.waitKey()
cv2.destroyAllWindows()
```

- è¿˜æ˜¯å››ä¸ªç‚¹çš„åˆ—è¡¨

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240109-1704792753209)

- æ¢¯å½¢å°é—­äº†
- äº¤æ¢Pointsçš„ä½ç½®ä¼šå¦‚ä½•å‘¢ï¼Ÿ

### å°è¯•äº¤æ¢Pointsçš„ä½ç½®
```
import numpy as np
import cv2
canvas = np.zeros((300,300,3), np.uint8)
pts = np.array([[100,50],[200,50],[50,250],[250,250]],np.int32)
canvas = cv2.polylines(canvas,[pts],True,(0,0,255),5)
cv2.imshow("PolyLines",canvas)
cv2.waitKey()
cv2.destroyAllWindows()
```

- å‡ºç°äº†ç¥å¥‡çš„å›¾å½¢

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240109-1704792806574)

- å¦‚æœè®©ç‚¹éšæœºèµ·æ¥ ä¼šå¦‚ä½•å‘¢ï¼Ÿ

### å°è¯•ç»˜åˆ¶éšæœºå¤šè¾¹å½¢
```
import numpy as np
import cv2
canvas = np.zeros((300,300,3), np.uint8)
point_list = []
for num in range(30):
    pos = np.random.randint(0,300,size=(2,)).tolist()
    point_list.append(pos)
pts = np.array(point_list,np.int32)
canvas = cv2.polylines(canvas,[pts],True,(0,0,255),5)
cv2.imshow("PolyLines",canvas)
cv2.waitKey()
cv2.destroyAllWindows()
```

- å¾ªç¯30æ¬¡
	- æ¯æ¬¡äº§ç”Ÿä¸€ä¸ªç‚¹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240109-1704792931599)

- å‡ºç°äº†ç¥å¥‡çš„ç”»é¢
- å¯ä»¥ä¸ºå›¾å½¢å¡«è‰²å—ï¼Ÿ

### æ¢¯å½¢çš„ç»˜åˆ¶

```
import numpy as np
import cv2
canvas = np.zeros((300,300,3), np.uint8)
pts = np.array([[100,50],[200,50],[250,250],[50,250]],np.int32)
canvas = cv2.polylines(canvas,[pts],True,(0,0,255),5)
canvas = cv2.fillConvexPoly(canvas, pts, (200,200,200))        
cv2.imshow("PolyLines",canvas)
cv2.waitKey()
cv2.destroyAllWindows()
```

- é€šè¿‡å››ä¸ªé¡¶ç‚¹
	- ç”»å‡ºäº†æ¢¯å½¢

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240109-1704792124353)

- å¯ä»¥ç»˜åˆ¶æ›´å¤æ‚ä¸€äº›çš„å›¾å½¢å—ï¼Ÿ

### ç®­å¤´æ•ˆæœ

- æƒ³è¦ç»˜åˆ¶å¦‚ä¸‹çš„å›¾å½¢

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231104-1699086347902)

- åº”è¯¥å¦‚ä½•ç¼–å†™ä»£ç å‘¢ï¼Ÿ

### ä»£ç 

```
import numpy as np
import cv2 
canvas = np.zeros((300,300,3), np.uint8)
pts = np.array([[150,30],[50,100],[50,150],[100,100],[100,200],[200,200],[200,100],[250,150],[250,100]],np.int32)
canvas = cv2.polylines(canvas,[pts],True,(0,0,255),5)
cv2.imshow("PolyLines",canvas)
cv2.waitKey()
cv2.destroyAllWindows()
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240109-1704793190268)

- å¯ä»¥å†™ä¸€ä¸ªå­—æ¯Aå—ï¼Ÿ

### ä¹¦å†™å­—æ¯A
```
import numpy as np
import cv2
canvas = np.zeros((300,300,3), np.uint8)     
shapes = []
shapes.append(np.array([[140,50],[50,250],[70,250],[160,50]],np.int32))
shapes.append(np.array([[140,50],[230,250],[250,250],[160,50]],np.int32))
shapes.append(np.array([[90,180],[210,180],[210,200],[90,200]],np.int32))
for shape in shapes:
    canvas = cv2.fillConvexPoly(canvas,shape,(0,0,255))
cv2.imshow("PolyLines",canvas)
cv2.waitKey()
cv2.destroyAllWindows()
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240109-1704793237342)

- å¯ä»¥ç»˜åˆ¶æ›´å¤šå­—ç¬¦å—ï¼Ÿ

### å°è¯•å­—ç¬¦

- è¥¿æ–‡å­—ç¬¦
	- Eã€Fã€Iã€K
	- Lã€Mã€Nã€T
	- Wã€Xã€Yã€Z
- ä¸­æ–‡å­—ç¬¦
	- å¯ã€å£ã€ä¸­ã€æ„

### æ€»ç»“ 

- è¿™æ¬¡ç ”ç©¶äº†
	- å¤šè¾¹å½¢çš„ç»˜åˆ¶ä¸å¡«è‰²
- è¿˜å¯ä»¥ç»˜åˆ¶å„ç§å­—ç¬¦æ•ˆæœ
	- ç”šè‡³å¯ä»¥åŠ ä¸Šè¡¬çº¿ğŸ¤”
- å¯¹äº† å¥½åƒæˆ‘ä»¬ä¹Ÿ
	- å¯ä»¥ç›´æ¥è¾“å‡ºå­—ç¬¦çš„ğŸ˜³
- ç›´æ¥è¾“å‡ºå­—ç¬¦ä¼šæœ‰ä»€ä¹ˆå¥½ç©çš„å—ï¼ŸğŸ¤¡
- ä¸‹æ¬¡å†è¯´ğŸ‘‹