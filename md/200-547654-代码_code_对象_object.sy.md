---
show: step
version: 1.0
enable_checker: true
---

# global å…¨å±€

## å›å¿†

- ä¸Šæ¬¡äº†è§£åˆ°å‡½æ•°å‚æ•°çš„ä¸€äº›ç»†èŠ‚
- å…¨å±€å˜é‡å’Œå‡½æ•°å±€éƒ¨å˜é‡åŒåæ—¶
	- åœ¨å‡½æ•°å†…éƒ¨
	- å±€éƒ¨å˜é‡ä¼šå±è”½(shadow)å…¨å±€å˜é‡
- å¦‚æœæƒ³è¦åœ¨å‡½æ•°å†…éƒ¨è®¿é—®é‡åå…¨å±€å˜é‡
	- å¯ä»¥æŠŠåŒåå±€éƒ¨å˜é‡å£°æ˜ä¸ºglobal
- å‡½æ•°å†…éƒ¨å£°æ˜globalçš„å±€éƒ¨å˜é‡
	- ä¸ä¼šåœ¨å‡½æ•°ç»“æŸæ—¶æ¶ˆå¤±
	- è€Œæ˜¯ä¼šä½œä¸ºå…¨å±€å˜é‡å­˜åœ¨
- å‡½æ•°å†…éƒ¨æ²¡æœ‰å£°æ˜globalçš„å±€éƒ¨å˜é‡
	- åœ¨ä¸»ç¨‹åºéƒ¨åˆ†ä¸å¯è§
- ä¸»ç¨‹åºä¹Ÿæœ‰å˜é‡
- å­å‡½æ•°ä¹Ÿæœ‰å˜é‡
- åº”è¯¥å¦‚ä½•ç†è§£å‘¢ï¼ŸğŸ¤”

### ç®€å•å‡½æ•°

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661134641394)

- è¿è¡Œç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661134666872)

- funæ˜¯ä¸€ä¸ªå‡½æ•°(function)ç±»çš„å¯¹è±¡
- åœ°å€åœ¨å°¾å·8280çš„ä½ç½®
- é‚£è¿™ä¸ªå¯¹è±¡é‡Œé¢æœ‰ä»€ä¹ˆå±æ€§å‘¢ï¼Ÿ

### dir

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661134810182)

- è¿™é‡Œé¢æœ‰äº›å±æ€§å¥½åƒçœ‹å¾—æ‡‚
	- `__name__`
	- `__str__`

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661134816530)

- å»çœ‹çœ‹

### æŸ¥çœ‹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661135017729)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661135023735)

- `__name__` æ˜¯å‡½æ•°å¯¹è±¡çš„å‡½æ•°åå­—
- `__str__` æ˜¯å‡½æ•°å¯¹è±¡çš„å­—ç¬¦ä¸²è¾“å‡ºå½¢å¼
- è¿˜æœ‰ä¸ª `__globals__` ä»€ä¹ˆæ„æ€

### å…¨å±€(globals)å˜é‡

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661135295178)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661135304611)

- å¾—åˆ°çš„æ˜¯ä¸€ä¸ªå­—å…¸
- æˆ‘æ·»åŠ ä¸€äº›å˜é‡
- å†å»è§‚å¯Ÿ

### æŸ¥çœ‹å…¨å±€å˜é‡

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661135532568)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661135541483)

- å‡½æ•°çš„å…¨å±€å˜é‡ä¸­ç¡®å®å¯ä»¥æ‰¾åˆ°global_temp
- ä½†æ˜¯å±€éƒ¨å˜é‡local_tempå»å“ªé‡Œæ‰¾

### ä»£ç å¯¹è±¡

- dir(fun)çš„ç»“æœä¸­

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661136159176)

- æœ‰ä¸ªcodeå¯¹è±¡

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661135157250)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661135164356)

- ä»£ç å¯¹è±¡é‡Œé¢æœ‰äº›ä»€ä¹ˆå‘¢ï¼Ÿ

### è§‚å¯Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661136298789)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661136448419)

- è¿™éƒ½ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ
- å»æ‰‹å†Œé‚£é‡Œæœä¸€ä¸‹

### æ‰‹å†Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661136720506)

- æœ‰ä¸€ä¸ªinspectæ¨¡å—
- é‡Œé¢æœ‰å„ç§å±æ€§
- å°è¯•ç”¨å¯¼å…¥(import)

### å¯¼å…¥

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661137083043)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661137090550)

- ç»“æœæ˜¯ä¸€ä¸ªåˆ—è¡¨

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661137200676)

- å°è¯•åˆ†è¡Œè¾“å‡º

### åˆ†è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661137737276)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661137814542)

### æ‰‹å†Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661136720506)

- æ‰¾åˆ°é‡Œé¢å’Œå±€éƒ¨(local)å˜é‡ç›¸å…³çš„
- co_nlocals
- co_varnames

### æ˜¾ç¤º

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661138423928)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661138431780)

- æ­¤å‡½æ•°æœ‰ä¸€ä¸ªå±€éƒ¨å˜é‡
- å«åšlocal_temp
- å¦‚æœå†æ¥ä¸€ä¸ªå±€éƒ¨å˜é‡å‘¢ï¼Ÿ

### æ”¹å˜

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661138605618)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661138579728)

- ç¡®å®è·Ÿç€æ”¹å˜
- è¿˜å¯ä»¥æŸ¥çœ‹ä»€ä¹ˆå‘¢ï¼Ÿ

### å­—èŠ‚ç å’Œåæ±‡ç¼–

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661138909832)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220822-1661138917766)

- è¿™å°±æ˜¯è¿™ä¸ªå‡½æ•°å¯¹åº”çš„å­—èŠ‚ç 
- è¿˜æœ‰é€šè¿‡disæ‰¾åˆ°çš„å¯¹åº”çš„åæ±‡ç¼–
- å‡½æ•°å…¶å®æ˜¯å¯¹åº”ç€ä¸€ä¸ªcode object
- å„ç§ä¸œè¥¿éƒ½æ”¾åœ¨è¿™ä¸ªobjecté‡Œé¢

### æ€»ç»“
- å‡½æ•°(fun)æ˜¯ä¸€ä¸ªå¥—è·¯
	- ä½†æ˜¯è½å®åˆ°ä»£ç ä¸Šæ˜¯ä¸€ä¸ªå¯¹è±¡
	- è¿™ä¸ªfunå¯¹è±¡é‡Œé¢æœ‰ä¸ª`__code__`å¯¹è±¡
	- è¿™å°±æ˜¯code object
- code objecté‡Œé¢æœ‰è¿™ä¸ªå‡½æ•°çš„å„ç§ä¿¡æ¯
	- å‡½æ•°å
	- å†…éƒ¨å˜é‡æ•°é‡å’Œå…ƒç»„
	- å­—èŠ‚ç 
- æ—¢ç„¶å‡½æ•°æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¯¹è±¡
- é‚£ä¹ˆå¯ä»¥æŠŠå‡½æ•°ä½œä¸ºå®å‚æ¥ä¼ é€’ä¹ˆï¼ŸğŸ¤”
- æˆ‘ä»¬ä¸‹æ¬¡å†è¯´ğŸ‘‹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220827-1661588227276)

