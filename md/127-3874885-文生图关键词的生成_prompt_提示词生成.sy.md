---
show: step
version: 1.0
enable_checker: true
---

# å®éªŒæ ‡é¢˜

## å›å¿†

- ä¸Šæ¬¡äº†è§£äº†evalå‡½æ•°
	- æ ¹æ®æœ¬åœ°å’Œå…¨å±€çš„å˜é‡
	- å°† source 
	- è¡¡é‡ (evaluate)å‡ºæ¥

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20231227-1703684635657)

- è¦ç‰¹åˆ«æ³¨æ„ 
	- ç±»å strã€intã€list ä¸èƒ½ä½œä¸ºå˜é‡å
	- é‚£æ · ä¼š è¦†ç›–æ‰ ç±»
- å¦‚ä½• é€‰æ‹© åˆ—è¡¨é¡¹æ¥ç€ï¼ŸğŸ¤”

### åˆ¶ä½œæ–‡ç”Ÿå›¾å…³é”®è¯

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20250216-1739693071957)

### åˆ†æä»£ç 

```
import random

# è¥¿æ¸¸è®°äººç‰©åˆ—è¡¨
characters = ["å­™æ‚Ÿç©º", "å”åƒ§", "çŒªå…«æˆ’", "æ²™åƒ§", "è§‚éŸ³è©è¨", "ç‰çš‡å¤§å¸", "ç™½éª¨ç²¾", "ç‰›é­”ç‹"]
# è¥¿æ¸¸è®°åœºæ™¯åˆ—è¡¨
scenes = ["èŠ±æœå±±", "äº”è¡Œå±±ä¸‹", "é«˜è€åº„", "æµæ²™æ²³", "ç›˜ä¸æ´", "ç«ç„°å±±", "å¥³å„¿å›½", "é›·éŸ³å¯º"]
# åŠ¨ä½œæˆ–è¡¨æƒ…åˆ—è¡¨
actions = ["æŒ¥èˆæ‰‹ä¸­æ­¦å™¨", "åŒæ‰‹åˆåè¯µç»", "å¤§å£åƒé¦’å¤´", "æŒ‘ç€è¡Œæ", "é¢éœ²æ…ˆæ‚²", "æ­£è¥Ÿå±å", "éœ²å‡ºç‹¡é» çš„ç¬‘å®¹", "æ€’æ°”å†²å†²"]
# é•œå¤´æ™¯åˆ«åˆ—è¡¨
shot_types = [
    "ç‰¹å†™é•œå¤´ï¼ˆportraitï¼ˆè„¸ + è‚© + å¶å°”å†åŠ èƒ¸ï¼‰ï¼‰",
    "å…¨æ™¯ï¼ˆpanoramaï¼‰",
    "é£æ™¯é•œå¤´ï¼ˆè¿œæ™¯ï¼‰ï¼ˆlandscapeï¼‰",
    "å…¨æ™¯é•œå¤´ï¼ˆå¹¿è§’é•œå¤´ï¼‰ï¼ˆwide_shotï¼‰",
    "ä¸­æ™¯é•œå¤´ï¼ˆmedium_shotï¼‰",
    "ä¸­æ™¯é•œå¤´ï¼ˆmid_shotï¼‰",
    "å…¨èº«åƒï¼ˆfull_shotï¼‰",
    "åŠèº«åƒï¼ˆbustï¼‰",
    "ä¸ŠåŠèº«ï¼ˆupper_bodyï¼‰",
    "ä¸‹åŠèº«ï¼ˆlower_bodyï¼‰",
    "ä¸ŠåŠèº«+ä¸ŠåŠå¤§è…¿ï¼ˆç‰›ä»”é•œå¤´ï¼‰ï¼ˆcowboy_shotï¼‰",
    "ä¾§é¢è‚–åƒç”»ï¼ˆportraitçš„ä¾§è„¸ï¼‰ï¼ˆprofileï¼‰"
]

character = random.choice(characters)
scene = random.choice(scenes)
action = random.choice(actions)
shot_type = random.choice(shot_types)
# ç”Ÿæˆæç¤ºè¯­
prompt = f"{shot_type}ï¼Œ{character}åœ¨{scene} {action}"

# ç”Ÿæˆå¹¶æ‰“å°æç¤ºè¯­
print(prompt)
```

- ç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192241/uid1190679-20250216-1739693355284) 

- å¯ä»¥åšä¸ª æ›´å®ç”¨çš„ æ–‡ç”Ÿå›¾å…³é”®è¯ å·¥å…· å—ï¼Ÿ

### æ–‡ç”Ÿå›¾

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192241/uid1190679-20250305-1741180144944) 

- ç›®å‰è¿™ä¸ªæ˜¯çº¯çº¯çš„æ‰‹å·¥è¾“å…¥
	- æƒ³è¦ å¯ä»¥æœ‰äº›é€‰é¡¹

### é€‰é¡¹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/192241/uid1190679-20250305-1741180328314) 

```
# äººç‰©é€‰é¡¹
person_options = {
    1: "å¹´è½»ç”·æ€§",
    2: "å¹´è½»å¥³æ€§",
    3: "å„¿ç«¥",
    4: "è€äºº"
}

# èƒŒæ™¯é€‰é¡¹
background_options = {
    1: "æ£®æ—",
    2: "åŸå¸‚è¡—é“",
    3: "æµ·è¾¹",
    4: "å¤è€åŸå ¡"
}

# æ™¯åˆ«é€‰é¡¹
shot_type_options = {
    1: "ç‰¹å†™",
    2: "è¿‘æ™¯",
    3: "ä¸­æ™¯",
    4: "å…¨æ™¯",
    5: "è¿œæ™¯"
}

# å…‰çº¿é€‰é¡¹
light_direction_options = {
    1: "é¡ºå…‰",
    2: "é€†å…‰",
    3: "ä¾§å…‰"
}

# é•œå¤´è§’åº¦é€‰é¡¹
camera_angle_options = {
    1: "ä¿¯è§†",
    2: "ä»°è§†",
    3: "å¹³è§†"
}


# å±•ç¤ºäººç‰©é€‰é¡¹å¹¶è·å–é€‰æ‹©
print("è¯·é€‰æ‹©äººç‰©ï¼š")
for key, value in person_options.items():
    print(f"{key}. {value}")
person_choice = input("è¾“å…¥æ•°å­—é€‰æ‹©ï¼Œæˆ–è¾“å…¥å…·ä½“æè¿°: ")
if person_choice.isdigit():
    person = person_options[int(person_choice)]
else:
    person = person_choice

# å±•ç¤ºèƒŒæ™¯é€‰é¡¹å¹¶è·å–é€‰æ‹©
print("\nè¯·é€‰æ‹©èƒŒæ™¯ï¼š")
for key, value in background_options.items():
    print(f"{key}. {value}")
background_choice = input("è¾“å…¥æ•°å­—é€‰æ‹©ï¼Œæˆ–è¾“å…¥å…·ä½“æè¿°: ")
if background_choice.isdigit():
    background = background_options[int(background_choice)]
else:
    background = background_choice

# å±•ç¤ºæ™¯åˆ«é€‰é¡¹å¹¶è·å–é€‰æ‹©
print("\nè¯·é€‰æ‹©æ™¯åˆ«ï¼š")
for key, value in shot_type_options.items():
    print(f"{key}. {value}")
shot_type_choice = input("è¾“å…¥æ•°å­—é€‰æ‹©ï¼Œæˆ–è¾“å…¥å…·ä½“æè¿°: ")
if shot_type_choice.isdigit():
    shot_type = shot_type_options[int(shot_type_choice)]
else:
    shot_type = shot_type_choice

# å±•ç¤ºå…‰çº¿é€‰é¡¹å¹¶è·å–é€‰æ‹©
print("\nè¯·é€‰æ‹©å…‰çº¿é¡ºé€†æƒ…å†µï¼š")
for key, value in light_direction_options.items():
    print(f"{key}. {value}")
light_direction_choice = input("è¾“å…¥æ•°å­—é€‰æ‹©ï¼Œæˆ–è¾“å…¥å…·ä½“æè¿°: ")
if light_direction_choice.isdigit():
    light_direction = light_direction_options[int(light_direction_choice)]
else:
    light_direction = light_direction_choice

# å±•ç¤ºé•œå¤´è§’åº¦é€‰é¡¹å¹¶è·å–é€‰æ‹©
print("\nè¯·é€‰æ‹©é•œå¤´ä¿¯ä»°è§’åº¦ï¼š")
for key, value in camera_angle_options.items():
    print(f"{key}. {value}")
camera_angle_choice = input("è¾“å…¥æ•°å­—é€‰æ‹©ï¼Œæˆ–è¾“å…¥å…·ä½“æè¿°: ")
if camera_angle_choice.isdigit():
    camera_angle = camera_angle_options[int(camera_angle_choice)]
else:
    camera_angle = camera_angle_choice

# è·å–ç»˜ç”»é£æ ¼è¾“å…¥
art_style = input("\nè¯·è¾“å…¥ç»˜ç”»é£æ ¼ï¼ˆä¾‹å¦‚ï¼šå†™å®ã€å¡é€šã€æ²¹ç”»é£ç­‰ï¼‰ï¼š")

# ç”Ÿæˆæœ€ç»ˆçš„æç¤ºè¯
prompt = f"{person}ï¼ŒèƒŒæ™¯ä¸º{background}ï¼Œé‡‡ç”¨{shot_type}æ™¯åˆ«ï¼Œ{light_direction}å…‰ï¼Œ{camera_angle}è§†è§’ï¼Œ{art_style}ç»˜ç”»é£æ ¼ã€‚"

# è¾“å‡ºæœ€ç»ˆæç¤ºè¯
print("\nç”Ÿæˆçš„æç¤ºè¯ä¸ºï¼š")
print(prompt)
```

- é€‰é¡¹ éœ€è¦ å¢åŠ ä¸€é¡¹ 
	- ä¸å¡«å†™

### ä¿®æ”¹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/3874885/uid1190679-20250305-1741180844370) 

```
# äººç‰©é€‰é¡¹
person_options = {
    1: "å¹´è½»ç”·æ€§",
    2: "å¹´è½»å¥³æ€§",
    3: "å„¿ç«¥",
    4: "è€äºº",
    5: "ä¸å¡«"
}

# èƒŒæ™¯é€‰é¡¹
background_options = {
    1: "æ£®æ—",
    2: "åŸå¸‚è¡—é“",
    3: "æµ·è¾¹",
    4: "å¤è€åŸå ¡",
    5: "ä¸å¡«"
}

# æ™¯åˆ«é€‰é¡¹
shot_type_options = {
    1: "ç‰¹å†™",
    2: "è¿‘æ™¯",
    3: "ä¸­æ™¯",
    4: "å…¨æ™¯",
    5: "è¿œæ™¯",
    6: "ä¸å¡«"
}

# å…‰çº¿é€‰é¡¹
light_direction_options = {
    1: "é¡ºå…‰",
    2: "é€†å…‰",
    3: "ä¾§å…‰",
    4: "ä¸å¡«"
}

# é•œå¤´è§’åº¦é€‰é¡¹
camera_angle_options = {
    1: "ä¿¯è§†",
    2: "ä»°è§†",
    3: "å¹³è§†",
    4: "ä¸å¡«"
}


# å±•ç¤ºäººç‰©é€‰é¡¹å¹¶è·å–é€‰æ‹©
print("è¯·é€‰æ‹©äººç‰©ï¼š")
for key, value in person_options.items():
    print(f"{key}. {value}")
person_choice = input("è¾“å…¥æ•°å­—é€‰æ‹©ï¼Œæˆ–è¾“å…¥å…·ä½“æè¿°: ")
if person_choice.isdigit():
    if int(person_choice) == len(person_options):
        person = ""
    else:
        person = person_options[int(person_choice)]
else:
    person = person_choice

# å±•ç¤ºèƒŒæ™¯é€‰é¡¹å¹¶è·å–é€‰æ‹©
print("\nè¯·é€‰æ‹©èƒŒæ™¯ï¼š")
for key, value in background_options.items():
    print(f"{key}. {value}")
background_choice = input("è¾“å…¥æ•°å­—é€‰æ‹©ï¼Œæˆ–è¾“å…¥å…·ä½“æè¿°: ")
if background_choice.isdigit():
    if int(background_choice) == len(background_options):
        background = ""
    else:
        background = background_options[int(background_choice)]
else:
    background = background_choice

# å±•ç¤ºæ™¯åˆ«é€‰é¡¹å¹¶è·å–é€‰æ‹©
print("\nè¯·é€‰æ‹©æ™¯åˆ«ï¼š")
for key, value in shot_type_options.items():
    print(f"{key}. {value}")
shot_type_choice = input("è¾“å…¥æ•°å­—é€‰æ‹©ï¼Œæˆ–è¾“å…¥å…·ä½“æè¿°: ")
if shot_type_choice.isdigit():
    if int(shot_type_choice) == len(shot_type_options):
        shot_type = ""
    else:
        shot_type = shot_type_options[int(shot_type_choice)]
else:
    shot_type = shot_type_choice

# å±•ç¤ºå…‰çº¿é€‰é¡¹å¹¶è·å–é€‰æ‹©
print("\nè¯·é€‰æ‹©å…‰çº¿é¡ºé€†æƒ…å†µï¼š")
for key, value in light_direction_options.items():
    print(f"{key}. {value}")
light_direction_choice = input("è¾“å…¥æ•°å­—é€‰æ‹©ï¼Œæˆ–è¾“å…¥å…·ä½“æè¿°: ")
if light_direction_choice.isdigit():
    if int(light_direction_choice) == len(light_direction_options):
        light_direction = ""
    else:
        light_direction = light_direction_options[int(light_direction_choice)]
else:
    light_direction = light_direction_choice

# å±•ç¤ºé•œå¤´è§’åº¦é€‰é¡¹å¹¶è·å–é€‰æ‹©
print("\nè¯·é€‰æ‹©é•œå¤´ä¿¯ä»°è§’åº¦ï¼š")
for key, value in camera_angle_options.items():
    print(f"{key}. {value}")
camera_angle_choice = input("è¾“å…¥æ•°å­—é€‰æ‹©ï¼Œæˆ–è¾“å…¥å…·ä½“æè¿°: ")
if camera_angle_choice.isdigit():
    if int(camera_angle_choice) == len(camera_angle_options):
        camera_angle = ""
    else:
        camera_angle = camera_angle_options[int(camera_angle_choice)]
else:
    camera_angle = camera_angle_choice

# è·å–ç»˜ç”»é£æ ¼è¾“å…¥
art_style = input("\nè¯·è¾“å…¥ç»˜ç”»é£æ ¼ï¼ˆä¾‹å¦‚ï¼šå†™å®ã€å¡é€šã€æ²¹ç”»é£ç­‰ï¼‰ï¼š")

# ç”Ÿæˆæœ€ç»ˆçš„æç¤ºè¯
prompt_parts = []
if person:
    prompt_parts.append(person)
if background:
    prompt_parts.append(f"èƒŒæ™¯ä¸º{background}")
if shot_type:
    prompt_parts.append(f"é‡‡ç”¨{shot_type}æ™¯åˆ«")
if light_direction:
    prompt_parts.append(f"{light_direction}å…‰")
if camera_angle:
    prompt_parts.append(f"{camera_angle}è§†è§’")
if art_style:
    prompt_parts.append(f"{art_style}ç»˜ç”»é£æ ¼")

prompt = "ï¼Œ".join(prompt_parts)

# è¾“å‡ºæœ€ç»ˆæç¤ºè¯
print("\nç”Ÿæˆçš„æç¤ºè¯ä¸ºï¼š")
print(prompt)
```

### æ€»ç»“

- è¿™æ¬¡äº†è§£äº† æ–‡ç”Ÿå›¾ æç¤ºè¯ ç¨‹åº
- è¿˜æœ‰ä»€ä¹ˆå¥½ç© å®ç”¨ çš„ ä¾‹å­å—ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ ğŸ‘‹
