---
show: step
version: 1.0
enable_checker: true
---

# äºŒè¿›åˆ¶æ¨¡å¼

## å›å¿†

- ä¸Šæ¬¡äº†è§£äº† close
	- å†™äº† æ–‡ä»¶ä¹‹å 
	- éœ€è¦ å…³é—­æ–‡ä»¶

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20240219-1708327664822)

- è®¡ç®—æœºä¸­ä¸éƒ½æ˜¯ä½¿ç”¨äºŒè¿›åˆ¶å—ï¼Ÿ
- å¯ä»¥ç”¨äºŒè¿›åˆ¶çš„æ–¹å¼è¯»å†™æ–‡ä»¶å—ï¼ŸğŸ¤”

### mode

- mode æ¨¡å¼è®¾ç½®ä¸º rb
  - r - read - è¯»
  - b - binary - äºŒè¿›åˆ¶ å’Œ text æ–‡æœ¬ç›¸å¯¹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210823-1629704619215)

- è¿™æ ·æµå¤´å°±å¯ä»¥è‡ªç”±åœ°ç›¸å¯¹è¿åŠ¨äº†
- è¿”å›å€¼å˜æˆäº†å­—èŠ‚æµ
  - b"222\n"
- whence é™¤äº†ç›¸å¯¹äºå¤´ã€ç›¸å¯¹äºå½“å‰
- è¿˜æœ‰ä¸€ç§ç›¸å¯¹äºå°¾çš„æ¨¡å¼
- æ€ä¹ˆç”¨å‘¢ï¼Ÿ

#### seek

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210823-1629704866829)

- whence = 2 æ˜¯ä»å°¾éƒ¨è®¡ç®—
- -3 å°±æ˜¯å€’æ•°ç¬¬ 3 ä¸ªå­—ç¬¦
- è¿”å›å€¼ä¹Ÿæ˜¯å­—èŠ‚æµ

### å¯ä»¥ç”¨äºŒè¿›åˆ¶å†™ä¹ˆ

- å…ˆæŸ¥ä¸€ä¸‹å¸®åŠ©

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210823-1629705072165)

- åˆ¤æ–­å¦‚æœè¦"wb"çš„è¯å°±ä¼š truncate åŸå§‹æ–‡ä»¶
- è™½è¯´å¦‚æ­¤
- æˆ‘è¿˜æ˜¯æƒ³è¯•è¯•

#### wb

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210823-1629705293478)

- ç”¨äºŒè¿›åˆ¶å†™æ¨¡å¼æ‰“å¼€æ–‡ä»¶
- å¯æƒ³è€ŒçŸ¥
	- åŸå§‹æ–‡ä»¶è¿˜åœ¨
	- ä½†é‡Œé¢å†…å®¹æ²¡äº†
	- å†™æ¨¡å¼ä¸èƒ½è¯»
- äºŒè¿›åˆ¶å†™çš„æ—¶å€™ä¸èƒ½ç›´æ¥å†™å­—ç¬¦ä¸²
	- è€Œéœ€è¦å†™äºŒè¿›åˆ¶å­—èŠ‚æµ
- å†™å®Œäº†
	- æˆ‘æƒ³è¯»å‡ºæ¥

### è¯»æ¨¡å¼

- æ‰“å¼€æ¨¡å¼è‚¯å®šä¸èƒ½æ˜¯å†™æ¨¡å¼
- ä¸€å†™å°±æŠŠåŸæ¥çš„éƒ½æ¸…ç©ºäº†
- ç”¨é»˜è®¤çš„ r

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210823-1629705667613)

- å¯ä»¥çœ‹åˆ°åŸæ¥çš„ 3 çš„ä½ç½®
- ç¬¬ä¸€ä¸ªå­—èŠ‚çš„ä½ç½®ä¸º 0
- ç„¶åæ˜¯ 1ï¼Œ2ï¼Œ3
- `111\n222\n333`
- ä»ç¬¬ä¸€ä¸ª`\n`
- å¼€å§‹é‡å†™
- å†™äº† 3 ä¸ª a

### è§‚å¯Ÿæ–‡ä»¶

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210823-1629705916773)

- è¯»å†™æˆåŠŸ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210823-1629705979223)

- å¦‚æœoeasy.txtä¸­æœ‰éasciiå­—ç¬¦
	- æƒ…å†µä¼šå¦‚ä½•å‘¢ï¼Ÿ

### æ„å»ºæ–‡ä»¶

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230628-1687959863614)

- ç»†è‡´è§‚å¯Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230628-1687960135059)

- äºŒè¿›åˆ¶çŠ¶æ€

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230628-1687960191106)

- å¯ä»¥ç”¨pythonæ‰“å¼€è¿™ä¸ªæ–‡ä»¶å—ï¼Ÿ

### æ‰“å¼€æ–‡ä»¶

```
f = open("ch.py","rb")
bytes_file = f.read()
print(bytes_file)
```

- è¿è¡Œç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230628-1687960583075)

- ç”¨ä»€ä¹ˆè§£ç å‘¢ï¼Ÿ

### è§£ç 

```
f = open("ch.py","rb")
bytes_file = f.read()
str_file = bytes_file.decode("utf-8")
print(str_file)
```

- è¿è¡Œç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230628-1687960782340)

- è§£ç æˆåŠŸ
- å¦‚æœæŒ‰ç…§gb2312æ¨¡å¼è§£ç 
- ä¼šå¦‚ä½•å‘¢ï¼Ÿ

### é”™è¯¯çš„è§£ç æ–¹å¼

```
f = open("ch.py","rb")
bytes_file = f.read()
str_file = bytes_file.decode("gb2312")
print(str_file)
```

- è¿è¡Œç»“æœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20230628-1687960891754)

- è§£é“ƒè¿˜é¡»ç³»é“ƒäºº
- è§£ç æ–¹å¼ä¸€å®šè¦é€‰å¯¹
- é»˜è®¤çš„utf-8å°±å¾ˆå¥½ç”¨

### æ€»ç»“

- è¿™æ¬¡æˆ‘ä»¬ç”¨äºŒè¿›åˆ¶å†™äº†æ–‡ä»¶
- å†™çš„æ—¶å€™ä¹Ÿå¯ä»¥ seek è°ƒæ•´æµæ–‡ä»¶å¤´
- è¿™äºŒè¿›åˆ¶å†™(wb)å’Œå­—ç¬¦å†™(wt)å¥½åƒä¹Ÿå·®ä¸å¤š
- ä¸ºä»€ä¹ˆè¦æœ‰è¿™ä¹ˆä¸€ä¸ªäºŒè¿›åˆ¶å†™çš„æ–¹å¼å‘¢ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ ğŸ‘‹
