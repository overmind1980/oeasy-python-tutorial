---
show: step
version: 1.0
enable_checker: true
---

# ç‰›è¯´(cowsay)

## å›å¿†ä¸Šæ¬¡å†…å®¹

- ä¸Šæ¬¡æˆ‘ä»¬ç ”ç©¶äº†shellè„šæœ¬çš„ç¼–ç¨‹
- å¹¶ä¸”åœ¨shellä¸­å®ç°äº†
	- å¾ªç¯è¯­å¥
	- å»¶è¿Ÿå‘½ä»¤
	- æ¸…å±å‘½ä»¤
	- pythonå‘½ä»¤
	- figletå‘½ä»¤

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220211-1644585817010)


- è¿˜èƒ½æ•´ç‚¹ä»€ä¹ˆå‘¢ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ğŸ‘‹

- æƒ³è¦è®©ç®¡é“å†æµåˆ°cowsay

### cowsay

- é¦–å…ˆè¦å®‰è£… cowsay

```bash
sudo apt install cowsay
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614993917284)

- è£…å®Œä¹‹å
	- cow å°±å¯ä»¥ say äº†
	- æ€ä¹ˆsayå‘¢ï¼Ÿ

### åˆ©ç”¨ç®¡é“

- åˆ©ç”¨ç®¡é“say

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614993957714)

### ç®¡é“åŸç†

![Image text](https://labfile.oss.aliyuncs.com/courses/2712/pipe.png)

### æŠŠ cowsay æ•´åˆè¿›æ¥

```bash
for a in {1..10}
do
	clear
	python3 sleep.py | figlet ï½œcowsay -f moose -n
	sleep 1s
done
```

- æŠŠfigletçš„è¾“å‡ºç»“æœå†é€åˆ°cowsay -f moose -n
	- å…¶å®å°±æ˜¯ä¸€æ­¥æ­¥é€šè¿‡ç®¡é“æµæ·Œçš„è¿‡ç¨‹
	- çœ‹èµ·æ¥æœ‰ç‚¹å¤æ‚
		- -f moose 
			- ä½¿ç”¨é©¼é¹¿
		- -n ä¿ç•™è½¬ä¹‰å­—ç¬¦`\n`

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614994076733)

- æˆ‘æ€ä¹ˆå»äº†è§£è¿™äº›å¥½ç©çš„ä¸œè¥¿å‘¢ï¼Ÿ

### æ¨è

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220826-1661470335359)

- [oeasyæ•™æ‚¨ç©è½¬linux](https://www.lanqiao.cn/courses/2712)
- ä¹Ÿåœ¨è“æ¡¥äº‘è¯¾
- æœ‰ç©ºå¯ä»¥å»ç©
- å¯ä»¥æ¥ç‚¹æ›´å¥½ç©ä¸€ç‚¹å—ï¼ŸğŸ˜„

### å½©è‰²æ•ˆæœ

```bash
#å®‰è£…å½©è‰²ç¨‹åº
sudo apt install lolcat
#å®éªŒ
echo oeasy | lolcat
```

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210812-1628752380278)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210812-1628752388506)

- æœ‰çš„æ—¶å€™ä¼šå› ä¸ºå®½åº¦é—®é¢˜
- æ„Ÿè§‰å¾ˆä¹±
- æˆ‘æƒ³æŠŠæ—¶é—´ç®€åŒ–ä¸ºæ—¶åˆ†ç§’

### æ•´åˆæ—¶é—´

- è¾“å‡ºæ—¶é—´å¤ªé•¿
- å…¶å®æˆ‘åªæƒ³è¾“å‡ºæ—¶åˆ†ç§’

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210306-1614994224934)

- è¿™ä¸ªå°±å¾—ä¿®æ”¹æœ€åˆçš„ç”Ÿæˆæ—¶é—´çš„æºå¤´
- ä¿®æ”¹ sleep.py æ–‡ä»¶

### sleep.py

```python
#!/usr/bin/python3
import time
localtime = time.strftime(' %H:%M:%S',time.localtime())
print(localtime,end="")
```

- è¿™ä¸ªä¸œè¥¿åº”è¯¥å¦‚ä½•ç†è§£å‘¢ï¼Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220331-1648711364409)

### å…·ä½“ç†è§£

- strftime å‡½æ•°
  - str æ˜¯å­—ç¬¦ä¸² string çš„æ„æ€
  - f æ˜¯ format
  - ä»–æŠŠä¸€ä¸ª time.localtime() æ ¼å¼åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²
  - ä¹Ÿå¯ä»¥æŠŠå½“å‰æ—¶é—´å½“åšç¼ºçœå‚æ•°

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220331-1648711485748)


```python
#!/usr/bin/python3
import time
print(time.strftime('%H:%M:%S'),end="")
```

- æ ¼å¼å¦‚ä½•ç†è§£å‘¢ï¼Ÿ

### ç†è§£æ ¼å¼

- æ ¼å¼åŒ–æˆä»€ä¹ˆæ ¼å¼å‘¢ï¼Ÿ
	- æ ¼å¼åŒ–æˆ ` %H:%M:%S` è¿™ä¸ªæ ¼å¼
	- è¿™ä¸ªæ ¼å¼é€‰å–äº†ä¸‰ä¸ªæ—¶é—´å…ƒç»„é¡¹
		- %Hæ˜¯å°æ—¶
		- %Mæ˜¯åˆ†é’Ÿ
		- %Sæ˜¯ç§’é’Ÿ
		- ä¸­é—´ç”¨:åˆ†å‰²

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220331-1648711587529)

- è¯•éªŒèµ°èµ·æ¥

### ç›´æ¥è¿è¡Œ sh

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220408-1649377873706)

- è¿™ä¸¤ä¸ªæ­é…èµ·æ¥ç¡®å®å¯ä»¥è¿è¡Œäº†ï¼
- æ•ˆæœè¿˜è¡Œ

### æ•ˆæœ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20210812-1628752817259)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220408-1649378017159)
- å“ˆå“ˆ ç«é¸¡turkeyä¹Ÿèƒ½è¯´è¯
- ä½†æ˜¯æˆ‘æƒ³ç›´æ¥è¿è¡Œ loop.sh å¯ä»¥ä¹ˆï¼Ÿ
	- è€Œä¸æ˜¯`sh loop.sh`å¯ä»¥ä¹ˆï¼Ÿ

### ç›´æ¥è¿è¡Œ

- ç›´æ¥è¿è¡Œçš„è¯
- `loop.sh`æ²¡æœ‰æ‰§è¡Œæƒé™
- ç»™ä»–ææƒ
  - chmod æ”¹å˜æ¨¡å¼
  - u+x ç»™å½“å‰ç”¨æˆ·å¢åŠ æ‰§è¡Œæƒé™

```shell
chmod u+x loop.sh
./loop.sh
```

- ç„¶åå†è¿è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220211-1644585241380)

- ç»¿è‰²è¯´æ˜å¯ä»¥è¿è¡Œäº†
- ä¸è¿‡å‰é¢è¿˜æ˜¯éœ€è¦å½“å‰è·¯å¾„`./`
- å¦‚æœå°±æƒ³è¦`loop.sh` ä¸è¦å½“å‰è·¯å¾„`./` å°±ç›´æ¥è¿è¡Œå‘¢ï¼Ÿ

### è®¾ç½®è·¯å¾„

```
export PATH=$PATH
```

- æ³¨æ„$çš„ä½ç½®
	- å‰é¢çš„æ˜¯`PATH`æ²¡æœ‰$
	- åé¢çš„`$PATH`æœ‰$ 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220211-1644586410528)

- è¿™æ ·å°±å¯ä»¥ç›´æ¥è¿è¡Œäº†
- ä¸è¿‡å¦‚æœå…³äº†å½“å‰çš„shell
- è¿˜æ˜¯ä¸èƒ½ç›´æ¥è¿è¡Œ
- æ€ä¹ˆåŠæ¥ç€ï¼Ÿ

### ~/.zshrc

- ç¼–è¾‘å½“å‰zshçš„é…ç½®æ–‡ä»¶ ~/.zshrc
- æ¯æ¬¡è¿›å…¥zshéƒ½ä¼šæ‰§è¡Œè¿™ä¸ªé…ç½®æ–‡ä»¶çš„

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220211-1644586721011)

- è¿™æ ·é‡å¼€ä¸€ä¸ªshell
- è¿˜æ˜¯å¯ä»¥ç›´æ¥è¿è¡Œloop.sh
- è·³å‡ºå¾ªç¯å¯ä»¥ç”¨<kbd>ctrl</kbd>+<kbd>c</kbd>
- æŠŠå¾ªç¯æ”¾åˆ°åå°ç”¨<kbd>ctrl</kbd>+<kbd>z</kbd>

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20220211-1644586816899)

- è¿™å°±æ˜¯æˆ‘ä»¬ä¹‹å‰éƒ½æ¥è§¦è¿‡çš„å†…å®¹äº†ï¼
- å•Š~ç»ˆäºå®Œæˆäº†
- ä¸å®¹æ˜“ï¼ï¼ï¼
- æ¥æ€»ç»“å§ï¼

## æ€»ç»“

- æˆ‘ä»¬ç‹‚é£™äº†ä¸€è·¯
  - ä»ç”¨ shell ç›´æ¥æ‰§è¡Œ python ç¨‹åº
  - åˆ°ç”¨ shell å¾ªç¯æ‰§è¡Œ python ç¨‹åº
- å¾ªç¯ä½“ä¸­
  - æŠŠ python çš„è¾“å‡ºç»“æœç”¨ç®¡é“äº¤ç»™äº† figlet ç¨‹åº
  - æŠŠ figlet è¾“å‡ºçš„ç»“æœç”¨ç®¡é“ç»™äº† cowsay
  - æŠŠ cowsay çš„ç»“æœç»™äº† lolcat
- æœ€åæ˜¯ææƒç›´æ¥è¿è¡Œç¨‹åº
- è¿™ä¸€è·¯çœŸçš„å¥½è¿œå•Š
	- python3 æ˜¯è„šæœ¬è§£é‡Šå™¨
	- shell ä¹Ÿæ˜¯è„šæœ¬è§£é‡Šå™¨
	- å…¶å®æˆ‘ä»¬æ˜¯åœ¨ shell ä¸­åˆ©ç”¨ python3 çš„è¾“å‡ºç»“æœ
		- ç”¨ shell æŠŠ python çš„ç²˜äº†èµ·æ¥ 
		- åˆ†æ—¶è¾“å‡ºçš„ 
	- ä¸è¿‡è¿™ä¸€è·¯çœŸçš„å¥½ç»•
		- å¦‚æœèƒ½ç”¨ python ç›´æ¥è°ƒç”¨ shell å°±å¥½äº†
		- é‚£ä¸ªæ—¶å€™ python å°±æˆäº†èƒ¶æ°´çš„ä¸»ä½“
		- å®Œæˆç²˜åˆçš„å·¥ä½œ
	- ä¹Ÿè®¸æœ‰ä¸€å¤©å¯ä»¥åšåˆ°
- æˆ‘ä»¬å›å¿†ä¸€ä¸‹æˆ‘ä»¬æœ€å¼€å§‹æ—¶
- å›åˆ°æœ¬è¡Œæœ€åˆçš„æ–¹æ³•
  - print("\r"+localtime)
  - `\r` ä¸ `\n` ä¸åŒ
- ä»å«ä¹‰ä¸Šæ¥çœ‹
  - `\n` - LF - LineFeed - æ¢è¡Œ
  - `\r` - CR - CarriageReturn - å›è½¦
- æ¢è¡Œå’Œå›è½¦æœ‰ä»€ä¹ˆä¸åŒå—ï¼ŸğŸ¤”
- æˆ‘ä»¬ä¸‹æ¬¡å†è¯´ç¨‹åºï¼ğŸ‘‹
