---
show: step
version: 1.0
enable_checker: true
---

#  å›ç¯è¯—_æ—‹å¾‹æ¨¡è¿›_å¼€å—“éŸ³é¢‘ç”Ÿæˆ_sequence 

## å›å¿†

- ä¸Šæ¬¡ ç»ˆäºç”Ÿæˆäº† å‡åˆ° HighC çš„ å¼€å—“mid

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4074186/uid1190679-20250508-1746715111334) 

- æœ‰ç‚¹åƒ éª¨ç‰Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4079042/uid1190679-20250514-1747185453953) 

- æ–‡å­— ä¹Ÿå¯ä»¥ å±‚å±‚é€’è¿› å—ï¼Ÿ

### å›ç¯

- äº”ä¸ªå­—ç»„æˆå­—ç¬¦ä¸²
	- å¾ªç¯èµ·æ¥

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/83396/uid1190679-20250404-1743753818843) 

- å¯ä»¥ æ¥ä¸ª ä¸ƒè¨€ çš„ å—ï¼Ÿ

### å›åœœæ–‡

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/744319/uid1190679-20250402-1743602908475) 

### å‰åæœ‰é‡å 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/83396/uid1190679-20250404-1743752501887) 

- å¯ä»¥ç”¨åˆ‡ç‰‡çš„æ–¹æ³• 
	- å¾—åˆ° è¿™é¦–è¯— å—ï¼Ÿ

```
poem = "èµèŠ±å½’å»é©¬å¦‚é£é…’åŠ›å¾®é†’æ—¶å·²æš®èµèŠ±å½’"
```

### pythonè§’åº¦ç†è§£

```
poem[0:7]
poem[3:10]
poem[7:14]
poem[10:18]
```
- é—´è·å¹¶ä¸ç›¸ç­‰

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/83396/uid1190679-20250404-1743738655242) 

- èµèŠ±å½’ å‡ºç°äº† 2æ¬¡
	- å¯ä»¥åªå‡ºç° 1æ¬¡ å—ï¼Ÿ

```
poem = "èµèŠ±å½’å»é©¬å¦‚é£é…’åŠ›å¾®é†’æ—¶å·²æš®"
```

### å†å‹ç¼©

```
poem[0:7]
poem[3:10]
poem[7:14]
poem[10:] + poem[:3]
```

- å‹ç¼©æˆåŠŸ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/83396/uid1190679-20250404-1743751079598) 

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20250404-1743752909706)

### å›åœœé“

```
poem = "å¤©é¦™è¡æ°´åŠ¨å¿ƒè²åˆæ¢¦ç¼˜"
```

- åº”è¯¥å¦‚ä½•æå–åˆ‡ç‰‡å‘¢ï¼Ÿ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/744319/uid1190679-20250402-1743602823632) 

- è¿™æœ‰å•¥ åº”ç”¨åœºæ™¯å—ï¼Ÿ

### æ€»ç»“ä¼š

- ç”¨ ç”Ÿæˆ å›ç¯è¯— æ€»ç»“
	- æ¯” å“ªäº› é‚£aiç”Ÿæˆ é¡ºå£æºœçš„
	- é«˜çº§å¤šäº†

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4074186/uid1190679-20250510-1746849822878) 

- æ€ä¹ˆç”Ÿæˆå‘¢ï¼Ÿ

### ç”Ÿæˆå›ç¯æ–‡

- å›ç¯æ–‡

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4074186/uid1190679-20250510-1746850034037/wm) 

- å†å²ä¸Š 
	- è°å†™å›æ–‡è¯—æ¯”è¾ƒå‡ºåå‘¢ï¼Ÿ

### è‹ä¸œå¡

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/83396/uid1190679-20250403-1743690578855) 

- è‹ä¸œå¡ æ¨¡ä»¿è°çš„å‘¢ï¼Ÿ

### è‹æ…§
- å‰ç§¦æ—¶æœŸæ‰å¥³ è‹è•™æ‰€ä½œ
	- çª¦æ»” èµ´ä»»è¥„é˜³ å¸¦å°å¦¾ 
	- æ­£å¦» è‹è•™ ä¸é«˜å…´ æ‹’ç»åŒè¡Œ


- ç‹¬å®ˆç©ºæˆ¿ 
	- å°†ç’‡ç‘å›¾ç»‡äºé”¦ç¼ä¹‹ä¸Š
	- å¯„äºˆå…¶å¤«

### ç’‡ç‘å›¾

- å…«ç™¾å››åä¸€å­—
	- çºµæ¨ªå„äºŒåä¹å­—
	- çºµã€æ¨ªã€æ–œã€äº¤äº’ã€æ­£ã€åè¯»æˆ–é€€ä¸€å­—ã€è¿­ä¸€å­—è¯»å‡å¯æˆè¯—

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/83396/uid1190679-20250404-1743751369789) 

- è¯—æœ‰ä¸‰ã€å››ã€äº”ã€å…­ã€ä¸ƒè¨€ä¸ç­‰
	- å…±æœ‰ä¸€åƒå¤šç§æˆè¯—æ–¹æ³•

- å…¶ä»–è‰ºæœ¯å½¢å¼ä¹Ÿæœ‰ç±»ä¼¼çš„å—ï¼Ÿ


### ç›¸å£°

- ç»•å£ä»¤
	- å…ƒç´ çš„é‡å¤ 
	- æ’åˆ—ç»„åˆ 
	- æ„æˆä¹è¶£

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/83396/uid1190679-20250404-1743769306528) 


### ä»å‰æœ‰åº§å±±

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/83396/uid1190679-20250408-1744083942592) 

- è¿˜æœ‰å—ï¼Ÿ

### ç”µå½±

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/83396/uid1190679-20250404-1743769485355) 

### åŠ¨ç”»ç”µå½±

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/83396/uid1190679-20250404-1743769946258) 

### æ¨¡è¿›

- éŸ³ä¹ä¸­çš„æ¨¡è¿›(sequence)

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4074186/uid1190679-20250505-1746400948720) 

- ä¸‹è¡ŒäºŒåº¦æ¨¡è¿›
	- Lower second sequence
	- åœ¨è°ƒå†… äºŒåº¦éŸ³ç¨‹å‘ä¸‹æ¨¡è¿›

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4074186/uid1190679-20250505-1746401461330) 

- èƒ½ç”¨ä»£ç å®ç°æ¨¡è¿›å—ï¼Ÿ

### æé—®ai

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4074186/uid1190679-20250504-1746368703846) 

### ä»£ç 

```
from mido import MidiFile, MidiTrack, MetaMessage, Message

def generate_sequence_midi(output_file="melody_sequence.mid"):
    mid = MidiFile()
    track = MidiTrack()
    mid.tracks.append(track)

    # è®¾ç½®é€Ÿåº¦ï¼ˆ120 BPMï¼‰
    track.append(MetaMessage('set_tempo', tempo=60000000 // 120, time=0))
    track.append(Message('program_change', program=0, time=0))  # é’¢ç´éŸ³è‰²

    ticks_per_beat = mid.ticks_per_beat  # è·å– MIDI æ—¶å€¼å•ä½ï¼ˆticks/æ‹ï¼‰
    quarter_note = ticks_per_beat        # å››åˆ†éŸ³ç¬¦æ—¶å€¼

    # å®šä¹‰åŸå§‹åŠ¨æœºï¼ˆCå¤§è°ƒï¼Œ4ä¸ªå››åˆ†éŸ³ç¬¦ï¼‰
    original_motif = [60, 62, 64, 65, 67, 69, 71] 

    # ç”Ÿæˆæ¨¡è¿›ç‰‡æ®µï¼ˆå¤§äºŒåº¦ä¸‹è¡Œï¼Œå…±3ç»„ï¼‰
    for i in range(0, 4):
        print(original_motif[3-i:7-i][::-1])
        for pitch in original_motif[3-i:7-i][::-1]:
            new_pitch = pitch
            # éŸ³ç¬¦å¼€å¯ï¼ˆåŠ›åº¦64ï¼‰
            track.append(Message('note_on', note=new_pitch, velocity=64, time=0))
            # éŸ³ç¬¦å…³é—­ï¼ˆæŒç»­1æ‹ï¼‰
            track.append(Message('note_off', note=new_pitch, velocity=64, time=quarter_note))

    mid.save(output_file)
    print(f"å·²ç”Ÿæˆ MIDI æ–‡ä»¶ï¼š{output_file}")

if __name__ == "__main__":
    generate_sequence_midi()
```

- è¾“å‡º éŸ³é«˜åˆ—è¡¨

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4074186/uid1190679-20250505-1746451695835)

- å¯ä»¥ æŠŠæ—‹å¾‹ å¯è§†åŒ– å—ï¼Ÿ

### æ—‹å¾‹å¯è§†åŒ–

- è§„å¾‹ä¹‹ä¸­ æœ‰å˜åŒ–
	- å˜åŒ–ä¹‹ä¸­ æœ‰è§„å¾‹

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4074186/uid1190679-20250506-1746536200727) 

- è¿™ä¸ªè§„å¾‹ æœ‰åå­—å—ï¼Ÿ

### æœ€ç»ˆæ•ˆæœ

- è¿™æ˜¯ å¤§è°ƒæ¨¡è¿›
	- åŸå§‹åŠ¨æœº å®Œå…¨æ˜¯ ä¸‹è¡Œçš„
	- åºåˆ— ä¹Ÿå®Œå…¨æ˜¯ ä¸‹è¡Œ
	- éå¸¸ å“€ä¼¤

- æ¯ä¸ªéŸ³ç¬¦ `éƒ½`è½åœ¨ ç™½é”® ä¸Š
	- å±äº è°ƒå†…æ¨¡è¿›

- éŸ³ç¬¦ æœ€å è½åœ¨ cä¸Š
	- æ‰€æœ‰éŸ³ç¬¦ éƒ½å±äº cå¤§è°ƒéŸ³é˜¶
	- æ—‹å¾‹è°ƒå¼ æ˜¯ cå¤§è°ƒ

- ç»¼åˆèµ·æ¥å°±æ˜¯
	- cå¤§è°ƒ ä¸‹è¡Œ è°ƒå†… æ¨¡è¿›

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4074186/uid1190679-20250505-1746451641685) 

- æŒæ¡äº† è¿™ä¸ª åè¯ 
	- å°±å¯ä»¥ è®©aiåˆ©ç”¨è¿™ä¸ªè§„å¾‹ 
	- åˆ›å»º py å½¢æˆ è¿™ç±»çš„mid

### æ€»ç»“ğŸ¤”

- è¿™æ¬¡ç ”ç©¶äº† å›ç¯æ–‡
	- ç»•åœˆè¯» ä¸­é—´æœ‰ é‡å çš„ æ–‡å­—

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/uid1190679-20250404-1743752909706)

- è¿˜ç ”ç©¶äº† æ¨¡è¿›
	- å¯ä»¥è®© åŠ¨æœºé‡å¤ 
	- å¹¶ä¸” ä¸Šè¡Œæˆ–ä¸‹è¡Œ

![å›¾ç‰‡æè¿°](https://doc.shiyanlou.com/courses/3584/labs/4074186/uid1190679-20250505-1746451641685) 

- æœ‰ ä»€ä¹ˆ `å…·ä½“æ­Œæ›²` æ˜¯ æ¨¡è¿›çš„ å—ï¼ŸğŸ¤”
- ä¸‹æ¬¡å†è¯´ ğŸ‘‹
